(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function BT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Gm={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function lR(){if(b0)return Ql;b0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Ql.Fragment=e,Ql.jsx=t,Ql.jsxs=t,Ql}var w0;function uR(){return w0||(w0=1,Gm.exports=lR()),Gm.exports}var S=uR(),Km={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function cR(){if(A0)return xe;A0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,L={};function O(M,ie,ue){this.props=M,this.context=ie,this.refs=L,this.updater=ue||C}O.prototype.isReactComponent={},O.prototype.setState=function(M,ie){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ie,"setState")},O.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function F(){}F.prototype=O.prototype;function X(M,ie,ue){this.props=M,this.context=ie,this.refs=L,this.updater=ue||C}var re=X.prototype=new F;re.constructor=X,I(re,O.prototype),re.isPureReactComponent=!0;var ce=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},pe=Object.prototype.hasOwnProperty;function P(M,ie,ue,se,ve,De){return ue=De.ref,{$$typeof:r,type:M,key:ie,ref:ue!==void 0?ue:null,props:De}}function R(M,ie){return P(M.type,ie,void 0,void 0,void 0,M.props)}function x(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function V(M){var ie={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ue){return ie[ue]})}var U=/\/+/g;function B(M,ie){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):ie.toString(36)}function D(){}function ye(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(ie){M.status==="pending"&&(M.status="fulfilled",M.value=ie)},function(ie){M.status==="pending"&&(M.status="rejected",M.reason=ie)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Me(M,ie,ue,se,ve){var De=typeof M;(De==="undefined"||De==="boolean")&&(M=null);var Se=!1;if(M===null)Se=!0;else switch(De){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(M.$$typeof){case r:case e:Se=!0;break;case _:return Se=M._init,Me(Se(M._payload),ie,ue,se,ve)}}if(Se)return ve=ve(M),Se=se===""?"."+B(M,0):se,ce(ve)?(ue="",Se!=null&&(ue=Se.replace(U,"$&/")+"/"),Me(ve,ie,ue,"",function(sr){return sr})):ve!=null&&(x(ve)&&(ve=R(ve,ue+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(U,"$&/")+"/")+Se)),ie.push(ve)),1;Se=0;var Dt=se===""?".":se+":";if(ce(M))for(var nt=0;nt<M.length;nt++)se=M[nt],De=Dt+B(se,nt),Se+=Me(se,ie,ue,De,ve);else if(nt=T(M),typeof nt=="function")for(M=nt.call(M),nt=0;!(se=M.next()).done;)se=se.value,De=Dt+B(se,nt++),Se+=Me(se,ie,ue,De,ve);else if(De==="object"){if(typeof M.then=="function")return Me(ye(M),ie,ue,se,ve);throw ie=String(M),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Se}function W(M,ie,ue){if(M==null)return M;var se=[],ve=0;return Me(M,se,"","",function(De){return ie.call(ue,De,ve++)}),se}function ae(M){if(M._status===-1){var ie=M._result;ie=ie(),ie.then(function(ue){(M._status===0||M._status===-1)&&(M._status=1,M._result=ue)},function(ue){(M._status===0||M._status===-1)&&(M._status=2,M._result=ue)}),M._status===-1&&(M._status=0,M._result=ie)}if(M._status===1)return M._result.default;throw M._result}var ge=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Fe(){}return xe.Children={map:W,forEach:function(M,ie,ue){W(M,function(){ie.apply(this,arguments)},ue)},count:function(M){var ie=0;return W(M,function(){ie++}),ie},toArray:function(M){return W(M,function(ie){return ie})||[]},only:function(M){if(!x(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},xe.Component=O,xe.Fragment=t,xe.Profiler=a,xe.PureComponent=X,xe.StrictMode=s,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,xe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return le.H.useMemoCache(M)}},xe.cache=function(M){return function(){return M.apply(null,arguments)}},xe.cloneElement=function(M,ie,ue){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var se=I({},M.props),ve=M.key,De=void 0;if(ie!=null)for(Se in ie.ref!==void 0&&(De=void 0),ie.key!==void 0&&(ve=""+ie.key),ie)!pe.call(ie,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ie.ref===void 0||(se[Se]=ie[Se]);var Se=arguments.length-2;if(Se===1)se.children=ue;else if(1<Se){for(var Dt=Array(Se),nt=0;nt<Se;nt++)Dt[nt]=arguments[nt+2];se.children=Dt}return P(M.type,ve,void 0,void 0,De,se)},xe.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},xe.createElement=function(M,ie,ue){var se,ve={},De=null;if(ie!=null)for(se in ie.key!==void 0&&(De=""+ie.key),ie)pe.call(ie,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ve[se]=ie[se]);var Se=arguments.length-2;if(Se===1)ve.children=ue;else if(1<Se){for(var Dt=Array(Se),nt=0;nt<Se;nt++)Dt[nt]=arguments[nt+2];ve.children=Dt}if(M&&M.defaultProps)for(se in Se=M.defaultProps,Se)ve[se]===void 0&&(ve[se]=Se[se]);return P(M,De,void 0,void 0,null,ve)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(M){return{$$typeof:d,render:M}},xe.isValidElement=x,xe.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:ae}},xe.memo=function(M,ie){return{$$typeof:g,type:M,compare:ie===void 0?null:ie}},xe.startTransition=function(M){var ie=le.T,ue={};le.T=ue;try{var se=M(),ve=le.S;ve!==null&&ve(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Fe,ge)}catch(De){ge(De)}finally{le.T=ie}},xe.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},xe.use=function(M){return le.H.use(M)},xe.useActionState=function(M,ie,ue){return le.H.useActionState(M,ie,ue)},xe.useCallback=function(M,ie){return le.H.useCallback(M,ie)},xe.useContext=function(M){return le.H.useContext(M)},xe.useDebugValue=function(){},xe.useDeferredValue=function(M,ie){return le.H.useDeferredValue(M,ie)},xe.useEffect=function(M,ie,ue){var se=le.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(M,ie)},xe.useId=function(){return le.H.useId()},xe.useImperativeHandle=function(M,ie,ue){return le.H.useImperativeHandle(M,ie,ue)},xe.useInsertionEffect=function(M,ie){return le.H.useInsertionEffect(M,ie)},xe.useLayoutEffect=function(M,ie){return le.H.useLayoutEffect(M,ie)},xe.useMemo=function(M,ie){return le.H.useMemo(M,ie)},xe.useOptimistic=function(M,ie){return le.H.useOptimistic(M,ie)},xe.useReducer=function(M,ie,ue){return le.H.useReducer(M,ie,ue)},xe.useRef=function(M){return le.H.useRef(M)},xe.useState=function(M){return le.H.useState(M)},xe.useSyncExternalStore=function(M,ie,ue){return le.H.useSyncExternalStore(M,ie,ue)},xe.useTransition=function(){return le.H.useTransition()},xe.version="19.1.0",xe}var S0;function Jp(){return S0||(S0=1,Km.exports=cR()),Km.exports}var z=Jp();const Xi=BT(z);var $m={exports:{}},Yl={},Qm={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function hR(){return R0||(R0=1,function(r){function e(W,ae){var ge=W.length;W.push(ae);e:for(;0<ge;){var Fe=ge-1>>>1,M=W[Fe];if(0<a(M,ae))W[Fe]=ae,W[ge]=M,ge=Fe;else break e}}function t(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ae=W[0],ge=W.pop();if(ge!==ae){W[0]=ge;e:for(var Fe=0,M=W.length,ie=M>>>1;Fe<ie;){var ue=2*(Fe+1)-1,se=W[ue],ve=ue+1,De=W[ve];if(0>a(se,ge))ve<M&&0>a(De,se)?(W[Fe]=De,W[ve]=ge,Fe=ve):(W[Fe]=se,W[ue]=ge,Fe=ue);else if(ve<M&&0>a(De,ge))W[Fe]=De,W[ve]=ge,Fe=ve;else break e}}return ae}function a(W,ae){var ge=W.sortIndex-ae.sortIndex;return ge!==0?ge:W.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,b=null,T=3,C=!1,I=!1,L=!1,O=!1,F=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ce(W){for(var ae=t(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=W)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=t(g)}}function le(W){if(L=!1,ce(W),!I)if(t(p)!==null)I=!0,pe||(pe=!0,B());else{var ae=t(g);ae!==null&&Me(le,ae.startTime-W)}}var pe=!1,P=-1,R=5,x=-1;function V(){return O?!0:!(r.unstable_now()-x<R)}function U(){if(O=!1,pe){var W=r.unstable_now();x=W;var ae=!0;try{e:{I=!1,L&&(L=!1,X(P),P=-1),C=!0;var ge=T;try{t:{for(ce(W),b=t(p);b!==null&&!(b.expirationTime>W&&V());){var Fe=b.callback;if(typeof Fe=="function"){b.callback=null,T=b.priorityLevel;var M=Fe(b.expirationTime<=W);if(W=r.unstable_now(),typeof M=="function"){b.callback=M,ce(W),ae=!0;break t}b===t(p)&&s(p),ce(W)}else s(p);b=t(p)}if(b!==null)ae=!0;else{var ie=t(g);ie!==null&&Me(le,ie.startTime-W),ae=!1}}break e}finally{b=null,T=ge,C=!1}ae=void 0}}finally{ae?B():pe=!1}}}var B;if(typeof re=="function")B=function(){re(U)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ye=D.port2;D.port1.onmessage=U,B=function(){ye.postMessage(null)}}else B=function(){F(U,0)};function Me(W,ae){P=F(function(){W(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(W){switch(T){case 1:case 2:case 3:var ae=3;break;default:ae=T}var ge=T;T=ae;try{return W()}finally{T=ge}},r.unstable_requestPaint=function(){O=!0},r.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=T;T=W;try{return ae()}finally{T=ge}},r.unstable_scheduleCallback=function(W,ae,ge){var Fe=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Fe+ge:Fe):ge=Fe,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ge+M,W={id:_++,callback:ae,priorityLevel:W,startTime:ge,expirationTime:M,sortIndex:-1},ge>Fe?(W.sortIndex=ge,e(g,W),t(p)===null&&W===t(g)&&(L?(X(P),P=-1):L=!0,Me(le,ge-Fe))):(W.sortIndex=M,e(p,W),I||C||(I=!0,pe||(pe=!0,B()))),W},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(W){var ae=T;return function(){var ge=T;T=ae;try{return W.apply(this,arguments)}finally{T=ge}}}}(Ym)),Ym}var I0;function fR(){return I0||(I0=1,Qm.exports=hR()),Qm.exports}var Xm={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function dR(){if(C0)return Yt;C0=1;var r=Jp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:g,implementation:_}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},Yt.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},Yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,b=d(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:C}):_==="script"&&s.d.X(p,{crossOrigin:b,integrity:T,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,g){return p(g)},Yt.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},Yt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var x0;function mR(){if(x0)return Xm.exports;x0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xm.exports=dR(),Xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function pR(){if(N0)return Yl;N0=1;var r=fR(),e=Jp(),t=mR();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(s(188));return i!==n?null:n}for(var o=n,u=i;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return d(f),n;if(m===u)return d(f),i;m=m.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=m;else{for(var E=!1,w=f.child;w;){if(w===o){E=!0,o=f,u=m;break}if(w===u){E=!0,u=f,o=m;break}w=w.sibling}if(!E){for(w=m.child;w;){if(w===o){E=!0,o=m,u=f;break}if(w===u){E=!0,u=m,o=f;break}w=w.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function ye(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case I:return"Fragment";case O:return"Profiler";case L:return"StrictMode";case le:return"Suspense";case pe:return"SuspenseList";case x:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case re:return(n.displayName||"Context")+".Provider";case X:return(n._context.displayName||"Context")+".Consumer";case ce:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return i=n.displayName||null,i!==null?i:ye(n.type)||"Memo";case R:i=n._payload,n=n._init;try{return ye(n(i))}catch{}}return null}var Me=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Fe=[],M=-1;function ie(n){return{current:n}}function ue(n){0>M||(n.current=Fe[M],Fe[M]=null,M--)}function se(n,i){M++,Fe[M]=n.current,n.current=i}var ve=ie(null),De=ie(null),Se=ie(null),Dt=ie(null);function nt(n,i){switch(se(Se,i),se(De,n),se(ve,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Xv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Xv(i),n=Wv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(ve),se(ve,n)}function sr(){ue(ve),ue(De),ue(Se)}function pi(n){n.memoizedState!==null&&se(Dt,n);var i=ve.current,o=Wv(i,n.type);i!==o&&(se(De,n),se(ve,o))}function Or(n){De.current===n&&(ue(ve),ue(De)),Dt.current===n&&(ue(Dt),Hl._currentValue=ge)}var ps=Object.prototype.hasOwnProperty,gs=r.unstable_scheduleCallback,ys=r.unstable_cancelCallback,Bo=r.unstable_shouldYield,qu=r.unstable_requestPaint,In=r.unstable_now,Gf=r.unstable_getCurrentPriorityLevel,zo=r.unstable_ImmediatePriority,ga=r.unstable_UserBlockingPriority,_s=r.unstable_NormalPriority,Kf=r.unstable_LowPriority,ya=r.unstable_IdlePriority,qo=r.log,Hu=r.unstable_setDisableYieldValue,ct=null,Qe=null;function yn(n){if(typeof qo=="function"&&Hu(n),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ct,n)}catch{}}var $t=Math.clz32?Math.clz32:vs,Fu=Math.log,$f=Math.LN2;function vs(n){return n>>>=0,n===0?32:31-(Fu(n)/$f|0)|0}var Es=256,Ts=4194304;function Fn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function _a(n,i,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var w=u&134217727;return w!==0?(u=w&~m,u!==0?f=Fn(u):(E&=w,E!==0?f=Fn(E):o||(o=w&~n,o!==0&&(f=Fn(o))))):(w=u&~m,w!==0?f=Fn(w):E!==0?f=Fn(E):o||(o=u&~n,o!==0&&(f=Fn(o)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:f}function bs(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ho(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fo(){var n=Es;return Es<<=1,(Es&4194048)===0&&(Es=256),n}function Go(){var n=Ts;return Ts<<=1,(Ts&62914560)===0&&(Ts=4194304),n}function Dr(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function Pr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ko(n,i,o,u,f,m){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var w=n.entanglements,N=n.expirationTimes,G=n.hiddenUpdates;for(o=E&~o;0<o;){var J=31-$t(o),ee=1<<J;w[J]=0,N[J]=-1;var K=G[J];if(K!==null)for(G[J]=null,J=0;J<K.length;J++){var $=K[J];$!==null&&($.lane&=-536870913)}o&=~ee}u!==0&&ar(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~i))}function ar(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-$t(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function $o(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var u=31-$t(o),f=1<<u;f&i|n[u]&i&&(n[u]|=i),o&=~f}}function gi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function va(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function yi(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:g0(n.type))}function Gu(n,i){var o=ae.p;try{return ae.p=n,i()}finally{ae.p=o}}var st=Math.random().toString(36).slice(2),St="__reactFiber$"+st,vt="__reactProps$"+st,Cn="__reactContainer$"+st,Qo="__reactEvents$"+st,Qf="__reactListeners$"+st,_i="__reactHandles$"+st,Ku="__reactResources$"+st,ws="__reactMarker$"+st;function vi(n){delete n[St],delete n[vt],delete n[Qo],delete n[Qf],delete n[_i]}function Mr(n){var i=n[St];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Cn]||o[St]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=t0(n);n!==null;){if(o=n[St])return o;n=t0(n)}return i}n=o,o=n.parentNode}return null}function or(n){if(n=n[St]||n[Cn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function lr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function rn(n){var i=n[Ku];return i||(i=n[Ku]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function mt(n){n[ws]=!0}var Yo=new Set,Ea={};function Gn(n,i){Vr(n,i),Vr(n+"Capture",i)}function Vr(n,i){for(Ea[n]=i,n=0;n<i.length;n++)Yo.add(i[n])}var $u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qu={},As={};function Yu(n){return ps.call(As,n)?!0:ps.call(Qu,n)?!1:$u.test(n)?As[n]=!0:(Qu[n]=!0,!1)}function Ei(n,i,o){if(Yu(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function ur(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function jt(n,i,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+u)}}var Ss,Xu;function kr(n){if(Ss===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Ss=i&&i[1]||"",Xu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+n+Xu}var Ta=!1;function ba(n,i){if(!n||Ta)return"";Ta=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var K=$}Reflect.construct(n,[],ee)}else{try{ee.call()}catch($){K=$}n.call(ee.prototype)}}else{try{throw Error()}catch($){K=$}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],w=m[1];if(E&&w){var N=E.split(`
`),G=w.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===G.length)for(u=N.length-1,f=G.length-1;1<=u&&0<=f&&N[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==G[f]){var J=`
`+N[u].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=u&&0<=f);break}}}finally{Ta=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?kr(o):""}function Xo(n){switch(n.tag){case 26:case 27:case 5:return kr(n.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 15:return ba(n.type,!1);case 11:return ba(n.type.render,!1);case 1:return ba(n.type,!0);case 31:return kr("Activity");default:return""}}function wa(n){try{var i="";do i+=Xo(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Wo(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yf(n){var i=Wo(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Aa(n){n._valueTracker||(n._valueTracker=Yf(n))}function Jo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return n&&(u=Wo(n)?n.checked?"true":"false":n.value),n=u,n!==o?(i.setValue(n),!0):!1}function Rs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Xf=/[\n"\\]/g;function Et(n){return n.replace(Xf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _n(n,i,o,u,f,m,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+sn(i)):n.value!==""+sn(i)&&(n.value=""+sn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Ti(n,E,sn(i)):o!=null?Ti(n,E,sn(o)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+sn(w):n.removeAttribute("name")}function Is(n,i,o,u,f,m,E,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;o=o!=null?""+sn(o):"",i=i!=null?""+sn(i):o,w||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=w?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ti(n,i,o){i==="number"&&Rs(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Lr(n,i,o,u){if(n=n.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=i.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+sn(o),i=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function We(n,i,o){if(i!=null&&(i=""+sn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+sn(o):""}function Cs(n,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(s(92));if(Me(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=sn(i),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function xn(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wu(n,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,o):typeof o!="number"||o===0||xs.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function Zo(n,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&Wu(n,f,u)}else for(var m in i)i.hasOwnProperty(m)&&Wu(n,m,i[m])}function el(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(n){return Jf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ur=null;function Nn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var jr=null,Br=null;function tl(n){var i=or(n);if(i&&(n=i.stateNode)){var o=n[vt]||null;e:switch(n=i.stateNode,i.type){case"input":if(_n(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Et(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==n&&u.form===n.form){var f=u[vt]||null;if(!f)throw Error(s(90));_n(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===n.form&&Jo(u)}break e;case"textarea":We(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Lr(n,!!o.multiple,i,!1)}}}var cr=!1;function Ju(n,i,o){if(cr)return n(i,o);cr=!0;try{var u=n(i);return u}finally{if(cr=!1,(jr!==null||Br!==null)&&(Gc(),jr&&(i=jr,n=Br,Br=jr=null,tl(i),n)))for(i=0;i<n.length;i++)tl(n[i])}}function Ns(n,i){var o=n.stateNode;if(o===null)return null;var u=o[vt]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if(Kn)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){On=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{On=!1}var hr=null,bi=null,zr=null;function nl(){if(zr)return zr;var n,i=bi,o=i.length,u,f="value"in hr?hr.value:hr.textContent,m=f.length;for(n=0;n<o&&i[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&i[o-u]===f[m-u];u++);return zr=f.slice(n,1<u?1-u:void 0)}function fr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function dr(){return!0}function rl(){return!1}function Pt(n){function i(o,u,f,m,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(o=n[w],this[w]=o?o(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?dr:rl,this.isPropagationStopped=rl,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),i}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=Pt(Ke),Ds=_({},Ke,{view:0,detail:0}),Zu=Pt(Ds),Ia,Ca,mr,Ps=_({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==mr&&(mr&&n.type==="mousemove"?(Ia=n.screenX-mr.screenX,Ca=n.screenY-mr.screenY):Ca=Ia=0,mr=n),Ia)},movementY:function(n){return"movementY"in n?n.movementY:Ca}}),Dn=Pt(Ps),ec=_({},Ps,{dataTransfer:0}),Zf=Pt(ec),Ms=_({},Ds,{relatedTarget:0}),xa=Pt(Ms),il=_({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=Pt(il),tc=_({},Ke,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Oa=Pt(tc),ed=_({},Ke,{data:0}),sl=Pt(ed),Vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function al(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=rc[n])?!!i[n]:!1}function ks(){return al}var ic=_({},Ds,{key:function(n){if(n.key){var i=Vs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=fr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?nc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(n){return n.type==="keypress"?fr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?fr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Da=Pt(ic),sc=_({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ol=Pt(sc),qr=_({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),ac=Pt(qr),oc=_({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),lc=Pt(oc),uc=_({},Ps,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Pa=Pt(uc),an=_({},Ke,{newState:0,oldState:0}),cc=Pt(an),hc=[9,13,27,32],pr=Kn&&"CompositionEvent"in window,h=null;Kn&&"documentMode"in document&&(h=document.documentMode);var y=Kn&&"TextEvent"in window&&!h,v=Kn&&(!pr||h&&8<h&&11>=h),A=" ",q=!1;function Q(n,i){switch(n){case"keyup":return hc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var je=!1;function Rt(n,i){switch(n){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(q=!0,A);case"textInput":return n=i.data,n===A&&q?null:n;default:return null}}function Be(n,i){if(je)return n==="compositionend"||!pr&&Q(n,i)?(n=nl(),zr=bi=hr=null,je=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Mt[n.type]:i==="textarea"}function Hr(n,i,o,u){jr?Br?Br.push(u):Br=[u]:jr=u,i=Wc(i,"onChange"),0<i.length&&(o=new Ra("onChange","change",null,o,u),n.push({event:o,listeners:i}))}var Bt=null,gr=null;function ll(n){Gv(n,0)}function fc(n){var i=lr(n);if(Jo(i))return n}function fy(n,i){if(n==="change")return i}var dy=!1;if(Kn){var td;if(Kn){var nd="oninput"in document;if(!nd){var my=document.createElement("div");my.setAttribute("oninput","return;"),nd=typeof my.oninput=="function"}td=nd}else td=!1;dy=td&&(!document.documentMode||9<document.documentMode)}function py(){Bt&&(Bt.detachEvent("onpropertychange",gy),gr=Bt=null)}function gy(n){if(n.propertyName==="value"&&fc(gr)){var i=[];Hr(i,gr,n,Nn(n)),Ju(ll,i)}}function US(n,i,o){n==="focusin"?(py(),Bt=i,gr=o,Bt.attachEvent("onpropertychange",gy)):n==="focusout"&&py()}function jS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return fc(gr)}function BS(n,i){if(n==="click")return fc(i)}function zS(n,i){if(n==="input"||n==="change")return fc(i)}function qS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var vn=typeof Object.is=="function"?Object.is:qS;function ul(n,i){if(vn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!ps.call(i,f)||!vn(n[f],i[f]))return!1}return!0}function yy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function _y(n,i){var o=yy(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=i&&u>=i)return{node:o,offset:i-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=yy(o)}}function vy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?vy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Ey(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Rs(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=Rs(n.document)}return i}function rd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var HS=Kn&&"documentMode"in document&&11>=document.documentMode,Ma=null,id=null,cl=null,sd=!1;function Ty(n,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;sd||Ma==null||Ma!==Rs(u)||(u=Ma,"selectionStart"in u&&rd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),cl&&ul(cl,u)||(cl=u,u=Wc(id,"onSelect"),0<u.length&&(i=new Ra("onSelect","select",null,i,o),n.push({event:i,listeners:u}),i.target=Ma)))}function Ls(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Va={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},ad={},by={};Kn&&(by=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Us(n){if(ad[n])return ad[n];if(!Va[n])return n;var i=Va[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in by)return ad[n]=i[o];return n}var wy=Us("animationend"),Ay=Us("animationiteration"),Sy=Us("animationstart"),FS=Us("transitionrun"),GS=Us("transitionstart"),KS=Us("transitioncancel"),Ry=Us("transitionend"),Iy=new Map,od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");od.push("scrollEnd");function $n(n,i){Iy.set(n,i),Gn(i,[n])}var Cy=new WeakMap;function Pn(n,i){if(typeof n=="object"&&n!==null){var o=Cy.get(n);return o!==void 0?o:(i={value:n,source:i,stack:wa(i)},Cy.set(n,i),i)}return{value:n,source:i,stack:wa(i)}}var Mn=[],ka=0,ld=0;function dc(){for(var n=ka,i=ld=ka=0;i<n;){var o=Mn[i];Mn[i++]=null;var u=Mn[i];Mn[i++]=null;var f=Mn[i];Mn[i++]=null;var m=Mn[i];if(Mn[i++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&xy(o,f,m)}}function mc(n,i,o,u){Mn[ka++]=n,Mn[ka++]=i,Mn[ka++]=o,Mn[ka++]=u,ld|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function ud(n,i,o,u){return mc(n,i,o,u),pc(n)}function La(n,i){return mc(n,null,null,i),pc(n)}function xy(n,i,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&i!==null&&(f=31-$t(o),n=m.hiddenUpdates,u=n[f],u===null?n[f]=[i]:u.push(i),i.lane=o|536870912),m):null}function pc(n){if(50<Vl)throw Vl=0,pm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ua={};function $S(n,i,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,i,o,u){return new $S(n,i,o,u)}function cd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fr(n,i){var o=n.alternate;return o===null?(o=En(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Ny(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function gc(n,i,o,u,f,m){var E=0;if(u=n,typeof n=="function")cd(n)&&(E=1);else if(typeof n=="string")E=Y1(n,o,ve.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case x:return n=En(31,o,i,f),n.elementType=x,n.lanes=m,n;case I:return js(o.children,f,m,i);case L:E=8,f|=24;break;case O:return n=En(12,o,i,f|2),n.elementType=O,n.lanes=m,n;case le:return n=En(13,o,i,f),n.elementType=le,n.lanes=m,n;case pe:return n=En(19,o,i,f),n.elementType=pe,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:case re:E=10;break e;case X:E=9;break e;case ce:E=11;break e;case P:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=En(E,o,i,f),i.elementType=n,i.type=u,i.lanes=m,i}function js(n,i,o,u){return n=En(7,n,u,i),n.lanes=o,n}function hd(n,i,o){return n=En(6,n,null,i),n.lanes=o,n}function fd(n,i,o){return i=En(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var ja=[],Ba=0,yc=null,_c=0,Vn=[],kn=0,Bs=null,Gr=1,Kr="";function zs(n,i){ja[Ba++]=_c,ja[Ba++]=yc,yc=n,_c=i}function Oy(n,i,o){Vn[kn++]=Gr,Vn[kn++]=Kr,Vn[kn++]=Bs,Bs=n;var u=Gr;n=Kr;var f=32-$t(u)-1;u&=~(1<<f),o+=1;var m=32-$t(i)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Gr=1<<32-$t(i)+f|o<<f|u,Kr=m+n}else Gr=1<<m|o<<f|u,Kr=n}function dd(n){n.return!==null&&(zs(n,1),Oy(n,1,0))}function md(n){for(;n===yc;)yc=ja[--Ba],ja[Ba]=null,_c=ja[--Ba],ja[Ba]=null;for(;n===Bs;)Bs=Vn[--kn],Vn[kn]=null,Kr=Vn[--kn],Vn[kn]=null,Gr=Vn[--kn],Vn[kn]=null}var on=null,ht=null,Ge=!1,qs=null,yr=!1,pd=Error(s(519));function Hs(n){var i=Error(s(418,""));throw dl(Pn(i,n)),pd}function Dy(n){var i=n.stateNode,o=n.type,u=n.memoizedProps;switch(i[St]=n,i[vt]=u,o){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(o=0;o<Ll.length;o++)ke(Ll[o],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Is(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Aa(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),Cs(i,u.value,u.defaultValue,u.children),Aa(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||Yv(i.textContent,o)?(u.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),u.onScroll!=null&&ke("scroll",i),u.onScrollEnd!=null&&ke("scrollend",i),u.onClick!=null&&(i.onclick=Jc),i=!0):i=!1,i||Hs(n)}function Py(n){for(on=n.return;on;)switch(on.tag){case 5:case 13:yr=!1;return;case 27:case 3:yr=!0;return;default:on=on.return}}function hl(n){if(n!==on)return!1;if(!Ge)return Py(n),Ge=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Om(n.type,n.memoizedProps)),o=!o),o&&ht&&Hs(n),Py(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){ht=Yn(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}ht=null}}else i===27?(i=ht,Ui(n.type)?(n=Vm,Vm=null,ht=n):ht=i):ht=on?Yn(n.stateNode.nextSibling):null;return!0}function fl(){ht=on=null,Ge=!1}function My(){var n=qs;return n!==null&&(cn===null?cn=n:cn.push.apply(cn,n),qs=null),n}function dl(n){qs===null?qs=[n]:qs.push(n)}var gd=ie(null),Fs=null,$r=null;function wi(n,i,o){se(gd,i._currentValue),i._currentValue=o}function Qr(n){n._currentValue=gd.current,ue(gd)}function yd(n,i,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===o)break;n=n.return}}function _d(n,i,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var N=0;N<i.length;N++)if(w.context===i[N]){m.lanes|=o,w=m.alternate,w!==null&&(w.lanes|=o),yd(m.return,o,n),u||(E=null);break e}m=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),yd(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function ml(n,i,o,u){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=f.type;vn(f.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(f===Dt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Hl):n=[Hl])}f=f.return}n!==null&&_d(i,n,o,u),i.flags|=262144}function vc(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Gs(n){Fs=n,$r=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Qt(n){return Vy(Fs,n)}function Ec(n,i){return Fs===null&&Gs(n),Vy(n,i)}function Vy(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},$r===null){if(n===null)throw Error(s(308));$r=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else $r=$r.next=i;return o}var QS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},YS=r.unstable_scheduleCallback,XS=r.unstable_NormalPriority,Ct={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vd(){return{controller:new QS,data:new Map,refCount:0}}function pl(n){n.refCount--,n.refCount===0&&YS(XS,function(){n.controller.abort()})}var gl=null,Ed=0,za=0,qa=null;function WS(n,i){if(gl===null){var o=gl=[];Ed=0,za=bm(),qa={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ed++,i.then(ky,ky),i}function ky(){if(--Ed===0&&gl!==null){qa!==null&&(qa.status="fulfilled");var n=gl;gl=null,za=0,qa=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function JS(n,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Ly=W.S;W.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&WS(n,i),Ly!==null&&Ly(n,i)};var Ks=ie(null);function Td(){var n=Ks.current;return n!==null?n:rt.pooledCache}function Tc(n,i){i===null?se(Ks,Ks.current):se(Ks,i.pool)}function Uy(){var n=Td();return n===null?null:{parent:Ct._currentValue,pool:n}}var yl=Error(s(460)),jy=Error(s(474)),bc=Error(s(542)),bd={then:function(){}};function By(n){return n=n.status,n==="fulfilled"||n==="rejected"}function wc(){}function zy(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(wc,wc),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Hy(n),n;default:if(typeof i.status=="string")i.then(wc,wc);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Hy(n),n}throw _l=i,yl}}var _l=null;function qy(){if(_l===null)throw Error(s(459));var n=_l;return _l=null,n}function Hy(n){if(n===yl||n===bc)throw Error(s(483))}var Ai=!1;function wd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Si(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ri(n,i,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=pc(n),xy(n,null,o),i}return mc(n,u,i,o),pc(n)}function vl(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,$o(n,o)}}function Sd(n,i){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?f=m=i:m=m.next=i}else f=m=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var Rd=!1;function El(){if(Rd){var n=qa;if(n!==null)throw n}}function Tl(n,i,o,u){Rd=!1;var f=n.updateQueue;Ai=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,G=N.next;N.next=null,E===null?m=G:E.next=G,E=N;var J=n.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==E&&(w===null?J.firstBaseUpdate=G:w.next=G,J.lastBaseUpdate=N))}if(m!==null){var ee=f.baseState;E=0,J=G=N=null,w=m;do{var K=w.lane&-536870913,$=K!==w.lane;if($?(ze&K)===K:(u&K)===K){K!==0&&K===za&&(Rd=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ae=n,Ee=w;K=i;var et=o;switch(Ee.tag){case 1:if(Ae=Ee.payload,typeof Ae=="function"){ee=Ae.call(et,ee,K);break e}ee=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ee.payload,K=typeof Ae=="function"?Ae.call(et,ee,K):Ae,K==null)break e;ee=_({},ee,K);break e;case 2:Ai=!0}}K=w.callback,K!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[K]:$.push(K))}else $={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(G=J=$,N=ee):J=J.next=$,E|=K;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;$=w,w=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);J===null&&(N=ee),f.baseState=N,f.firstBaseUpdate=G,f.lastBaseUpdate=J,m===null&&(f.shared.lanes=0),Mi|=E,n.lanes=E,n.memoizedState=ee}}function Fy(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Gy(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Fy(o[n],i)}var Ha=ie(null),Ac=ie(0);function Ky(n,i){n=ti,se(Ac,n),se(Ha,i),ti=n|i.baseLanes}function Id(){se(Ac,ti),se(Ha,Ha.current)}function Cd(){ti=Ac.current,ue(Ha),ue(Ac)}var Ii=0,Ne=null,Je=null,Tt=null,Sc=!1,Fa=!1,$s=!1,Rc=0,bl=0,Ga=null,ZS=0;function pt(){throw Error(s(321))}function xd(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!vn(n[o],i[o]))return!1;return!0}function Nd(n,i,o,u,f,m){return Ii=m,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=n===null||n.memoizedState===null?x_:N_,$s=!1,m=o(u,f),$s=!1,Fa&&(m=Qy(i,o,u,f)),$y(n),m}function $y(n){W.H=Dc;var i=Je!==null&&Je.next!==null;if(Ii=0,Tt=Je=Ne=null,Sc=!1,bl=0,Ga=null,i)throw Error(s(300));n===null||Vt||(n=n.dependencies,n!==null&&vc(n)&&(Vt=!0))}function Qy(n,i,o,u){Ne=n;var f=0;do{if(Fa&&(Ga=null),bl=0,Fa=!1,25<=f)throw Error(s(301));if(f+=1,Tt=Je=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=a1,m=i(o,u)}while(Fa);return m}function e1(){var n=W.H,i=n.useState()[0];return i=typeof i.then=="function"?wl(i):i,n=n.useState()[0],(Je!==null?Je.memoizedState:null)!==n&&(Ne.flags|=1024),i}function Od(){var n=Rc!==0;return Rc=0,n}function Dd(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function Pd(n){if(Sc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Sc=!1}Ii=0,Tt=Je=Ne=null,Fa=!1,bl=Rc=0,Ga=null}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ne.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function bt(){if(Je===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=Je.next;var i=Tt===null?Ne.memoizedState:Tt.next;if(i!==null)Tt=i,Je=n;else{if(n===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Je=n,n={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Tt===null?Ne.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function Md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(n){var i=bl;return bl+=1,Ga===null&&(Ga=[]),n=zy(Ga,n,i),i=Ne,(Tt===null?i.memoizedState:Tt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?x_:N_),n}function Ic(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return wl(n);if(n.$$typeof===re)return Qt(n)}throw Error(s(438,String(n)))}function Vd(n){var i=null,o=Ne.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Md(),Ne.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),u=0;u<n;u++)o[u]=V;return i.index++,o}function Yr(n,i){return typeof i=="function"?i(n):i}function Cc(n){var i=bt();return kd(i,Je,n)}function kd(n,i,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}i.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var w=E=null,N=null,G=i,J=!1;do{var ee=G.lane&-536870913;if(ee!==G.lane?(ze&ee)===ee:(Ii&ee)===ee){var K=G.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ee===za&&(J=!0);else if((Ii&K)===K){G=G.next,K===za&&(J=!0);continue}else ee={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(w=N=ee,E=m):N=N.next=ee,Ne.lanes|=K,Mi|=K;ee=G.action,$s&&o(m,ee),m=G.hasEagerState?G.eagerState:o(m,ee)}else K={lane:ee,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(w=N=K,E=m):N=N.next=K,Ne.lanes|=ee,Mi|=ee;G=G.next}while(G!==null&&G!==i);if(N===null?E=m:N.next=w,!vn(m,n.memoizedState)&&(Vt=!0,J&&(o=qa,o!==null)))throw o;n.memoizedState=m,n.baseState=E,n.baseQueue=N,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Ld(n){var i=bt(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,m=i.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);vn(m,i.memoizedState)||(Vt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,u]}function Yy(n,i,o){var u=Ne,f=bt(),m=Ge;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=i();var E=!vn((Je||f).memoizedState,o);E&&(f.memoizedState=o,Vt=!0),f=f.queue;var w=Jy.bind(null,u,f,n);if(Al(2048,8,w,[n]),f.getSnapshot!==i||E||Tt!==null&&Tt.memoizedState.tag&1){if(u.flags|=2048,Ka(9,xc(),Wy.bind(null,u,f,o,i),null),rt===null)throw Error(s(349));m||(Ii&124)!==0||Xy(u,i,o)}return o}function Xy(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Ne.updateQueue,i===null?(i=Md(),Ne.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function Wy(n,i,o,u){i.value=o,i.getSnapshot=u,Zy(i)&&e_(n)}function Jy(n,i,o){return o(function(){Zy(i)&&e_(n)})}function Zy(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!vn(n,o)}catch{return!0}}function e_(n){var i=La(n,2);i!==null&&Sn(i,n,2)}function Ud(n){var i=ln();if(typeof n=="function"){var o=n;if(n=o(),$s){yn(!0);try{o()}finally{yn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:n},i}function t_(n,i,o,u){return n.baseState=o,kd(n,Je,typeof u=="function"?u:Yr)}function t1(n,i,o,u,f){if(Oc(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};W.T!==null?o(!0):m.isTransition=!1,u(m),o=i.pending,o===null?(m.next=i.pending=m,n_(i,m)):(m.next=o.next,i.pending=o.next=m)}}function n_(n,i){var o=i.action,u=i.payload,f=n.state;if(i.isTransition){var m=W.T,E={};W.T=E;try{var w=o(f,u),N=W.S;N!==null&&N(E,w),r_(n,i,w)}catch(G){jd(n,i,G)}finally{W.T=m}}else try{m=o(f,u),r_(n,i,m)}catch(G){jd(n,i,G)}}function r_(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){i_(n,i,u)},function(u){return jd(n,i,u)}):i_(n,i,o)}function i_(n,i,o){i.status="fulfilled",i.value=o,s_(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,n_(n,o)))}function jd(n,i,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,s_(i),i=i.next;while(i!==u)}n.action=null}function s_(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function a_(n,i){return i}function o_(n,i){if(Ge){var o=rt.formState;if(o!==null){e:{var u=Ne;if(Ge){if(ht){t:{for(var f=ht,m=yr;f.nodeType!==8;){if(!m){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ht=Yn(f.nextSibling),u=f.data==="F!";break e}}Hs(u)}u=!1}u&&(i=o[0])}}return o=ln(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a_,lastRenderedState:i},o.queue=u,o=R_.bind(null,Ne,u),u.dispatch=o,u=Ud(!1),m=Fd.bind(null,Ne,!1,u.queue),u=ln(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,o=t1.bind(null,Ne,f,m,o),f.dispatch=o,u.memoizedState=n,[i,o,!1]}function l_(n){var i=bt();return u_(i,Je,n)}function u_(n,i,o){if(i=kd(n,i,a_)[0],n=Cc(Yr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=wl(i)}catch(E){throw E===yl?bc:E}else u=i;i=bt();var f=i.queue,m=f.dispatch;return o!==i.memoizedState&&(Ne.flags|=2048,Ka(9,xc(),n1.bind(null,f,o),null)),[u,m,n]}function n1(n,i){n.action=i}function c_(n){var i=bt(),o=Je;if(o!==null)return u_(i,o,n);bt(),i=i.memoizedState,o=bt();var u=o.queue.dispatch;return o.memoizedState=n,[i,u,!1]}function Ka(n,i,o,u){return n={tag:n,create:o,deps:u,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=Md(),Ne.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,i.lastEffect=n),n}function xc(){return{destroy:void 0,resource:void 0}}function h_(){return bt().memoizedState}function Nc(n,i,o,u){var f=ln();u=u===void 0?null:u,Ne.flags|=n,f.memoizedState=Ka(1|i,xc(),o,u)}function Al(n,i,o,u){var f=bt();u=u===void 0?null:u;var m=f.memoizedState.inst;Je!==null&&u!==null&&xd(u,Je.memoizedState.deps)?f.memoizedState=Ka(i,m,o,u):(Ne.flags|=n,f.memoizedState=Ka(1|i,m,o,u))}function f_(n,i){Nc(8390656,8,n,i)}function d_(n,i){Al(2048,8,n,i)}function m_(n,i){return Al(4,2,n,i)}function p_(n,i){return Al(4,4,n,i)}function g_(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function y_(n,i,o){o=o!=null?o.concat([n]):null,Al(4,4,g_.bind(null,i,n),o)}function Bd(){}function __(n,i){var o=bt();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&xd(i,u[1])?u[0]:(o.memoizedState=[n,i],n)}function v_(n,i){var o=bt();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&xd(i,u[1]))return u[0];if(u=n(),$s){yn(!0);try{n()}finally{yn(!1)}}return o.memoizedState=[u,i],u}function zd(n,i,o){return o===void 0||(Ii&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=bv(),Ne.lanes|=n,Mi|=n,o)}function E_(n,i,o,u){return vn(o,i)?o:Ha.current!==null?(n=zd(n,o,u),vn(n,i)||(Vt=!0),n):(Ii&42)===0?(Vt=!0,n.memoizedState=o):(n=bv(),Ne.lanes|=n,Mi|=n,i)}function T_(n,i,o,u,f){var m=ae.p;ae.p=m!==0&&8>m?m:8;var E=W.T,w={};W.T=w,Fd(n,!1,i,o);try{var N=f(),G=W.S;if(G!==null&&G(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=JS(N,u);Sl(n,i,J,An(n))}else Sl(n,i,u,An(n))}catch(ee){Sl(n,i,{then:function(){},status:"rejected",reason:ee},An())}finally{ae.p=m,W.T=E}}function r1(){}function qd(n,i,o,u){if(n.tag!==5)throw Error(s(476));var f=b_(n).queue;T_(n,f,i,ge,o===null?r1:function(){return w_(n),o(u)})}function b_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:ge},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function w_(n){var i=b_(n).next.queue;Sl(n,i,{},An())}function Hd(){return Qt(Hl)}function A_(){return bt().memoizedState}function S_(){return bt().memoizedState}function i1(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=An();n=Si(o);var u=Ri(i,n,o);u!==null&&(Sn(u,i,o),vl(u,i,o)),i={cache:vd()},n.payload=i;return}i=i.return}}function s1(n,i,o){var u=An();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Oc(n)?I_(i,o):(o=ud(n,i,o,u),o!==null&&(Sn(o,n,u),C_(o,i,u)))}function R_(n,i,o){var u=An();Sl(n,i,o,u)}function Sl(n,i,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Oc(n))I_(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var E=i.lastRenderedState,w=m(E,o);if(f.hasEagerState=!0,f.eagerState=w,vn(w,E))return mc(n,i,f,0),rt===null&&dc(),!1}catch{}finally{}if(o=ud(n,i,f,u),o!==null)return Sn(o,n,u),C_(o,i,u),!0}return!1}function Fd(n,i,o,u){if(u={lane:2,revertLane:bm(),action:u,hasEagerState:!1,eagerState:null,next:null},Oc(n)){if(i)throw Error(s(479))}else i=ud(n,o,u,2),i!==null&&Sn(i,n,2)}function Oc(n){var i=n.alternate;return n===Ne||i!==null&&i===Ne}function I_(n,i){Fa=Sc=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function C_(n,i,o){if((o&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,$o(n,o)}}var Dc={readContext:Qt,use:Ic,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},x_={readContext:Qt,use:Ic,useCallback:function(n,i){return ln().memoizedState=[n,i===void 0?null:i],n},useContext:Qt,useEffect:f_,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Nc(4194308,4,g_.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Nc(4194308,4,n,i)},useInsertionEffect:function(n,i){Nc(4,2,n,i)},useMemo:function(n,i){var o=ln();i=i===void 0?null:i;var u=n();if($s){yn(!0);try{n()}finally{yn(!1)}}return o.memoizedState=[u,i],u},useReducer:function(n,i,o){var u=ln();if(o!==void 0){var f=o(i);if($s){yn(!0);try{o(i)}finally{yn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=s1.bind(null,Ne,n),[u.memoizedState,n]},useRef:function(n){var i=ln();return n={current:n},i.memoizedState=n},useState:function(n){n=Ud(n);var i=n.queue,o=R_.bind(null,Ne,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:Bd,useDeferredValue:function(n,i){var o=ln();return zd(o,n,i)},useTransition:function(){var n=Ud(!1);return n=T_.bind(null,Ne,n.queue,!0,!1),ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var u=Ne,f=ln();if(Ge){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),rt===null)throw Error(s(349));(ze&124)!==0||Xy(u,i,o)}f.memoizedState=o;var m={value:o,getSnapshot:i};return f.queue=m,f_(Jy.bind(null,u,m,n),[n]),u.flags|=2048,Ka(9,xc(),Wy.bind(null,u,m,o,i),null),o},useId:function(){var n=ln(),i=rt.identifierPrefix;if(Ge){var o=Kr,u=Gr;o=(u&~(1<<32-$t(u)-1)).toString(32)+o,i="«"+i+"R"+o,o=Rc++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=ZS++,i="«"+i+"r"+o.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Hd,useFormState:o_,useActionState:o_,useOptimistic:function(n){var i=ln();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Fd.bind(null,Ne,!0,o),o.dispatch=i,[n,i]},useMemoCache:Vd,useCacheRefresh:function(){return ln().memoizedState=i1.bind(null,Ne)}},N_={readContext:Qt,use:Ic,useCallback:__,useContext:Qt,useEffect:d_,useImperativeHandle:y_,useInsertionEffect:m_,useLayoutEffect:p_,useMemo:v_,useReducer:Cc,useRef:h_,useState:function(){return Cc(Yr)},useDebugValue:Bd,useDeferredValue:function(n,i){var o=bt();return E_(o,Je.memoizedState,n,i)},useTransition:function(){var n=Cc(Yr)[0],i=bt().memoizedState;return[typeof n=="boolean"?n:wl(n),i]},useSyncExternalStore:Yy,useId:A_,useHostTransitionStatus:Hd,useFormState:l_,useActionState:l_,useOptimistic:function(n,i){var o=bt();return t_(o,Je,n,i)},useMemoCache:Vd,useCacheRefresh:S_},a1={readContext:Qt,use:Ic,useCallback:__,useContext:Qt,useEffect:d_,useImperativeHandle:y_,useInsertionEffect:m_,useLayoutEffect:p_,useMemo:v_,useReducer:Ld,useRef:h_,useState:function(){return Ld(Yr)},useDebugValue:Bd,useDeferredValue:function(n,i){var o=bt();return Je===null?zd(o,n,i):E_(o,Je.memoizedState,n,i)},useTransition:function(){var n=Ld(Yr)[0],i=bt().memoizedState;return[typeof n=="boolean"?n:wl(n),i]},useSyncExternalStore:Yy,useId:A_,useHostTransitionStatus:Hd,useFormState:c_,useActionState:c_,useOptimistic:function(n,i){var o=bt();return Je!==null?t_(o,Je,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Vd,useCacheRefresh:S_},$a=null,Rl=0;function Pc(n){var i=Rl;return Rl+=1,$a===null&&($a=[]),zy($a,n,i)}function Il(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Mc(n,i){throw i.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function O_(n){var i=n._init;return i(n._payload)}function D_(n){function i(j,k){if(n){var H=j.deletions;H===null?(j.deletions=[k],j.flags|=16):H.push(k)}}function o(j,k){if(!n)return null;for(;k!==null;)i(j,k),k=k.sibling;return null}function u(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function f(j,k){return j=Fr(j,k),j.index=0,j.sibling=null,j}function m(j,k,H){return j.index=H,n?(H=j.alternate,H!==null?(H=H.index,H<k?(j.flags|=67108866,k):H):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function E(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function w(j,k,H,Z){return k===null||k.tag!==6?(k=hd(H,j.mode,Z),k.return=j,k):(k=f(k,H),k.return=j,k)}function N(j,k,H,Z){var de=H.type;return de===I?J(j,k,H.props.children,Z,H.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&O_(de)===k.type)?(k=f(k,H.props),Il(k,H),k.return=j,k):(k=gc(H.type,H.key,H.props,null,j.mode,Z),Il(k,H),k.return=j,k)}function G(j,k,H,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=fd(H,j.mode,Z),k.return=j,k):(k=f(k,H.children||[]),k.return=j,k)}function J(j,k,H,Z,de){return k===null||k.tag!==7?(k=js(H,j.mode,Z,de),k.return=j,k):(k=f(k,H),k.return=j,k)}function ee(j,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=hd(""+k,j.mode,H),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case T:return H=gc(k.type,k.key,k.props,null,j.mode,H),Il(H,k),H.return=j,H;case C:return k=fd(k,j.mode,H),k.return=j,k;case R:var Z=k._init;return k=Z(k._payload),ee(j,k,H)}if(Me(k)||B(k))return k=js(k,j.mode,H,null),k.return=j,k;if(typeof k.then=="function")return ee(j,Pc(k),H);if(k.$$typeof===re)return ee(j,Ec(j,k),H);Mc(j,k)}return null}function K(j,k,H,Z){var de=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return de!==null?null:w(j,k,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===de?N(j,k,H,Z):null;case C:return H.key===de?G(j,k,H,Z):null;case R:return de=H._init,H=de(H._payload),K(j,k,H,Z)}if(Me(H)||B(H))return de!==null?null:J(j,k,H,Z,null);if(typeof H.then=="function")return K(j,k,Pc(H),Z);if(H.$$typeof===re)return K(j,k,Ec(j,H),Z);Mc(j,H)}return null}function $(j,k,H,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(H)||null,w(k,j,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return j=j.get(Z.key===null?H:Z.key)||null,N(k,j,Z,de);case C:return j=j.get(Z.key===null?H:Z.key)||null,G(k,j,Z,de);case R:var Pe=Z._init;return Z=Pe(Z._payload),$(j,k,H,Z,de)}if(Me(Z)||B(Z))return j=j.get(H)||null,J(k,j,Z,de,null);if(typeof Z.then=="function")return $(j,k,H,Pc(Z),de);if(Z.$$typeof===re)return $(j,k,H,Ec(k,Z),de);Mc(k,Z)}return null}function Ae(j,k,H,Z){for(var de=null,Pe=null,me=k,Te=k=0,Lt=null;me!==null&&Te<H.length;Te++){me.index>Te?(Lt=me,me=null):Lt=me.sibling;var He=K(j,me,H[Te],Z);if(He===null){me===null&&(me=Lt);break}n&&me&&He.alternate===null&&i(j,me),k=m(He,k,Te),Pe===null?de=He:Pe.sibling=He,Pe=He,me=Lt}if(Te===H.length)return o(j,me),Ge&&zs(j,Te),de;if(me===null){for(;Te<H.length;Te++)me=ee(j,H[Te],Z),me!==null&&(k=m(me,k,Te),Pe===null?de=me:Pe.sibling=me,Pe=me);return Ge&&zs(j,Te),de}for(me=u(me);Te<H.length;Te++)Lt=$(me,j,Te,H[Te],Z),Lt!==null&&(n&&Lt.alternate!==null&&me.delete(Lt.key===null?Te:Lt.key),k=m(Lt,k,Te),Pe===null?de=Lt:Pe.sibling=Lt,Pe=Lt);return n&&me.forEach(function(Hi){return i(j,Hi)}),Ge&&zs(j,Te),de}function Ee(j,k,H,Z){if(H==null)throw Error(s(151));for(var de=null,Pe=null,me=k,Te=k=0,Lt=null,He=H.next();me!==null&&!He.done;Te++,He=H.next()){me.index>Te?(Lt=me,me=null):Lt=me.sibling;var Hi=K(j,me,He.value,Z);if(Hi===null){me===null&&(me=Lt);break}n&&me&&Hi.alternate===null&&i(j,me),k=m(Hi,k,Te),Pe===null?de=Hi:Pe.sibling=Hi,Pe=Hi,me=Lt}if(He.done)return o(j,me),Ge&&zs(j,Te),de;if(me===null){for(;!He.done;Te++,He=H.next())He=ee(j,He.value,Z),He!==null&&(k=m(He,k,Te),Pe===null?de=He:Pe.sibling=He,Pe=He);return Ge&&zs(j,Te),de}for(me=u(me);!He.done;Te++,He=H.next())He=$(me,j,Te,He.value,Z),He!==null&&(n&&He.alternate!==null&&me.delete(He.key===null?Te:He.key),k=m(He,k,Te),Pe===null?de=He:Pe.sibling=He,Pe=He);return n&&me.forEach(function(oR){return i(j,oR)}),Ge&&zs(j,Te),de}function et(j,k,H,Z){if(typeof H=="object"&&H!==null&&H.type===I&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var de=H.key;k!==null;){if(k.key===de){if(de=H.type,de===I){if(k.tag===7){o(j,k.sibling),Z=f(k,H.props.children),Z.return=j,j=Z;break e}}else if(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&O_(de)===k.type){o(j,k.sibling),Z=f(k,H.props),Il(Z,H),Z.return=j,j=Z;break e}o(j,k);break}else i(j,k);k=k.sibling}H.type===I?(Z=js(H.props.children,j.mode,Z,H.key),Z.return=j,j=Z):(Z=gc(H.type,H.key,H.props,null,j.mode,Z),Il(Z,H),Z.return=j,j=Z)}return E(j);case C:e:{for(de=H.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){o(j,k.sibling),Z=f(k,H.children||[]),Z.return=j,j=Z;break e}else{o(j,k);break}else i(j,k);k=k.sibling}Z=fd(H,j.mode,Z),Z.return=j,j=Z}return E(j);case R:return de=H._init,H=de(H._payload),et(j,k,H,Z)}if(Me(H))return Ae(j,k,H,Z);if(B(H)){if(de=B(H),typeof de!="function")throw Error(s(150));return H=de.call(H),Ee(j,k,H,Z)}if(typeof H.then=="function")return et(j,k,Pc(H),Z);if(H.$$typeof===re)return et(j,k,Ec(j,H),Z);Mc(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(o(j,k.sibling),Z=f(k,H),Z.return=j,j=Z):(o(j,k),Z=hd(H,j.mode,Z),Z.return=j,j=Z),E(j)):o(j,k)}return function(j,k,H,Z){try{Rl=0;var de=et(j,k,H,Z);return $a=null,de}catch(me){if(me===yl||me===bc)throw me;var Pe=En(29,me,null,j.mode);return Pe.lanes=Z,Pe.return=j,Pe}finally{}}}var Qa=D_(!0),P_=D_(!1),Ln=ie(null),_r=null;function Ci(n){var i=n.alternate;se(xt,xt.current&1),se(Ln,n),_r===null&&(i===null||Ha.current!==null||i.memoizedState!==null)&&(_r=n)}function M_(n){if(n.tag===22){if(se(xt,xt.current),se(Ln,n),_r===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(_r=n)}}else xi()}function xi(){se(xt,xt.current),se(Ln,Ln.current)}function Xr(n){ue(Ln),_r===n&&(_r=null),ue(xt)}var xt=ie(0);function Vc(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Mm(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Gd(n,i,o,u){i=n.memoizedState,o=o(u,i),o=o==null?i:_({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Kd={enqueueSetState:function(n,i,o){n=n._reactInternals;var u=An(),f=Si(u);f.payload=i,o!=null&&(f.callback=o),i=Ri(n,f,u),i!==null&&(Sn(i,n,u),vl(i,n,u))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var u=An(),f=Si(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=Ri(n,f,u),i!==null&&(Sn(i,n,u),vl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=An(),u=Si(o);u.tag=2,i!=null&&(u.callback=i),i=Ri(n,u,o),i!==null&&(Sn(i,n,o),vl(i,n,o))}};function V_(n,i,o,u,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,E):i.prototype&&i.prototype.isPureReactComponent?!ul(o,u)||!ul(f,m):!0}function k_(n,i,o,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==n&&Kd.enqueueReplaceState(i,i.state,null)}function Qs(n,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(n=n.defaultProps){o===i&&(o=_({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var kc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function L_(n){kc(n)}function U_(n){console.error(n)}function j_(n){kc(n)}function Lc(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function B_(n,i,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function $d(n,i,o){return o=Si(o),o.tag=3,o.payload={element:null},o.callback=function(){Lc(n,i)},o}function z_(n){return n=Si(n),n.tag=3,n}function q_(n,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){B_(i,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){B_(i,o,u),typeof f!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function o1(n,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&ml(i,o,f,!0),o=Ln.current,o!==null){switch(o.tag){case 13:return _r===null?ym():o.alternate===null&&ft===0&&(ft=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===bd?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),vm(n,u,f)),!1;case 22:return o.flags|=65536,u===bd?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),vm(n,u,f)),!1}throw Error(s(435,o.tag))}return vm(n,u,f),ym(),!1}if(Ge)return i=Ln.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==pd&&(n=Error(s(422),{cause:u}),dl(Pn(n,o)))):(u!==pd&&(i=Error(s(423),{cause:u}),dl(Pn(i,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Pn(u,o),f=$d(n.stateNode,u,f),Sd(n,f),ft!==4&&(ft=2)),!1;var m=Error(s(520),{cause:u});if(m=Pn(m,o),Ml===null?Ml=[m]:Ml.push(m),ft!==4&&(ft=2),i===null)return!0;u=Pn(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=$d(o.stateNode,u,n),Sd(o,n),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Vi===null||!Vi.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=z_(f),q_(f,n,o,u),Sd(o,f),!1}o=o.return}while(o!==null);return!1}var H_=Error(s(461)),Vt=!1;function zt(n,i,o,u){i.child=n===null?P_(i,null,o,u):Qa(i,n.child,o,u)}function F_(n,i,o,u,f){o=o.render;var m=i.ref;if("ref"in u){var E={};for(var w in u)w!=="ref"&&(E[w]=u[w])}else E=u;return Gs(i),u=Nd(n,i,o,E,m,f),w=Od(),n!==null&&!Vt?(Dd(n,i,f),Wr(n,i,f)):(Ge&&w&&dd(i),i.flags|=1,zt(n,i,u,f),i.child)}function G_(n,i,o,u,f){if(n===null){var m=o.type;return typeof m=="function"&&!cd(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,K_(n,i,m,u,f)):(n=gc(o.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!tm(n,f)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:ul,o(E,u)&&n.ref===i.ref)return Wr(n,i,f)}return i.flags|=1,n=Fr(m,u),n.ref=i.ref,n.return=i,i.child=n}function K_(n,i,o,u,f){if(n!==null){var m=n.memoizedProps;if(ul(m,u)&&n.ref===i.ref)if(Vt=!1,i.pendingProps=u=m,tm(n,f))(n.flags&131072)!==0&&(Vt=!0);else return i.lanes=n.lanes,Wr(n,i,f)}return Qd(n,i,o,u,f)}function $_(n,i,o){var u=i.pendingProps,f=u.children,m=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~u}else i.childLanes=0,i.child=null;return Q_(n,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Tc(i,m!==null?m.cachePool:null),m!==null?Ky(i,m):Id(),M_(i);else return i.lanes=i.childLanes=536870912,Q_(n,i,m!==null?m.baseLanes|o:o,o)}else m!==null?(Tc(i,m.cachePool),Ky(i,m),xi(),i.memoizedState=null):(n!==null&&Tc(i,null),Id(),xi());return zt(n,i,f,o),i.child}function Q_(n,i,o,u){var f=Td();return f=f===null?null:{parent:Ct._currentValue,pool:f},i.memoizedState={baseLanes:o,cachePool:f},n!==null&&Tc(i,null),Id(),M_(i),n!==null&&ml(n,i,u,!0),null}function Uc(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function Qd(n,i,o,u,f){return Gs(i),o=Nd(n,i,o,u,void 0,f),u=Od(),n!==null&&!Vt?(Dd(n,i,f),Wr(n,i,f)):(Ge&&u&&dd(i),i.flags|=1,zt(n,i,o,f),i.child)}function Y_(n,i,o,u,f,m){return Gs(i),i.updateQueue=null,o=Qy(i,u,o,f),$y(n),u=Od(),n!==null&&!Vt?(Dd(n,i,m),Wr(n,i,m)):(Ge&&u&&dd(i),i.flags|=1,zt(n,i,o,m),i.child)}function X_(n,i,o,u,f){if(Gs(i),i.stateNode===null){var m=Ua,E=o.contextType;typeof E=="object"&&E!==null&&(m=Qt(E)),m=new o(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Kd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},wd(i),E=o.contextType,m.context=typeof E=="object"&&E!==null?Qt(E):Ua,m.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Gd(i,o,E,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Kd.enqueueReplaceState(m,m.state,null),Tl(i,u,m,f),El(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){m=i.stateNode;var w=i.memoizedProps,N=Qs(o,w);m.props=N;var G=m.context,J=o.contextType;E=Ua,typeof J=="object"&&J!==null&&(E=Qt(J));var ee=o.getDerivedStateFromProps;J=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||G!==E)&&k_(i,m,u,E),Ai=!1;var K=i.memoizedState;m.state=K,Tl(i,u,m,f),El(),G=i.memoizedState,w||K!==G||Ai?(typeof ee=="function"&&(Gd(i,o,ee,u),G=i.memoizedState),(N=Ai||V_(i,o,N,u,K,G,E))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=G),m.props=u,m.state=G,m.context=E,u=N):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Ad(n,i),E=i.memoizedProps,J=Qs(o,E),m.props=J,ee=i.pendingProps,K=m.context,G=o.contextType,N=Ua,typeof G=="object"&&G!==null&&(N=Qt(G)),w=o.getDerivedStateFromProps,(G=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ee||K!==N)&&k_(i,m,u,N),Ai=!1,K=i.memoizedState,m.state=K,Tl(i,u,m,f),El();var $=i.memoizedState;E!==ee||K!==$||Ai||n!==null&&n.dependencies!==null&&vc(n.dependencies)?(typeof w=="function"&&(Gd(i,o,w,u),$=i.memoizedState),(J=Ai||V_(i,o,J,u,K,$,N)||n!==null&&n.dependencies!==null&&vc(n.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,$,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,$,N)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=$),m.props=u,m.state=$,m.context=N,u=J):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),u=!1)}return m=u,Uc(n,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&u?(i.child=Qa(i,n.child,null,f),i.child=Qa(i,null,o,f)):zt(n,i,o,f),i.memoizedState=m.state,n=i.child):n=Wr(n,i,f),n}function W_(n,i,o,u){return fl(),i.flags|=256,zt(n,i,o,u),i.child}var Yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xd(n){return{baseLanes:n,cachePool:Uy()}}function Wd(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Un),n}function J_(n,i,o){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(xt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ge){if(f?Ci(i):xi(),Ge){var w=ht,N;if(N=w){e:{for(N=w,w=yr;N.nodeType!==8;){if(!w){w=null;break e}if(N=Yn(N.nextSibling),N===null){w=null;break e}}w=N}w!==null?(i.memoizedState={dehydrated:w,treeContext:Bs!==null?{id:Gr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},N=En(18,null,null,0),N.stateNode=w,N.return=i,i.child=N,on=i,ht=null,N=!0):N=!1}N||Hs(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Mm(w)?i.lanes=32:i.lanes=536870912,null;Xr(i)}return w=u.children,u=u.fallback,f?(xi(),f=i.mode,w=jc({mode:"hidden",children:w},f),u=js(u,f,o,null),w.return=i,u.return=i,w.sibling=u,i.child=w,f=i.child,f.memoizedState=Xd(o),f.childLanes=Wd(n,E,o),i.memoizedState=Yd,u):(Ci(i),Jd(i,w))}if(N=n.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(m)i.flags&256?(Ci(i),i.flags&=-257,i=Zd(n,i,o)):i.memoizedState!==null?(xi(),i.child=n.child,i.flags|=128,i=null):(xi(),f=u.fallback,w=i.mode,u=jc({mode:"visible",children:u.children},w),f=js(f,w,o,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Qa(i,n.child,null,o),u=i.child,u.memoizedState=Xd(o),u.childLanes=Wd(n,E,o),i.memoizedState=Yd,i=f);else if(Ci(i),Mm(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var G=E.dgst;E=G,u=Error(s(419)),u.stack="",u.digest=E,dl({value:u,source:null,stack:null}),i=Zd(n,i,o)}else if(Vt||ml(n,i,o,!1),E=(o&n.childLanes)!==0,Vt||E){if(E=rt,E!==null&&(u=o&-o,u=(u&42)!==0?1:gi(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,La(n,u),Sn(E,n,u),H_;w.data==="$?"||ym(),i=Zd(n,i,o)}else w.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=N.treeContext,ht=Yn(w.nextSibling),on=i,Ge=!0,qs=null,yr=!1,n!==null&&(Vn[kn++]=Gr,Vn[kn++]=Kr,Vn[kn++]=Bs,Gr=n.id,Kr=n.overflow,Bs=i),i=Jd(i,u.children),i.flags|=4096);return i}return f?(xi(),f=u.fallback,w=i.mode,N=n.child,G=N.sibling,u=Fr(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,G!==null?f=Fr(G,f):(f=js(f,w,o,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,w=n.child.memoizedState,w===null?w=Xd(o):(N=w.cachePool,N!==null?(G=Ct._currentValue,N=N.parent!==G?{parent:G,pool:G}:N):N=Uy(),w={baseLanes:w.baseLanes|o,cachePool:N}),f.memoizedState=w,f.childLanes=Wd(n,E,o),i.memoizedState=Yd,u):(Ci(i),o=n.child,n=o.sibling,o=Fr(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=o,i.memoizedState=null,o)}function Jd(n,i){return i=jc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function jc(n,i){return n=En(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Zd(n,i,o){return Qa(i,n.child,null,o),n=Jd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Z_(n,i,o){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),yd(n.return,i,o)}function em(n,i,o,u,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function ev(n,i,o){var u=i.pendingProps,f=u.revealOrder,m=u.tail;if(zt(n,i,u.children,o),u=xt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Z_(n,o,i);else if(n.tag===19)Z_(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(se(xt,u),f){case"forwards":for(o=i.child,f=null;o!==null;)n=o.alternate,n!==null&&Vc(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),em(i,!1,f,o,m);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Vc(n)===null){i.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}em(i,!0,o,null,m);break;case"together":em(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Wr(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),Mi|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(ml(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,o=Fr(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=Fr(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function tm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&vc(n)))}function l1(n,i,o){switch(i.tag){case 3:nt(i,i.stateNode.containerInfo),wi(i,Ct,n.memoizedState.cache),fl();break;case 27:case 5:pi(i);break;case 4:nt(i,i.stateNode.containerInfo);break;case 10:wi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Ci(i),i.flags|=128,null):(o&i.child.childLanes)!==0?J_(n,i,o):(Ci(i),n=Wr(n,i,o),n!==null?n.sibling:null);Ci(i);break;case 19:var f=(n.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(ml(n,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return ev(n,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(xt,xt.current),u)break;return null;case 22:case 23:return i.lanes=0,$_(n,i,o);case 24:wi(i,Ct,n.memoizedState.cache)}return Wr(n,i,o)}function tv(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)Vt=!0;else{if(!tm(n,o)&&(i.flags&128)===0)return Vt=!1,l1(n,i,o);Vt=(n.flags&131072)!==0}else Vt=!1,Ge&&(i.flags&1048576)!==0&&Oy(i,_c,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")cd(u)?(n=Qs(u,n),i.tag=1,i=X_(null,i,u,n,o)):(i.tag=0,i=Qd(null,i,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===ce){i.tag=11,i=F_(null,i,u,n,o);break e}else if(f===P){i.tag=14,i=G_(null,i,u,n,o);break e}}throw i=ye(u)||u,Error(s(306,i,""))}}return i;case 0:return Qd(n,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=Qs(u,i.pendingProps),X_(n,i,u,f,o);case 3:e:{if(nt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));u=i.pendingProps;var m=i.memoizedState;f=m.element,Ad(n,i),Tl(i,u,null,o);var E=i.memoizedState;if(u=E.cache,wi(i,Ct,u),u!==m.cache&&_d(i,[Ct],o,!0),El(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=W_(n,i,u,o);break e}else if(u!==f){f=Pn(Error(s(424)),i),dl(f),i=W_(n,i,u,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=Yn(n.firstChild),on=i,Ge=!0,qs=null,yr=!0,o=P_(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(fl(),u===f){i=Wr(n,i,o);break e}zt(n,i,u,o)}i=i.child}return i;case 26:return Uc(n,i),n===null?(o=s0(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ge||(o=i.type,n=i.pendingProps,u=Zc(Se.current).createElement(o),u[St]=i,u[vt]=n,Ht(u,o,n),mt(u),i.stateNode=u):i.memoizedState=s0(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return pi(i),n===null&&Ge&&(u=i.stateNode=n0(i.type,i.pendingProps,Se.current),on=i,yr=!0,f=ht,Ui(i.type)?(Vm=f,ht=Yn(u.firstChild)):ht=f),zt(n,i,i.pendingProps.children,o),Uc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ge&&((f=u=ht)&&(u=k1(u,i.type,i.pendingProps,yr),u!==null?(i.stateNode=u,on=i,ht=Yn(u.firstChild),yr=!1,f=!0):f=!1),f||Hs(i)),pi(i),f=i.type,m=i.pendingProps,E=n!==null?n.memoizedProps:null,u=m.children,Om(f,m)?u=null:E!==null&&Om(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Nd(n,i,e1,null,null,o),Hl._currentValue=f),Uc(n,i),zt(n,i,u,o),i.child;case 6:return n===null&&Ge&&((n=o=ht)&&(o=L1(o,i.pendingProps,yr),o!==null?(i.stateNode=o,on=i,ht=null,n=!0):n=!1),n||Hs(i)),null;case 13:return J_(n,i,o);case 4:return nt(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=Qa(i,null,u,o):zt(n,i,u,o),i.child;case 11:return F_(n,i,i.type,i.pendingProps,o);case 7:return zt(n,i,i.pendingProps,o),i.child;case 8:return zt(n,i,i.pendingProps.children,o),i.child;case 12:return zt(n,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,wi(i,i.type,u.value),zt(n,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Gs(i),f=Qt(f),u=u(f),i.flags|=1,zt(n,i,u,o),i.child;case 14:return G_(n,i,i.type,i.pendingProps,o);case 15:return K_(n,i,i.type,i.pendingProps,o);case 19:return ev(n,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},n===null?(o=jc(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Fr(n.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return $_(n,i,o);case 24:return Gs(i),u=Qt(Ct),n===null?(f=Td(),f===null&&(f=rt,m=vd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),i.memoizedState={parent:u,cache:f},wd(i),wi(i,Ct,f)):((n.lanes&o)!==0&&(Ad(n,i),Tl(i,null,null,o),El()),f=n.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),wi(i,Ct,u)):(u=m.cache,wi(i,Ct,u),u!==f.cache&&_d(i,[Ct],o,!0))),zt(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Jr(n){n.flags|=4}function nv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!c0(i)){if(i=Ln.current,i!==null&&((ze&4194048)===ze?_r!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==_r))throw _l=bd,jy;n.flags|=8192}}function Bc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Go():536870912,n.lanes|=i,Ja|=i)}function Cl(n,i){if(!Ge)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function lt(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(i)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,i}function u1(n,i,o){var u=i.pendingProps;switch(md(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return o=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Qr(Ct),sr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(hl(i)?Jr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,My())),lt(i),null;case 26:return o=i.memoizedState,n===null?(Jr(i),o!==null?(lt(i),nv(i,o)):(lt(i),i.flags&=-16777217)):o?o!==n.memoizedState?(Jr(i),lt(i),nv(i,o)):(lt(i),i.flags&=-16777217):(n.memoizedProps!==u&&Jr(i),lt(i),i.flags&=-16777217),null;case 27:Or(i),o=Se.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Jr(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return lt(i),null}n=ve.current,hl(i)?Dy(i):(n=n0(f,u,o),i.stateNode=n,Jr(i))}return lt(i),null;case 5:if(Or(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Jr(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(n=ve.current,hl(i))Dy(i);else{switch(f=Zc(Se.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[St]=i,n[vt]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Ht(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Jr(i)}}return lt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&Jr(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=Se.current,hl(i)){if(n=i.stateNode,o=i.memoizedProps,u=null,f=on,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[St]=i,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Yv(n.nodeValue,o)),n||Hs(i)}else n=Zc(n).createTextNode(u),n[St]=i,i.stateNode=n}return lt(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=hl(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[St]=i}else fl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),f=!1}else f=My(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Xr(i),i):(Xr(i),null)}if(Xr(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),Bc(i,i.updateQueue),lt(i),null;case 4:return sr(),n===null&&Rm(i.stateNode.containerInfo),lt(i),null;case 10:return Qr(i.type),lt(i),null;case 19:if(ue(xt),f=i.memoizedState,f===null)return lt(i),null;if(u=(i.flags&128)!==0,m=f.rendering,m===null)if(u)Cl(f,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Vc(n),m!==null){for(i.flags|=128,Cl(f,!1),n=m.updateQueue,i.updateQueue=n,Bc(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)Ny(o,n),o=o.sibling;return se(xt,xt.current&1|2),i.child}n=n.sibling}f.tail!==null&&In()>Hc&&(i.flags|=128,u=!0,Cl(f,!1),i.lanes=4194304)}else{if(!u)if(n=Vc(m),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Bc(i,n),Cl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ge)return lt(i),null}else 2*In()-f.renderingStartTime>Hc&&o!==536870912&&(i.flags|=128,u=!0,Cl(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=In(),i.sibling=null,n=xt.current,se(xt,u?n&1|2:n&1),i):(lt(i),null);case 22:case 23:return Xr(i),Cd(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),o=i.updateQueue,o!==null&&Bc(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),n!==null&&ue(Ks),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Qr(Ct),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function c1(n,i){switch(md(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Qr(Ct),sr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Or(i),null;case 13:if(Xr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));fl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ue(xt),null;case 4:return sr(),null;case 10:return Qr(i.type),null;case 22:case 23:return Xr(i),Cd(),n!==null&&ue(Ks),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Qr(Ct),null;case 25:return null;default:return null}}function rv(n,i){switch(md(i),i.tag){case 3:Qr(Ct),sr();break;case 26:case 27:case 5:Or(i);break;case 4:sr();break;case 13:Xr(i);break;case 19:ue(xt);break;case 10:Qr(i.type);break;case 22:case 23:Xr(i),Cd(),n!==null&&ue(Ks);break;case 24:Qr(Ct)}}function xl(n,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==f)}}catch(w){tt(i,i.return,w)}}function Ni(n,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var E=u.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=i;var N=o,G=w;try{G()}catch(J){tt(f,N,J)}}}u=u.next}while(u!==m)}}catch(J){tt(i,i.return,J)}}function iv(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{Gy(i,o)}catch(u){tt(n,n.return,u)}}}function sv(n,i,o){o.props=Qs(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){tt(n,i,u)}}function Nl(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){tt(n,i,f)}}function vr(n,i){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){tt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(n,i,f)}else o.current=null}function av(n){var i=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){tt(n,n.return,f)}}function nm(n,i,o){try{var u=n.stateNode;O1(u,n.type,o,i),u[vt]=i}catch(f){tt(n,n.return,f)}}function ov(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ui(n.type)||n.tag===4}function rm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ov(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ui(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function im(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Jc));else if(u!==4&&(u===27&&Ui(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(im(n,i,o),n=n.sibling;n!==null;)im(n,i,o),n=n.sibling}function zc(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(u!==4&&(u===27&&Ui(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(zc(n,i,o),n=n.sibling;n!==null;)zc(n,i,o),n=n.sibling}function lv(n){var i=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Ht(i,u,o),i[St]=n,i[vt]=o}catch(m){tt(n,n.return,m)}}var Zr=!1,gt=!1,sm=!1,uv=typeof WeakSet=="function"?WeakSet:Set,kt=null;function h1(n,i){if(n=n.containerInfo,xm=sh,n=Ey(n),rd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,w=-1,N=-1,G=0,J=0,ee=n,K=null;t:for(;;){for(var $;ee!==o||f!==0&&ee.nodeType!==3||(w=E+f),ee!==m||u!==0&&ee.nodeType!==3||(N=E+u),ee.nodeType===3&&(E+=ee.nodeValue.length),($=ee.firstChild)!==null;)K=ee,ee=$;for(;;){if(ee===n)break t;if(K===o&&++G===f&&(w=E),K===m&&++J===u&&(N=E),($=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=$}o=w===-1||N===-1?null:{start:w,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Nm={focusedElem:n,selectionRange:o},sh=!1,kt=i;kt!==null;)if(i=kt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,kt=n;else for(;kt!==null;){switch(i=kt,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=i,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var Ae=Qs(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(Ae,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ee){tt(o,o.return,Ee)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)Pm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Pm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,kt=n;break}kt=i.return}}function cv(n,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Oi(n,o),u&4&&xl(5,o);break;case 1:if(Oi(n,o),u&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(E){tt(o,o.return,E)}else{var f=Qs(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){tt(o,o.return,E)}}u&64&&iv(o),u&512&&Nl(o,o.return);break;case 3:if(Oi(n,o),u&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Gy(n,i)}catch(E){tt(o,o.return,E)}}break;case 27:i===null&&u&4&&lv(o);case 26:case 5:Oi(n,o),i===null&&u&4&&av(o),u&512&&Nl(o,o.return);break;case 12:Oi(n,o);break;case 13:Oi(n,o),u&4&&dv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=E1.bind(null,o),U1(n,o))));break;case 22:if(u=o.memoizedState!==null||Zr,!u){i=i!==null&&i.memoizedState!==null||gt,f=Zr;var m=gt;Zr=u,(gt=i)&&!m?Di(n,o,(o.subtreeFlags&8772)!==0):Oi(n,o),Zr=f,gt=m}break;case 30:break;default:Oi(n,o)}}function hv(n){var i=n.alternate;i!==null&&(n.alternate=null,hv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&vi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var at=null,un=!1;function ei(n,i,o){for(o=o.child;o!==null;)fv(n,i,o),o=o.sibling}function fv(n,i,o){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ct,o)}catch{}switch(o.tag){case 26:gt||vr(o,i),ei(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:gt||vr(o,i);var u=at,f=un;Ui(o.type)&&(at=o.stateNode,un=!1),ei(n,i,o),jl(o.stateNode),at=u,un=f;break;case 5:gt||vr(o,i);case 6:if(u=at,f=un,at=null,ei(n,i,o),at=u,un=f,at!==null)if(un)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(o.stateNode)}catch(m){tt(o,i,m)}else try{at.removeChild(o.stateNode)}catch(m){tt(o,i,m)}break;case 18:at!==null&&(un?(n=at,e0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),$l(n)):e0(at,o.stateNode));break;case 4:u=at,f=un,at=o.stateNode.containerInfo,un=!0,ei(n,i,o),at=u,un=f;break;case 0:case 11:case 14:case 15:gt||Ni(2,o,i),gt||Ni(4,o,i),ei(n,i,o);break;case 1:gt||(vr(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&sv(o,i,u)),ei(n,i,o);break;case 21:ei(n,i,o);break;case 22:gt=(u=gt)||o.memoizedState!==null,ei(n,i,o),gt=u;break;default:ei(n,i,o)}}function dv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{$l(n)}catch(o){tt(i,i.return,o)}}function f1(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new uv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new uv),i;default:throw Error(s(435,n.tag))}}function am(n,i){var o=f1(n);i.forEach(function(u){var f=T1.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function Tn(n,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=n,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(Ui(w.type)){at=w.stateNode,un=!1;break e}break;case 5:at=w.stateNode,un=!1;break e;case 3:case 4:at=w.stateNode.containerInfo,un=!0;break e}w=w.return}if(at===null)throw Error(s(160));fv(m,E,f),at=null,un=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)mv(i,n),i=i.sibling}var Qn=null;function mv(n,i){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Tn(i,n),bn(n),u&4&&(Ni(3,n,n.return),xl(3,n),Ni(5,n,n.return));break;case 1:Tn(i,n),bn(n),u&512&&(gt||o===null||vr(o,o.return)),u&64&&Zr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Qn;if(Tn(i,n),bn(n),u&512&&(gt||o===null||vr(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ws]||m[St]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Ht(m,u,o),m[St]=n,mt(m),u=m;break e;case"link":var E=l0("link","href",f).get(u+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(m=E[w],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break t}}m=f.createElement(u),Ht(m,u,o),f.head.appendChild(m);break;case"meta":if(E=l0("meta","content",f).get(u+(o.content||""))){for(w=0;w<E.length;w++)if(m=E[w],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break t}}m=f.createElement(u),Ht(m,u,o),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[St]=n,mt(m),u=m}n.stateNode=u}else u0(f,n.type,n.stateNode);else n.stateNode=o0(f,u,n.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?u0(f,n.type,n.stateNode):o0(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&nm(n,n.memoizedProps,o.memoizedProps)}break;case 27:Tn(i,n),bn(n),u&512&&(gt||o===null||vr(o,o.return)),o!==null&&u&4&&nm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Tn(i,n),bn(n),u&512&&(gt||o===null||vr(o,o.return)),n.flags&32){f=n.stateNode;try{xn(f,"")}catch($){tt(n,n.return,$)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,nm(n,f,o!==null?o.memoizedProps:f)),u&1024&&(sm=!0);break;case 6:if(Tn(i,n),bn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch($){tt(n,n.return,$)}}break;case 3:if(nh=null,f=Qn,Qn=eh(i.containerInfo),Tn(i,n),Qn=f,bn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{$l(i.containerInfo)}catch($){tt(n,n.return,$)}sm&&(sm=!1,pv(n));break;case 4:u=Qn,Qn=eh(n.stateNode.containerInfo),Tn(i,n),bn(n),Qn=u;break;case 12:Tn(i,n),bn(n);break;case 13:Tn(i,n),bn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(fm=In()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,am(n,u)));break;case 22:f=n.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,G=Zr,J=gt;if(Zr=G||f,gt=J||N,Tn(i,n),gt=J,Zr=G,bn(n),u&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||N||Zr||gt||Ys(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){N=o=i;try{if(m=N.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=N.stateNode;var ee=N.memoizedProps.style,K=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch($){tt(N,N.return,$)}}}else if(i.tag===6){if(o===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch($){tt(N,N.return,$)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,am(n,o))));break;case 19:Tn(i,n),bn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,am(n,u)));break;case 30:break;case 21:break;default:Tn(i,n),bn(n)}}function bn(n){var i=n.flags;if(i&2){try{for(var o,u=n.return;u!==null;){if(ov(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,m=rm(n);zc(n,m,f);break;case 5:var E=o.stateNode;o.flags&32&&(xn(E,""),o.flags&=-33);var w=rm(n);zc(n,w,E);break;case 3:case 4:var N=o.stateNode.containerInfo,G=rm(n);im(n,G,N);break;default:throw Error(s(161))}}catch(J){tt(n,n.return,J)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function pv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;pv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Oi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cv(n,i.alternate,i),i=i.sibling}function Ys(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ni(4,i,i.return),Ys(i);break;case 1:vr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&sv(i,i.return,o),Ys(i);break;case 27:jl(i.stateNode);case 26:case 5:vr(i,i.return),Ys(i);break;case 22:i.memoizedState===null&&Ys(i);break;case 30:Ys(i);break;default:Ys(i)}n=n.sibling}}function Di(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,m=i,E=m.flags;switch(m.tag){case 0:case 11:case 15:Di(f,m,o),xl(4,m);break;case 1:if(Di(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){tt(u,u.return,G)}if(u=m,f=u.updateQueue,f!==null){var w=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Fy(N[f],w)}catch(G){tt(u,u.return,G)}}o&&E&64&&iv(m),Nl(m,m.return);break;case 27:lv(m);case 26:case 5:Di(f,m,o),o&&u===null&&E&4&&av(m),Nl(m,m.return);break;case 12:Di(f,m,o);break;case 13:Di(f,m,o),o&&E&4&&dv(f,m);break;case 22:m.memoizedState===null&&Di(f,m,o),Nl(m,m.return);break;case 30:break;default:Di(f,m,o)}i=i.sibling}}function om(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&pl(o))}function lm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&pl(n))}function Er(n,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gv(n,i,o,u),i=i.sibling}function gv(n,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Er(n,i,o,u),f&2048&&xl(9,i);break;case 1:Er(n,i,o,u);break;case 3:Er(n,i,o,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&pl(n)));break;case 12:if(f&2048){Er(n,i,o,u),n=i.stateNode;try{var m=i.memoizedProps,E=m.id,w=m.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){tt(i,i.return,N)}}else Er(n,i,o,u);break;case 13:Er(n,i,o,u);break;case 23:break;case 22:m=i.stateNode,E=i.alternate,i.memoizedState!==null?m._visibility&2?Er(n,i,o,u):Ol(n,i):m._visibility&2?Er(n,i,o,u):(m._visibility|=2,Ya(n,i,o,u,(i.subtreeFlags&10256)!==0)),f&2048&&om(E,i);break;case 24:Er(n,i,o,u),f&2048&&lm(i.alternate,i);break;default:Er(n,i,o,u)}}function Ya(n,i,o,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,E=i,w=o,N=u,G=E.flags;switch(E.tag){case 0:case 11:case 15:Ya(m,E,w,N,f),xl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Ya(m,E,w,N,f):Ol(m,E):(J._visibility|=2,Ya(m,E,w,N,f)),f&&G&2048&&om(E.alternate,E);break;case 24:Ya(m,E,w,N,f),f&&G&2048&&lm(E.alternate,E);break;default:Ya(m,E,w,N,f)}i=i.sibling}}function Ol(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,u=i,f=u.flags;switch(u.tag){case 22:Ol(o,u),f&2048&&om(u.alternate,u);break;case 24:Ol(o,u),f&2048&&lm(u.alternate,u);break;default:Ol(o,u)}i=i.sibling}}var Dl=8192;function Xa(n){if(n.subtreeFlags&Dl)for(n=n.child;n!==null;)yv(n),n=n.sibling}function yv(n){switch(n.tag){case 26:Xa(n),n.flags&Dl&&n.memoizedState!==null&&W1(Qn,n.memoizedState,n.memoizedProps);break;case 5:Xa(n);break;case 3:case 4:var i=Qn;Qn=eh(n.stateNode.containerInfo),Xa(n),Qn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Dl,Dl=16777216,Xa(n),Dl=i):Xa(n));break;default:Xa(n)}}function _v(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Pl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];kt=u,Ev(u,n)}_v(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vv(n),n=n.sibling}function vv(n){switch(n.tag){case 0:case 11:case 15:Pl(n),n.flags&2048&&Ni(9,n,n.return);break;case 3:Pl(n);break;case 12:Pl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,qc(n)):Pl(n);break;default:Pl(n)}}function qc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];kt=u,Ev(u,n)}_v(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ni(8,i,i.return),qc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,qc(i));break;default:qc(i)}n=n.sibling}}function Ev(n,i){for(;kt!==null;){var o=kt;switch(o.tag){case 0:case 11:case 15:Ni(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:pl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,kt=u;else e:for(o=n;kt!==null;){u=kt;var f=u.sibling,m=u.return;if(hv(u),u===o){kt=null;break e}if(f!==null){f.return=m,kt=f;break e}kt=m}}}var d1={getCacheForType:function(n){var i=Qt(Ct),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},m1=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,Ve=null,ze=0,Xe=0,wn=null,Pi=!1,Wa=!1,um=!1,ti=0,ft=0,Mi=0,Xs=0,cm=0,Un=0,Ja=0,Ml=null,cn=null,hm=!1,fm=0,Hc=1/0,Fc=null,Vi=null,qt=0,ki=null,Za=null,eo=0,dm=0,mm=null,Tv=null,Vl=0,pm=null;function An(){if((Ye&2)!==0&&ze!==0)return ze&-ze;if(W.T!==null){var n=za;return n!==0?n:bm()}return yi()}function bv(){Un===0&&(Un=(ze&536870912)===0||Ge?Fo():536870912);var n=Ln.current;return n!==null&&(n.flags|=32),Un}function Sn(n,i,o){(n===rt&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(to(n,0),Li(n,ze,Un,!1)),Pr(n,o),((Ye&2)===0||n!==rt)&&(n===rt&&((Ye&2)===0&&(Xs|=o),ft===4&&Li(n,ze,Un,!1)),Tr(n))}function wv(n,i,o){if((Ye&6)!==0)throw Error(s(327));var u=!o&&(i&124)===0&&(i&n.expiredLanes)===0||bs(n,i),f=u?y1(n,i):_m(n,i,!0),m=u;do{if(f===0){Wa&&!u&&Li(n,i,0,!1);break}else{if(o=n.current.alternate,m&&!p1(o)){f=_m(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=n;f=Ml;var N=w.current.memoizedState.isDehydrated;if(N&&(to(w,E).flags|=256),E=_m(w,E,!1),E!==2){if(um&&!N){w.errorRecoveryDisabledLanes|=m,Xs|=m,f=4;break e}m=cn,cn=f,m!==null&&(cn===null?cn=m:cn.push.apply(cn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){to(n,0),Li(n,i,0,!0);break}e:{switch(u=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Li(u,i,Un,!Pi);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=fm+300-In(),10<f)){if(Li(u,i,Un,!Pi),_a(u,0,!0)!==0)break e;u.timeoutHandle=Jv(Av.bind(null,u,o,cn,Fc,hm,i,Un,Xs,Ja,Pi,m,2,-0,0),f);break e}Av(u,o,cn,Fc,hm,i,Un,Xs,Ja,Pi,m,0,-0,0)}}break}while(!0);Tr(n)}function Av(n,i,o,u,f,m,E,w,N,G,J,ee,K,$){if(n.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:X1},yv(i),ee=J1(),ee!==null)){n.cancelPendingCommit=ee(Ov.bind(null,n,i,m,o,u,f,E,w,N,J,1,K,$)),Li(n,m,E,!G);return}Ov(n,i,m,o,u,f,E,w,N)}function p1(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!vn(m(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Li(n,i,o,u){i&=~cm,i&=~Xs,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var m=31-$t(f),E=1<<m;u[m]=-1,f&=~E}o!==0&&ar(n,o,i)}function Gc(){return(Ye&6)===0?(kl(0),!1):!0}function gm(){if(Ve!==null){if(Xe===0)var n=Ve.return;else n=Ve,$r=Fs=null,Pd(n),$a=null,Rl=0,n=Ve;for(;n!==null;)rv(n.alternate,n),n=n.return;Ve=null}}function to(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,P1(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),gm(),rt=n,Ve=o=Fr(n.current,null),ze=i,Xe=0,wn=null,Pi=!1,Wa=bs(n,i),um=!1,Ja=Un=cm=Xs=Mi=ft=0,cn=Ml=null,hm=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-$t(u),m=1<<f;i|=n[f],u&=~m}return ti=i,dc(),o}function Sv(n,i){Ne=null,W.H=Dc,i===yl||i===bc?(i=qy(),Xe=3):i===jy?(i=qy(),Xe=4):Xe=i===H_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,Ve===null&&(ft=1,Lc(n,Pn(i,n.current)))}function Rv(){var n=W.H;return W.H=Dc,n===null?Dc:n}function Iv(){var n=W.A;return W.A=d1,n}function ym(){ft=4,Pi||(ze&4194048)!==ze&&Ln.current!==null||(Wa=!0),(Mi&134217727)===0&&(Xs&134217727)===0||rt===null||Li(rt,ze,Un,!1)}function _m(n,i,o){var u=Ye;Ye|=2;var f=Rv(),m=Iv();(rt!==n||ze!==i)&&(Fc=null,to(n,i)),i=!1;var E=ft;e:do try{if(Xe!==0&&Ve!==null){var w=Ve,N=wn;switch(Xe){case 8:gm(),E=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(i=!0);var G=Xe;if(Xe=0,wn=null,no(n,w,N,G),o&&Wa){E=0;break e}break;default:G=Xe,Xe=0,wn=null,no(n,w,N,G)}}g1(),E=ft;break}catch(J){Sv(n,J)}while(!0);return i&&n.shellSuspendCounter++,$r=Fs=null,Ye=u,W.H=f,W.A=m,Ve===null&&(rt=null,ze=0,dc()),E}function g1(){for(;Ve!==null;)Cv(Ve)}function y1(n,i){var o=Ye;Ye|=2;var u=Rv(),f=Iv();rt!==n||ze!==i?(Fc=null,Hc=In()+500,to(n,i)):Wa=bs(n,i);e:do try{if(Xe!==0&&Ve!==null){i=Ve;var m=wn;t:switch(Xe){case 1:Xe=0,wn=null,no(n,i,m,1);break;case 2:case 9:if(By(m)){Xe=0,wn=null,xv(i);break}i=function(){Xe!==2&&Xe!==9||rt!==n||(Xe=7),Tr(n)},m.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:By(m)?(Xe=0,wn=null,xv(i)):(Xe=0,wn=null,no(n,i,m,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var w=Ve;if(!E||c0(E)){Xe=0,wn=null;var N=w.sibling;if(N!==null)Ve=N;else{var G=w.return;G!==null?(Ve=G,Kc(G)):Ve=null}break t}}Xe=0,wn=null,no(n,i,m,5);break;case 6:Xe=0,wn=null,no(n,i,m,6);break;case 8:gm(),ft=6;break e;default:throw Error(s(462))}}_1();break}catch(J){Sv(n,J)}while(!0);return $r=Fs=null,W.H=u,W.A=f,Ye=o,Ve!==null?0:(rt=null,ze=0,dc(),ft)}function _1(){for(;Ve!==null&&!Bo();)Cv(Ve)}function Cv(n){var i=tv(n.alternate,n,ti);n.memoizedProps=n.pendingProps,i===null?Kc(n):Ve=i}function xv(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=Y_(o,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=Y_(o,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Pd(i);default:rv(o,i),i=Ve=Ny(i,ti),i=tv(o,i,ti)}n.memoizedProps=n.pendingProps,i===null?Kc(n):Ve=i}function no(n,i,o,u){$r=Fs=null,Pd(i),$a=null,Rl=0;var f=i.return;try{if(o1(n,f,i,o,ze)){ft=1,Lc(n,Pn(o,n.current)),Ve=null;return}}catch(m){if(f!==null)throw Ve=f,m;ft=1,Lc(n,Pn(o,n.current)),Ve=null;return}i.flags&32768?(Ge||u===1?n=!0:Wa||(ze&536870912)!==0?n=!1:(Pi=n=!0,(u===2||u===9||u===3||u===6)&&(u=Ln.current,u!==null&&u.tag===13&&(u.flags|=16384))),Nv(i,n)):Kc(i)}function Kc(n){var i=n;do{if((i.flags&32768)!==0){Nv(i,Pi);return}n=i.return;var o=u1(i.alternate,i,ti);if(o!==null){Ve=o;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=n}while(i!==null);ft===0&&(ft=5)}function Nv(n,i){do{var o=c1(n.alternate,n);if(o!==null){o.flags&=32767,Ve=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=o}while(n!==null);ft=6,Ve=null}function Ov(n,i,o,u,f,m,E,w,N){n.cancelPendingCommit=null;do $c();while(qt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=ld,Ko(n,o,m,E,w,N),n===rt&&(Ve=rt=null,ze=0),Za=i,ki=n,eo=o,dm=m,mm=f,Tv=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,b1(_s,function(){return kv(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=ae.p,ae.p=2,E=Ye,Ye|=4;try{h1(n,i,o)}finally{Ye=E,ae.p=f,W.T=u}}qt=1,Dv(),Pv(),Mv()}}function Dv(){if(qt===1){qt=0;var n=ki,i=Za,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=ae.p;ae.p=2;var f=Ye;Ye|=4;try{mv(i,n);var m=Nm,E=Ey(n.containerInfo),w=m.focusedElem,N=m.selectionRange;if(E!==w&&w&&w.ownerDocument&&vy(w.ownerDocument.documentElement,w)){if(N!==null&&rd(w)){var G=N.start,J=N.end;if(J===void 0&&(J=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(J,w.value.length);else{var ee=w.ownerDocument||document,K=ee&&ee.defaultView||window;if(K.getSelection){var $=K.getSelection(),Ae=w.textContent.length,Ee=Math.min(N.start,Ae),et=N.end===void 0?Ee:Math.min(N.end,Ae);!$.extend&&Ee>et&&(E=et,et=Ee,Ee=E);var j=_y(w,Ee),k=_y(w,et);if(j&&k&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==k.node||$.focusOffset!==k.offset)){var H=ee.createRange();H.setStart(j.node,j.offset),$.removeAllRanges(),Ee>et?($.addRange(H),$.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),$.addRange(H))}}}}for(ee=[],$=w;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var Z=ee[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}sh=!!xm,Nm=xm=null}finally{Ye=f,ae.p=u,W.T=o}}n.current=i,qt=2}}function Pv(){if(qt===2){qt=0;var n=ki,i=Za,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=ae.p;ae.p=2;var f=Ye;Ye|=4;try{cv(n,i.alternate,i)}finally{Ye=f,ae.p=u,W.T=o}}qt=3}}function Mv(){if(qt===4||qt===3){qt=0,qu();var n=ki,i=Za,o=eo,u=Tv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qt=5:(qt=0,Za=ki=null,Vv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Vi=null),va(o),i=i.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ct,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=W.T,f=ae.p,ae.p=2,W.T=null;try{for(var m=n.onRecoverableError,E=0;E<u.length;E++){var w=u[E];m(w.value,{componentStack:w.stack})}}finally{W.T=i,ae.p=f}}(eo&3)!==0&&$c(),Tr(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===pm?Vl++:(Vl=0,pm=n):Vl=0,kl(0)}}function Vv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,pl(i)))}function $c(n){return Dv(),Pv(),Mv(),kv()}function kv(){if(qt!==5)return!1;var n=ki,i=dm;dm=0;var o=va(eo),u=W.T,f=ae.p;try{ae.p=32>o?32:o,W.T=null,o=mm,mm=null;var m=ki,E=eo;if(qt=0,Za=ki=null,eo=0,(Ye&6)!==0)throw Error(s(331));var w=Ye;if(Ye|=4,vv(m.current),gv(m,m.current,E,o),Ye=w,kl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ct,m)}catch{}return!0}finally{ae.p=f,W.T=u,Vv(n,i)}}function Lv(n,i,o){i=Pn(o,i),i=$d(n.stateNode,i,2),n=Ri(n,i,2),n!==null&&(Pr(n,2),Tr(n))}function tt(n,i,o){if(n.tag===3)Lv(n,n,o);else for(;i!==null;){if(i.tag===3){Lv(i,n,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Vi===null||!Vi.has(u))){n=Pn(o,n),o=z_(2),u=Ri(i,o,2),u!==null&&(q_(o,u,i,n),Pr(u,2),Tr(u));break}}i=i.return}}function vm(n,i,o){var u=n.pingCache;if(u===null){u=n.pingCache=new m1;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(um=!0,f.add(o),n=v1.bind(null,n,i,o),i.then(n,n))}function v1(n,i,o){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,rt===n&&(ze&o)===o&&(ft===4||ft===3&&(ze&62914560)===ze&&300>In()-fm?(Ye&2)===0&&to(n,0):cm|=o,Ja===ze&&(Ja=0)),Tr(n)}function Uv(n,i){i===0&&(i=Go()),n=La(n,i),n!==null&&(Pr(n,i),Tr(n))}function E1(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Uv(n,o)}function T1(n,i){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),Uv(n,o)}function b1(n,i){return gs(n,i)}var Qc=null,ro=null,Em=!1,Yc=!1,Tm=!1,Ws=0;function Tr(n){n!==ro&&n.next===null&&(ro===null?Qc=ro=n:ro=ro.next=n),Yc=!0,Em||(Em=!0,A1())}function kl(n,i){if(!Tm&&Yc){Tm=!0;do for(var o=!1,u=Qc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,w=u.pingedLanes;m=(1<<31-$t(42|n)+1)-1,m&=f&~(E&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,qv(u,m))}else m=ze,m=_a(u,u===rt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||bs(u,m)||(o=!0,qv(u,m));u=u.next}while(o);Tm=!1}}function w1(){jv()}function jv(){Yc=Em=!1;var n=0;Ws!==0&&(D1()&&(n=Ws),Ws=0);for(var i=In(),o=null,u=Qc;u!==null;){var f=u.next,m=Bv(u,i);m===0?(u.next=null,o===null?Qc=f:o.next=f,f===null&&(ro=o)):(o=u,(n!==0||(m&3)!==0)&&(Yc=!0)),u=f}kl(n)}function Bv(n,i){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-$t(m),w=1<<E,N=f[E];N===-1?((w&o)===0||(w&u)!==0)&&(f[E]=Ho(w,i)):N<=i&&(n.expiredLanes|=w),m&=~w}if(i=rt,o=ze,o=_a(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===i&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&ys(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||bs(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(u!==null&&ys(u),va(o)){case 2:case 8:o=ga;break;case 32:o=_s;break;case 268435456:o=ya;break;default:o=_s}return u=zv.bind(null,n),o=gs(o,u),n.callbackPriority=i,n.callbackNode=o,i}return u!==null&&u!==null&&ys(u),n.callbackPriority=2,n.callbackNode=null,2}function zv(n,i){if(qt!==0&&qt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if($c()&&n.callbackNode!==o)return null;var u=ze;return u=_a(n,n===rt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(wv(n,u,i),Bv(n,In()),n.callbackNode!=null&&n.callbackNode===o?zv.bind(null,n):null)}function qv(n,i){if($c())return null;wv(n,i,!0)}function A1(){M1(function(){(Ye&6)!==0?gs(zo,w1):jv()})}function bm(){return Ws===0&&(Ws=Fo()),Ws}function Hv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Sa(""+n)}function Fv(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function S1(n,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var m=Hv((f[vt]||null).action),E=u.submitter;E&&(i=(i=E[vt]||null)?Hv(i.formAction):E.getAttribute("formAction"),i!==null&&(m=i,E=null));var w=new Ra("action","action",null,u,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ws!==0){var N=E?Fv(f,E):new FormData(f);qd(o,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(w.preventDefault(),N=E?Fv(f,E):new FormData(f),qd(o,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var wm=0;wm<od.length;wm++){var Am=od[wm],R1=Am.toLowerCase(),I1=Am[0].toUpperCase()+Am.slice(1);$n(R1,"on"+I1)}$n(wy,"onAnimationEnd"),$n(Ay,"onAnimationIteration"),$n(Sy,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(FS,"onTransitionRun"),$n(GS,"onTransitionStart"),$n(KS,"onTransitionCancel"),$n(Ry,"onTransitionEnd"),Vr("onMouseEnter",["mouseout","mouseover"]),Vr("onMouseLeave",["mouseout","mouseover"]),Vr("onPointerEnter",["pointerout","pointerover"]),Vr("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Gv(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var E=u.length-1;0<=E;E--){var w=u[E],N=w.instance,G=w.currentTarget;if(w=w.listener,N!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=G;try{m(f)}catch(J){kc(J)}f.currentTarget=null,m=N}else for(E=0;E<u.length;E++){if(w=u[E],N=w.instance,G=w.currentTarget,w=w.listener,N!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=G;try{m(f)}catch(J){kc(J)}f.currentTarget=null,m=N}}}}function ke(n,i){var o=i[Qo];o===void 0&&(o=i[Qo]=new Set);var u=n+"__bubble";o.has(u)||(Kv(i,n,2,!1),o.add(u))}function Sm(n,i,o){var u=0;i&&(u|=4),Kv(o,n,u,i)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function Rm(n){if(!n[Xc]){n[Xc]=!0,Yo.forEach(function(o){o!=="selectionchange"&&(C1.has(o)||Sm(o,!1,n),Sm(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Xc]||(i[Xc]=!0,Sm("selectionchange",!1,i))}}function Kv(n,i,o,u){switch(g0(i)){case 2:var f=tR;break;case 8:f=nR;break;default:f=Bm}o=f.bind(null,i,o,n),f=void 0,!On||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,o,{capture:!0,passive:f}):n.addEventListener(i,o,!0):f!==void 0?n.addEventListener(i,o,{passive:f}):n.addEventListener(i,o,!1)}function Im(n,i,o,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var w=u.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=u.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=Mr(w),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){u=m=E;continue e}w=w.parentNode}}u=u.return}Ju(function(){var G=m,J=Nn(o),ee=[];e:{var K=Iy.get(n);if(K!==void 0){var $=Ra,Ae=n;switch(n){case"keypress":if(fr(o)===0)break e;case"keydown":case"keyup":$=Da;break;case"focusin":Ae="focus",$=xa;break;case"focusout":Ae="blur",$=xa;break;case"beforeblur":case"afterblur":$=xa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=ac;break;case wy:case Ay:case Sy:$=Na;break;case Ry:$=lc;break;case"scroll":case"scrollend":$=Zu;break;case"wheel":$=Pa;break;case"copy":case"cut":case"paste":$=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=ol;break;case"toggle":case"beforetoggle":$=cc}var Ee=(i&4)!==0,et=!Ee&&(n==="scroll"||n==="scrollend"),j=Ee?K!==null?K+"Capture":null:K;Ee=[];for(var k=G,H;k!==null;){var Z=k;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||j===null||(Z=Ns(k,j),Z!=null&&Ee.push(Ul(k,Z,H))),et)break;k=k.return}0<Ee.length&&(K=new $(K,Ae,null,o,J),ee.push({event:K,listeners:Ee}))}}if((i&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",K&&o!==Ur&&(Ae=o.relatedTarget||o.fromElement)&&(Mr(Ae)||Ae[Cn]))break e;if(($||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,$?(Ae=o.relatedTarget||o.toElement,$=G,Ae=Ae?Mr(Ae):null,Ae!==null&&(et=l(Ae),Ee=Ae.tag,Ae!==et||Ee!==5&&Ee!==27&&Ee!==6)&&(Ae=null)):($=null,Ae=G),$!==Ae)){if(Ee=Dn,Z="onMouseLeave",j="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(Ee=ol,Z="onPointerLeave",j="onPointerEnter",k="pointer"),et=$==null?K:lr($),H=Ae==null?K:lr(Ae),K=new Ee(Z,k+"leave",$,o,J),K.target=et,K.relatedTarget=H,Z=null,Mr(J)===G&&(Ee=new Ee(j,k+"enter",Ae,o,J),Ee.target=H,Ee.relatedTarget=et,Z=Ee),et=Z,$&&Ae)t:{for(Ee=$,j=Ae,k=0,H=Ee;H;H=io(H))k++;for(H=0,Z=j;Z;Z=io(Z))H++;for(;0<k-H;)Ee=io(Ee),k--;for(;0<H-k;)j=io(j),H--;for(;k--;){if(Ee===j||j!==null&&Ee===j.alternate)break t;Ee=io(Ee),j=io(j)}Ee=null}else Ee=null;$!==null&&$v(ee,K,$,Ee,!1),Ae!==null&&et!==null&&$v(ee,et,Ae,Ee,!0)}}e:{if(K=G?lr(G):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var de=fy;else if(It(K))if(dy)de=zS;else{de=jS;var Pe=US}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&el(G.elementType)&&(de=fy):de=BS;if(de&&(de=de(n,G))){Hr(ee,de,o,J);break e}Pe&&Pe(n,K,G),n==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Ti(K,"number",K.value)}switch(Pe=G?lr(G):window,n){case"focusin":(It(Pe)||Pe.contentEditable==="true")&&(Ma=Pe,id=G,cl=null);break;case"focusout":cl=id=Ma=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Ty(ee,o,J);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":Ty(ee,o,J)}var me;if(pr)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else je?Q(n,o)&&(Te="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(v&&o.locale!=="ko"&&(je||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&je&&(me=nl()):(hr=J,bi="value"in hr?hr.value:hr.textContent,je=!0)),Pe=Wc(G,Te),0<Pe.length&&(Te=new sl(Te,n,null,o,J),ee.push({event:Te,listeners:Pe}),me?Te.data=me:(me=oe(o),me!==null&&(Te.data=me)))),(me=y?Rt(n,o):Be(n,o))&&(Te=Wc(G,"onBeforeInput"),0<Te.length&&(Pe=new sl("onBeforeInput","beforeinput",null,o,J),ee.push({event:Pe,listeners:Te}),Pe.data=me)),S1(ee,n,G,o,J)}Gv(ee,i)})}function Ul(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Wc(n,i){for(var o=i+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ns(n,o),f!=null&&u.unshift(Ul(n,f,m)),f=Ns(n,i),f!=null&&u.push(Ul(n,f,m))),n.tag===3)return u;n=n.return}return[]}function io(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function $v(n,i,o,u,f){for(var m=i._reactName,E=[];o!==null&&o!==u;){var w=o,N=w.alternate,G=w.stateNode;if(w=w.tag,N!==null&&N===u)break;w!==5&&w!==26&&w!==27||G===null||(N=G,f?(G=Ns(o,m),G!=null&&E.unshift(Ul(o,G,N))):f||(G=Ns(o,m),G!=null&&E.push(Ul(o,G,N)))),o=o.return}E.length!==0&&n.push({event:i,listeners:E})}var x1=/\r\n?/g,N1=/\u0000|\uFFFD/g;function Qv(n){return(typeof n=="string"?n:""+n).replace(x1,`
`).replace(N1,"")}function Yv(n,i){return i=Qv(i),Qv(n)===i}function Jc(){}function Ze(n,i,o,u,f,m){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||xn(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&xn(n,""+u);break;case"className":ur(n,"class",u);break;case"tabIndex":ur(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(n,o,u);break;case"style":Zo(n,u,m);break;case"data":if(i!=="object"){ur(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Sa(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&Ze(n,i,"name",f.name,f,null),Ze(n,i,"formEncType",f.formEncType,f,null),Ze(n,i,"formMethod",f.formMethod,f,null),Ze(n,i,"formTarget",f.formTarget,f,null)):(Ze(n,i,"encType",f.encType,f,null),Ze(n,i,"method",f.method,f,null),Ze(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Sa(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Jc);break;case"onScroll":u!=null&&ke("scroll",n);break;case"onScrollEnd":u!=null&&ke("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Sa(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":ke("beforetoggle",n),ke("toggle",n),Ei(n,"popover",u);break;case"xlinkActuate":jt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":jt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":jt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":jt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":jt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":jt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":jt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":jt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":jt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ei(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Wf.get(o)||o,Ei(n,o,u))}}function Cm(n,i,o,u,f,m){switch(o){case"style":Zo(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?xn(n,u):(typeof u=="number"||typeof u=="bigint")&&xn(n,""+u);break;case"onScroll":u!=null&&ke("scroll",n);break;case"onScrollEnd":u!=null&&ke("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ea.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),m=n[vt]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Ei(n,o,u)}}}function Ht(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",n),ke("load",n);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(n,i,m,E,o,null)}}f&&Ze(n,i,"srcSet",o.srcSet,o,null),u&&Ze(n,i,"src",o.src,o,null);return;case"input":ke("invalid",n);var w=m=E=f=null,N=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":f=J;break;case"type":E=J;break;case"checked":N=J;break;case"defaultChecked":G=J;break;case"value":m=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:Ze(n,i,u,J,o,null)}}Is(n,m,w,N,G,E,f,!1),Aa(n);return;case"select":ke("invalid",n),u=E=m=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":E=w;break;case"multiple":u=w;default:Ze(n,i,f,w,o,null)}i=m,o=E,n.multiple=!!u,i!=null?Lr(n,!!u,i,!1):o!=null&&Lr(n,!!u,o,!0);return;case"textarea":ke("invalid",n),m=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":u=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Ze(n,i,E,w,o,null)}Cs(n,u,f,m),Aa(n);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ze(n,i,N,u,o,null)}return;case"dialog":ke("beforetoggle",n),ke("toggle",n),ke("cancel",n),ke("close",n);break;case"iframe":case"object":ke("load",n);break;case"video":case"audio":for(u=0;u<Ll.length;u++)ke(Ll[u],n);break;case"image":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"embed":case"source":case"link":ke("error",n),ke("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(n,i,G,u,o,null)}return;default:if(el(i)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&Cm(n,i,J,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&Ze(n,i,w,u,o,null))}function O1(n,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,w=null,N=null,G=null,J=null;for($ in o){var ee=o[$];if(o.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=ee;default:u.hasOwnProperty($)||Ze(n,i,$,null,u,ee)}}for(var K in u){var $=u[K];if(ee=o[K],u.hasOwnProperty(K)&&($!=null||ee!=null))switch(K){case"type":m=$;break;case"name":f=$;break;case"checked":G=$;break;case"defaultChecked":J=$;break;case"value":E=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==ee&&Ze(n,i,K,$,u,ee)}}_n(n,E,w,N,G,J,m,f);return;case"select":$=E=w=K=null;for(m in o)if(N=o[m],o.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":$=N;default:u.hasOwnProperty(m)||Ze(n,i,m,null,u,N)}for(f in u)if(m=u[f],N=o[f],u.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":K=m;break;case"defaultValue":w=m;break;case"multiple":E=m;default:m!==N&&Ze(n,i,f,m,u,N)}i=w,o=E,u=$,K!=null?Lr(n,!!o,K,!1):!!u!=!!o&&(i!=null?Lr(n,!!o,i,!0):Lr(n,!!o,o?[]:"",!1));return;case"textarea":$=K=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ze(n,i,w,null,u,f)}for(E in u)if(f=u[E],m=o[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":K=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ze(n,i,E,f,u,m)}We(n,K,$);return;case"option":for(var Ae in o)if(K=o[Ae],o.hasOwnProperty(Ae)&&K!=null&&!u.hasOwnProperty(Ae))switch(Ae){case"selected":n.selected=!1;break;default:Ze(n,i,Ae,null,u,K)}for(N in u)if(K=u[N],$=o[N],u.hasOwnProperty(N)&&K!==$&&(K!=null||$!=null))switch(N){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ze(n,i,N,K,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in o)K=o[Ee],o.hasOwnProperty(Ee)&&K!=null&&!u.hasOwnProperty(Ee)&&Ze(n,i,Ee,null,u,K);for(G in u)if(K=u[G],$=o[G],u.hasOwnProperty(G)&&K!==$&&(K!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Ze(n,i,G,K,u,$)}return;default:if(el(i)){for(var et in o)K=o[et],o.hasOwnProperty(et)&&K!==void 0&&!u.hasOwnProperty(et)&&Cm(n,i,et,void 0,u,K);for(J in u)K=u[J],$=o[J],!u.hasOwnProperty(J)||K===$||K===void 0&&$===void 0||Cm(n,i,J,K,u,$);return}}for(var j in o)K=o[j],o.hasOwnProperty(j)&&K!=null&&!u.hasOwnProperty(j)&&Ze(n,i,j,null,u,K);for(ee in u)K=u[ee],$=o[ee],!u.hasOwnProperty(ee)||K===$||K==null&&$==null||Ze(n,i,ee,K,u,$)}var xm=null,Nm=null;function Zc(n){return n.nodeType===9?n:n.ownerDocument}function Xv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Om(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dm=null;function D1(){var n=window.event;return n&&n.type==="popstate"?n===Dm?!1:(Dm=n,!0):(Dm=null,!1)}var Jv=typeof setTimeout=="function"?setTimeout:void 0,P1=typeof clearTimeout=="function"?clearTimeout:void 0,Zv=typeof Promise=="function"?Promise:void 0,M1=typeof queueMicrotask=="function"?queueMicrotask:typeof Zv<"u"?function(n){return Zv.resolve(null).then(n).catch(V1)}:Jv;function V1(n){setTimeout(function(){throw n})}function Ui(n){return n==="head"}function e0(n,i){var o=i,u=0,f=0;do{var m=o.nextSibling;if(n.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var E=n.ownerDocument;if(o&1&&jl(E.documentElement),o&2&&jl(E.body),o&4)for(o=E.head,jl(o),E=o.firstChild;E;){var w=E.nextSibling,N=E.nodeName;E[ws]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=w}}if(f===0){n.removeChild(m),$l(i);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);$l(i)}function Pm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Pm(o),vi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function k1(n,i,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ws])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Yn(n.nextSibling),n===null)break}return null}function L1(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Yn(n.nextSibling),n===null))return null;return n}function Mm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function U1(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Yn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Vm=null;function t0(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function n0(n,i,o){switch(i=Zc(o),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function jl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);vi(n)}var jn=new Map,r0=new Set;function eh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ni=ae.d;ae.d={f:j1,r:B1,D:z1,C:q1,L:H1,m:F1,X:K1,S:G1,M:$1};function j1(){var n=ni.f(),i=Gc();return n||i}function B1(n){var i=or(n);i!==null&&i.tag===5&&i.type==="form"?w_(i):ni.r(n)}var so=typeof document>"u"?null:document;function i0(n,i,o){var u=so;if(u&&typeof i=="string"&&i){var f=Et(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),r0.has(f)||(r0.add(f),n={rel:n,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),Ht(i,"link",n),mt(i),u.head.appendChild(i)))}}function z1(n){ni.D(n),i0("dns-prefetch",n,null)}function q1(n,i){ni.C(n,i),i0("preconnect",n,i)}function H1(n,i,o){ni.L(n,i,o);var u=so;if(u&&n&&i){var f='link[rel="preload"][as="'+Et(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Et(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Et(o.imageSizes)+'"]')):f+='[href="'+Et(n)+'"]';var m=f;switch(i){case"style":m=ao(n);break;case"script":m=oo(n)}jn.has(m)||(n=_({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),jn.set(m,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(Bl(m))||i==="script"&&u.querySelector(zl(m))||(i=u.createElement("link"),Ht(i,"link",n),mt(i),u.head.appendChild(i)))}}function F1(n,i){ni.m(n,i);var o=so;if(o&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Et(u)+'"][href="'+Et(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=oo(n)}if(!jn.has(m)&&(n=_({rel:"modulepreload",href:n},i),jn.set(m,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(zl(m)))return}u=o.createElement("link"),Ht(u,"link",n),mt(u),o.head.appendChild(u)}}}function G1(n,i,o){ni.S(n,i,o);var u=so;if(u&&n){var f=rn(u).hoistableStyles,m=ao(n);i=i||"default";var E=f.get(m);if(!E){var w={loading:0,preload:null};if(E=u.querySelector(Bl(m)))w.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},o),(o=jn.get(m))&&km(n,o);var N=E=u.createElement("link");mt(N),Ht(N,"link",n),N._p=new Promise(function(G,J){N.onload=G,N.onerror=J}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,th(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(m,E)}}}function K1(n,i){ni.X(n,i);var o=so;if(o&&n){var u=rn(o).hoistableScripts,f=oo(n),m=u.get(f);m||(m=o.querySelector(zl(f)),m||(n=_({src:n,async:!0},i),(i=jn.get(f))&&Lm(n,i),m=o.createElement("script"),mt(m),Ht(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function $1(n,i){ni.M(n,i);var o=so;if(o&&n){var u=rn(o).hoistableScripts,f=oo(n),m=u.get(f);m||(m=o.querySelector(zl(f)),m||(n=_({src:n,async:!0,type:"module"},i),(i=jn.get(f))&&Lm(n,i),m=o.createElement("script"),mt(m),Ht(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function s0(n,i,o,u){var f=(f=Se.current)?eh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ao(o.href),o=rn(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=ao(o.href);var m=rn(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(Bl(n)))&&!m._p&&(E.instance=m,E.state.loading=5),jn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},jn.set(n,o),m||Q1(f,n,o,E.state))),i&&u===null)throw Error(s(528,""));return E}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=oo(o),o=rn(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ao(n){return'href="'+Et(n)+'"'}function Bl(n){return'link[rel="stylesheet"]['+n+"]"}function a0(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function Q1(n,i,o,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Ht(i,"link",o),mt(i),n.head.appendChild(i))}function oo(n){return'[src="'+Et(n)+'"]'}function zl(n){return"script[async]"+n}function o0(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+Et(o.href)+'"]');if(u)return i.instance=u,mt(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),mt(u),Ht(u,"style",f),th(u,o.precedence,n),i.instance=u;case"stylesheet":f=ao(o.href);var m=n.querySelector(Bl(f));if(m)return i.state.loading|=4,i.instance=m,mt(m),m;u=a0(o),(f=jn.get(f))&&km(u,f),m=(n.ownerDocument||n).createElement("link"),mt(m);var E=m;return E._p=new Promise(function(w,N){E.onload=w,E.onerror=N}),Ht(m,"link",u),i.state.loading|=4,th(m,o.precedence,n),i.instance=m;case"script":return m=oo(o.src),(f=n.querySelector(zl(m)))?(i.instance=f,mt(f),f):(u=o,(f=jn.get(m))&&(u=_({},o),Lm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),mt(f),Ht(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,th(u,o.precedence,n));return i.instance}function th(n,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var w=u[E];if(w.dataset.precedence===i)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function km(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Lm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var nh=null;function l0(n,i,o){if(nh===null){var u=new Map,f=nh=new Map;f.set(o,u)}else f=nh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[ws]||m[St]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(i)||"";E=n+E;var w=u.get(E);w?w.push(m):u.set(E,[m])}}return u}function u0(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function Y1(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function c0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ql=null;function X1(){}function W1(n,i,o){if(ql===null)throw Error(s(475));var u=ql;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ao(o.href),m=n.querySelector(Bl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=rh.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=m,mt(m);return}m=n.ownerDocument||n,o=a0(o),(f=jn.get(f))&&km(o,f),m=m.createElement("link"),mt(m);var E=m;E._p=new Promise(function(w,N){E.onload=w,E.onerror=N}),Ht(m,"link",o),i.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=rh.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function J1(){if(ql===null)throw Error(s(475));var n=ql;return n.stylesheets&&n.count===0&&Um(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&Um(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function rh(){if(this.count--,this.count===0){if(this.stylesheets)Um(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ih=null;function Um(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ih=new Map,i.forEach(Z1,n),ih=null,rh.call(n))}function Z1(n,i){if(!(i.state.loading&4)){var o=ih.get(n);if(o)var u=o.get(null);else{o=new Map,ih.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=i.instance,E=f.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,f),o.set(E,f),this.count++,u=rh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Hl={$$typeof:re,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function eR(n,i,o,u,f,m,E,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function h0(n,i,o,u,f,m,E,w,N,G,J,ee){return n=new eR(n,i,o,E,w,N,G,ee),i=1,m===!0&&(i|=24),m=En(3,null,null,i),n.current=m,m.stateNode=n,i=vd(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:i},wd(m),n}function f0(n){return n?(n=Ua,n):Ua}function d0(n,i,o,u,f,m){f=f0(f),u.context===null?u.context=f:u.pendingContext=f,u=Si(i),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Ri(n,u,i),o!==null&&(Sn(o,n,i),vl(o,n,i))}function m0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function jm(n,i){m0(n,i),(n=n.alternate)&&m0(n,i)}function p0(n){if(n.tag===13){var i=La(n,67108864);i!==null&&Sn(i,n,67108864),jm(n,67108864)}}var sh=!0;function tR(n,i,o,u){var f=W.T;W.T=null;var m=ae.p;try{ae.p=2,Bm(n,i,o,u)}finally{ae.p=m,W.T=f}}function nR(n,i,o,u){var f=W.T;W.T=null;var m=ae.p;try{ae.p=8,Bm(n,i,o,u)}finally{ae.p=m,W.T=f}}function Bm(n,i,o,u){if(sh){var f=zm(u);if(f===null)Im(n,i,u,ah,o),y0(n,u);else if(iR(f,n,i,o,u))u.stopPropagation();else if(y0(n,u),i&4&&-1<rR.indexOf(n)){for(;f!==null;){var m=or(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Fn(m.pendingLanes);if(E!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var N=1<<31-$t(E);w.entanglements[1]|=N,E&=~N}Tr(m),(Ye&6)===0&&(Hc=In()+500,kl(0))}}break;case 13:w=La(m,2),w!==null&&Sn(w,m,2),Gc(),jm(m,2)}if(m=zm(u),m===null&&Im(n,i,u,ah,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else Im(n,i,u,null,o)}}function zm(n){return n=Nn(n),qm(n)}var ah=null;function qm(n){if(ah=null,n=Mr(n),n!==null){var i=l(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=c(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return ah=n,null}function g0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gf()){case zo:return 2;case ga:return 8;case _s:case Kf:return 32;case ya:return 268435456;default:return 32}default:return 32}}var Hm=!1,ji=null,Bi=null,zi=null,Fl=new Map,Gl=new Map,qi=[],rR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y0(n,i){switch(n){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Fl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(i.pointerId)}}function Kl(n,i,o,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=or(i),i!==null&&p0(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function iR(n,i,o,u,f){switch(i){case"focusin":return ji=Kl(ji,n,i,o,u,f),!0;case"dragenter":return Bi=Kl(Bi,n,i,o,u,f),!0;case"mouseover":return zi=Kl(zi,n,i,o,u,f),!0;case"pointerover":var m=f.pointerId;return Fl.set(m,Kl(Fl.get(m)||null,n,i,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Gl.set(m,Kl(Gl.get(m)||null,n,i,o,u,f)),!0}return!1}function _0(n){var i=Mr(n.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){n.blockedOn=i,Gu(n.priority,function(){if(o.tag===13){var u=An();u=gi(u);var f=La(o,u);f!==null&&Sn(f,o,u),jm(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function oh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=zm(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Ur=u,o.target.dispatchEvent(u),Ur=null}else return i=or(o),i!==null&&p0(i),n.blockedOn=o,!1;i.shift()}return!0}function v0(n,i,o){oh(n)&&o.delete(i)}function sR(){Hm=!1,ji!==null&&oh(ji)&&(ji=null),Bi!==null&&oh(Bi)&&(Bi=null),zi!==null&&oh(zi)&&(zi=null),Fl.forEach(v0),Gl.forEach(v0)}function lh(n,i){n.blockedOn===i&&(n.blockedOn=null,Hm||(Hm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,sR)))}var uh=null;function E0(n){uh!==n&&(uh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){uh===n&&(uh=null);for(var i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(qm(u||o)===null)continue;break}var m=or(o);m!==null&&(n.splice(i,3),i-=3,qd(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function $l(n){function i(N){return lh(N,n)}ji!==null&&lh(ji,n),Bi!==null&&lh(Bi,n),zi!==null&&lh(zi,n),Fl.forEach(i),Gl.forEach(i);for(var o=0;o<qi.length;o++){var u=qi[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<qi.length&&(o=qi[0],o.blockedOn===null);)_0(o),o.blockedOn===null&&qi.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],E=f[vt]||null;if(typeof m=="function")E||E0(o);else if(E){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[vt]||null)w=E.formAction;else if(qm(f)!==null)continue}else w=E.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),E0(o)}}}function Fm(n){this._internalRoot=n}ch.prototype.render=Fm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,u=An();d0(o,u,n,i,null,null)},ch.prototype.unmount=Fm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;d0(n.current,2,null,n,null,null),Gc(),i[Cn]=null}};function ch(n){this._internalRoot=n}ch.prototype.unstable_scheduleHydration=function(n){if(n){var i=yi();n={blockedOn:null,target:n,priority:i};for(var o=0;o<qi.length&&i!==0&&i<qi[o].priority;o++);qi.splice(o,0,n),o===0&&_0(n)}};var T0=e.version;if(T0!=="19.1.0")throw Error(s(527,T0,"19.1.0"));ae.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var aR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{ct=hh.inject(aR),Qe=hh}catch{}}return Yl.createRoot=function(n,i){if(!a(n))throw Error(s(299));var o=!1,u="",f=L_,m=U_,E=j_,w=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=h0(n,1,!1,null,null,o,u,f,m,E,w,null),n[Cn]=i.current,Rm(n),new Fm(i)},Yl.hydrateRoot=function(n,i,o){if(!a(n))throw Error(s(299));var u=!1,f="",m=L_,E=U_,w=j_,N=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),i=h0(n,1,!0,i,o??null,u,f,m,E,w,N,G),i.context=f0(null),o=i.current,u=An(),u=gi(u),f=Si(u),f.callback=null,Ri(o,f,u),o=u,i.current.lanes=o,Pr(i,o),Tr(i),n[Cn]=i.current,Rm(n),new ch(i)},Yl.version="19.1.0",Yl}var O0;function gR(){if(O0)return $m.exports;O0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$m.exports=pR(),$m.exports}var yR=gR();const _R=BT(yR);var Xl={},D0;function vR(){if(D0)return Xl;D0=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.parse=c,Xl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,C){const I=new l,L=T.length;if(L<2)return I;const O=(C==null?void 0:C.decode)||_;let F=0;do{const X=T.indexOf("=",F);if(X===-1)break;const re=T.indexOf(";",F),ce=re===-1?L:re;if(X>ce){F=T.lastIndexOf(";",X-1)+1;continue}const le=d(T,F,X),pe=p(T,X,le),P=T.slice(le,pe);if(I[P]===void 0){let R=d(T,X+1,ce),x=p(T,ce,R);const V=O(T.slice(R,x));I[P]=V}F=ce+1}while(F<L);return I}function d(T,C,I){do{const L=T.charCodeAt(C);if(L!==32&&L!==9)return C}while(++C<I);return I}function p(T,C,I){for(;C>I;){const L=T.charCodeAt(--C);if(L!==32&&L!==9)return C+1}return I}function g(T,C,I){const L=(I==null?void 0:I.encode)||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const O=L(C);if(!e.test(O))throw new TypeError(`argument val is invalid: ${C}`);let F=T+"="+O;if(!I)return F;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);F+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);F+="; Domain="+I.domain}if(I.path){if(!s.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);F+="; Path="+I.path}if(I.expires){if(!b(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);F+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(F+="; HttpOnly"),I.secure&&(F+="; Secure"),I.partitioned&&(F+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return F}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function b(T){return a.call(T)==="[object Date]"}return Xl}vR();var P0="popstate";function ER(r={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return gp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:du(a)}return bR(e,t,null,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Wn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TR(){return Math.random().toString(36).substring(2,10)}function M0(r,e){return{usr:r.state,key:r.key,idx:e}}function gp(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Co(e):e,state:t,key:e&&e.key||s||TR()}}function du({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Co(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function bR(r,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function b(){d="POP";let O=_(),F=O==null?null:O-g;g=O,p&&p({action:d,location:L.location,delta:F})}function T(O,F){d="PUSH";let X=gp(L.location,O,F);g=_()+1;let re=M0(X,g),ce=L.createHref(X);try{c.pushState(re,"",ce)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;a.location.assign(ce)}l&&p&&p({action:d,location:L.location,delta:1})}function C(O,F){d="REPLACE";let X=gp(L.location,O,F);g=_();let re=M0(X,g),ce=L.createHref(X);c.replaceState(re,"",ce),l&&p&&p({action:d,location:L.location,delta:0})}function I(O){return wR(O)}let L={get action(){return d},get location(){return r(a,c)},listen(O){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(P0,b),p=O,()=>{a.removeEventListener(P0,b),p=null}},createHref(O){return e(a,O)},createURL:I,encodeLocation(O){let F=I(O);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:C,go(O){return c.go(O)}};return L}function wR(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ot(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:du(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function zT(r,e,t="/"){return AR(r,e,t,!1)}function AR(r,e,t,s){let a=typeof e=="string"?Co(e):e,l=li(a.pathname||"/",t);if(l==null)return null;let c=qT(r);SR(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=kR(l);d=MR(c[p],g,s)}return d}function qT(r,e=[],t=[],s=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=si([s,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(ot(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),qT(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:DR(g,l.index),routesMeta:_})};return r.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of HT(l.path))a(l,c,p)}),e}function HT(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=HT(s.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function SR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:PR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var RR=/^:[\w-]+$/,IR=3,CR=2,xR=1,NR=10,OR=-2,V0=r=>r==="*";function DR(r,e){let t=r.split("/"),s=t.length;return t.some(V0)&&(s+=OR),e&&(s+=CR),t.filter(a=>!V0(a)).reduce((a,l)=>a+(RR.test(l)?IR:l===""?xR:NR),s)}function PR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,a)=>s===e[a])?r[r.length-1]-e[e.length-1]:0}function MR(r,e,t=!1){let{routesMeta:s}=r,a={},l="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",b=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),T=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:si([l,b.pathname]),pathnameBase:BR(si([l,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(l=si([l,b.pathnameBase]))}return c}function Mh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=VR(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:b},T)=>{if(_==="*"){let I=d[T]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const C=d[T];return b&&!C?g[_]=void 0:g[_]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function VR(r,e=!1,t=!0){Wn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function kR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function li(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function LR(r,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof r=="string"?Co(r):r;return{pathname:t?t.startsWith("/")?t:UR(t,e):e,search:zR(s),hash:qR(a)}}function UR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Wm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jR(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Zp(r){let e=jR(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function eg(r,e,t,s=!1){let a;typeof r=="string"?a=Co(r):(a={...r},ot(!a.pathname||!a.pathname.includes("?"),Wm("?","pathname","search",a)),ot(!a.pathname||!a.pathname.includes("#"),Wm("#","pathname","hash",a)),ot(!a.search||!a.search.includes("#"),Wm("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!s&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),b-=1;a.pathname=T.join("/")}d=b>=0?e[b]:"/"}let p=LR(a,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var si=r=>r.join("/").replace(/\/\/+/g,"/"),BR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),zR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,qR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function HR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var FT=["POST","PUT","PATCH","DELETE"];new Set(FT);var FR=["GET",...FT];new Set(FR);var xo=z.createContext(null);xo.displayName="DataRouter";var of=z.createContext(null);of.displayName="DataRouterState";var GT=z.createContext({isTransitioning:!1});GT.displayName="ViewTransition";var GR=z.createContext(new Map);GR.displayName="Fetchers";var KR=z.createContext(null);KR.displayName="Await";var tr=z.createContext(null);tr.displayName="Navigation";var Su=z.createContext(null);Su.displayName="Location";var nr=z.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var tg=z.createContext(null);tg.displayName="RouteError";function $R(r,{relative:e}={}){ot(No(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=z.useContext(tr),{hash:a,pathname:l,search:c}=Ru(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:si([t,l])),s.createHref({pathname:d,search:c,hash:a})}function No(){return z.useContext(Su)!=null}function us(){return ot(No(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Su).location}var KT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $T(r){z.useContext(tr).static||z.useLayoutEffect(r)}function cs(){let{isDataRoute:r}=z.useContext(nr);return r?oI():QR()}function QR(){ot(No(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(xo),{basename:e,navigator:t}=z.useContext(tr),{matches:s}=z.useContext(nr),{pathname:a}=us(),l=JSON.stringify(Zp(s)),c=z.useRef(!1);return $T(()=>{c.current=!0}),z.useCallback((p,g={})=>{if(Wn(c.current,KT),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=eg(p,JSON.parse(l),a,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:si([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,r])}z.createContext(null);function YR(){let{matches:r}=z.useContext(nr),e=r[r.length-1];return e?e.params:{}}function Ru(r,{relative:e}={}){let{matches:t}=z.useContext(nr),{pathname:s}=us(),a=JSON.stringify(Zp(t));return z.useMemo(()=>eg(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function XR(r,e){return QT(r,e)}function QT(r,e,t,s){var F;ot(No(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=z.useContext(tr),{matches:l}=z.useContext(nr),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let X=_&&_.path||"";YT(p,!_||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let b=us(),T;if(e){let X=typeof e=="string"?Co(e):e;ot(g==="/"||((F=X.pathname)==null?void 0:F.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${X.pathname}" was given in the \`location\` prop.`),T=X}else T=b;let C=T.pathname||"/",I=C;if(g!=="/"){let X=g.replace(/^\//,"").split("/");I="/"+C.replace(/^\//,"").split("/").slice(X.length).join("/")}let L=zT(r,{pathname:I});Wn(_||L!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Wn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=tI(L&&L.map(X=>Object.assign({},X,{params:Object.assign({},d,X.params),pathname:si([g,a.encodeLocation?a.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?g:si([g,a.encodeLocation?a.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),l,t,s);return e&&O?z.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},O):O}function WR(){let r=aI(),e=HR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:a},t):null,c)}var JR=z.createElement(WR,null),ZR=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?z.createElement(nr.Provider,{value:this.props.routeContext},z.createElement(tg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eI({routeContext:r,match:e,children:t}){let s=z.useContext(xo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(nr.Provider,{value:r},t)}function tI(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:_,errors:b}=t,T=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||T){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,g,_)=>{let b,T=!1,C=null,I=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,C=g.route.errorElement||JR,c&&(d<0&&_===0?(YT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,I=null):d===_&&(T=!0,I=g.route.hydrateFallbackElement||null)));let L=e.concat(a.slice(0,_+1)),O=()=>{let F;return b?F=C:T?F=I:g.route.Component?F=z.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=p,z.createElement(eI,{match:g,routeContext:{outlet:p,matches:L,isDataRoute:t!=null},children:F})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?z.createElement(ZR,{location:t.location,revalidation:t.revalidation,component:C,error:b,children:O(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):O()},null)}function ng(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nI(r){let e=z.useContext(xo);return ot(e,ng(r)),e}function rI(r){let e=z.useContext(of);return ot(e,ng(r)),e}function iI(r){let e=z.useContext(nr);return ot(e,ng(r)),e}function rg(r){let e=iI(r),t=e.matches[e.matches.length-1];return ot(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function sI(){return rg("useRouteId")}function aI(){var s;let r=z.useContext(tg),e=rI("useRouteError"),t=rg("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function oI(){let{router:r}=nI("useNavigate"),e=rg("useNavigate"),t=z.useRef(!1);return $T(()=>{t.current=!0}),z.useCallback(async(a,l={})=>{Wn(t.current,KT),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var k0={};function YT(r,e,t){!e&&!k0[r]&&(k0[r]=!0,Wn(!1,t))}z.memo(lI);function lI({routes:r,future:e,state:t}){return QT(r,void 0,t,e)}function uI({to:r,replace:e,state:t,relative:s}){ot(No(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=z.useContext(tr);Wn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=z.useContext(nr),{pathname:c}=us(),d=cs(),p=eg(r,Zp(l),c,s==="path"),g=JSON.stringify(p);return z.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function Jt(r){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cI({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){ot(!No(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Co(t));let{pathname:p="/",search:g="",hash:_="",state:b=null,key:T="default"}=t,C=z.useMemo(()=>{let I=li(p,c);return I==null?null:{location:{pathname:I,search:g,hash:_,state:b,key:T},navigationType:s}},[c,p,g,_,b,T,s]);return Wn(C!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:z.createElement(tr.Provider,{value:d},z.createElement(Su.Provider,{children:e,value:C}))}function ig({children:r,location:e}){return XR(yp(r),e)}function yp(r,e=[]){let t=[];return z.Children.forEach(r,(s,a)=>{if(!z.isValidElement(s))return;let l=[...e,a];if(s.type===z.Fragment){t.push.apply(t,yp(s.props.children,l));return}ot(s.type===Jt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=yp(s.props.children,l)),t.push(c)}),t}var vh="get",Eh="application/x-www-form-urlencoded";function lf(r){return r!=null&&typeof r.tagName=="string"}function hI(r){return lf(r)&&r.tagName.toLowerCase()==="button"}function fI(r){return lf(r)&&r.tagName.toLowerCase()==="form"}function dI(r){return lf(r)&&r.tagName.toLowerCase()==="input"}function mI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function pI(r,e){return r.button===0&&(!e||e==="_self")&&!mI(r)}var fh=null;function gI(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var yI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jm(r){return r!=null&&!yI.has(r)?(Wn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eh}"`),null):r}function _I(r,e){let t,s,a,l,c;if(fI(r)){let d=r.getAttribute("action");s=d?li(d,e):null,t=r.getAttribute("method")||vh,a=Jm(r.getAttribute("enctype"))||Eh,l=new FormData(r)}else if(hI(r)||dI(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?li(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||vh,a=Jm(r.getAttribute("formenctype"))||Jm(d.getAttribute("enctype"))||Eh,l=new FormData(d,r),!gI()){let{name:g,type:_,value:b}=r;if(_==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,b)}}else{if(lf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vh,s=null,a=Eh,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:c}}function sg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function vI(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EI(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function TI(r,e,t){let s=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await vI(l,t);return c.links?c.links():[]}return[]}));return SI(s.flat(1).filter(EI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function L0(r,e,t,s,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var b;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function bI(r,e,{includeHydrateFallback:t}={}){return wI(r.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function wI(r){return[...new Set(r)]}function AI(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function SI(r,e){let t=new Set;return new Set(e),r.reduce((s,a)=>{let l=JSON.stringify(AI(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RI=new Set([100,101,204,205]);function II(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&li(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function XT(){let r=z.useContext(xo);return sg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function CI(){let r=z.useContext(of);return sg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ag=z.createContext(void 0);ag.displayName="FrameworkContext";function WT(){let r=z.useContext(ag);return sg(r,"You must render this element inside a <HydratedRouter> element"),r}function xI(r,e){let t=z.useContext(ag),[s,a]=z.useState(!1),[l,c]=z.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=e,T=z.useRef(null);z.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let L=F=>{F.forEach(X=>{c(X.isIntersecting)})},O=new IntersectionObserver(L,{threshold:.5});return T.current&&O.observe(T.current),()=>{O.disconnect()}}},[r]),z.useEffect(()=>{if(s){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[s]);let C=()=>{a(!0)},I=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,T,{}]:[l,T,{onFocus:Wl(d,C),onBlur:Wl(p,I),onMouseEnter:Wl(g,C),onMouseLeave:Wl(_,I),onTouchStart:Wl(b,C)}]:[!1,T,{}]}function Wl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function NI({page:r,...e}){let{router:t}=XT(),s=z.useMemo(()=>zT(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?z.createElement(DI,{page:r,matches:s,...e}):null}function OI(r){let{manifest:e,routeModules:t}=WT(),[s,a]=z.useState([]);return z.useEffect(()=>{let l=!1;return TI(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),s}function DI({page:r,matches:e,...t}){let s=us(),{manifest:a,routeModules:l}=WT(),{basename:c}=XT(),{loaderData:d,matches:p}=CI(),g=z.useMemo(()=>L0(r,e,p,a,s,"data"),[r,e,p,a,s]),_=z.useMemo(()=>L0(r,e,p,a,s,"assets"),[r,e,p,a,s]),b=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let I=new Set,L=!1;if(e.forEach(F=>{var re;let X=a.routes[F.route.id];!X||!X.hasLoader||(!g.some(ce=>ce.route.id===F.route.id)&&F.route.id in d&&((re=l[F.route.id])!=null&&re.shouldRevalidate)||X.hasClientLoader?L=!0:I.add(F.route.id))}),I.size===0)return[];let O=II(r,c);return L&&I.size>0&&O.searchParams.set("_routes",e.filter(F=>I.has(F.route.id)).map(F=>F.route.id).join(",")),[O.pathname+O.search]},[c,d,s,a,g,e,r,l]),T=z.useMemo(()=>bI(_,a),[_,a]),C=OI(_);return z.createElement(z.Fragment,null,b.map(I=>z.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),T.map(I=>z.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),C.map(({key:I,link:L})=>z.createElement("link",{key:I,...L})))}function PI(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var JT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JT&&(window.__reactRouterVersion="7.6.1")}catch{}function MI({basename:r,children:e,window:t}){let s=z.useRef();s.current==null&&(s.current=ER({window:t,v5Compat:!0}));let a=s.current,[l,c]=z.useState({action:a.action,location:a.location}),d=z.useCallback(p=>{z.startTransition(()=>c(p))},[c]);return z.useLayoutEffect(()=>a.listen(d),[a,d]),z.createElement(cI,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:a})}var ZT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mo=z.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:_,viewTransition:b,...T},C){let{basename:I}=z.useContext(tr),L=typeof g=="string"&&ZT.test(g),O,F=!1;if(typeof g=="string"&&L&&(O=g,JT))try{let x=new URL(window.location.href),V=g.startsWith("//")?new URL(x.protocol+g):new URL(g),U=li(V.pathname,I);V.origin===x.origin&&U!=null?g=U+V.search+V.hash:F=!0}catch{Wn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=$R(g,{relative:a}),[re,ce,le]=xI(s,T),pe=LI(g,{replace:c,state:d,target:p,preventScrollReset:_,relative:a,viewTransition:b});function P(x){e&&e(x),x.defaultPrevented||pe(x)}let R=z.createElement("a",{...T,...le,href:O||X,onClick:F||l?e:P,ref:PI(C,ce),target:p,"data-discover":!L&&t==="render"?"true":void 0});return re&&!L?z.createElement(z.Fragment,null,R,z.createElement(NI,{page:X})):R});mo.displayName="Link";var Zl=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},_){let b=Ru(c,{relative:g.relative}),T=us(),C=z.useContext(of),{navigator:I,basename:L}=z.useContext(tr),O=C!=null&&qI(b)&&d===!0,F=I.encodeLocation?I.encodeLocation(b).pathname:b.pathname,X=T.pathname,re=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(X=X.toLowerCase(),re=re?re.toLowerCase():null,F=F.toLowerCase()),re&&L&&(re=li(re,L)||re);const ce=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let le=X===F||!a&&X.startsWith(F)&&X.charAt(ce)==="/",pe=re!=null&&(re===F||!a&&re.startsWith(F)&&re.charAt(F.length)==="/"),P={isActive:le,isPending:pe,isTransitioning:O},R=le?e:void 0,x;typeof s=="function"?x=s(P):x=[s,le?"active":null,pe?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(P):l;return z.createElement(mo,{...g,"aria-current":R,className:x,ref:_,style:V,to:c,viewTransition:d},typeof p=="function"?p(P):p)});Zl.displayName="NavLink";var VI=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:c=vh,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:b,...T},C)=>{let I=BI(),L=zI(d,{relative:g}),O=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&ZT.test(d),X=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let ce=re.nativeEvent.submitter,le=(ce==null?void 0:ce.getAttribute("formmethod"))||c;I(ce||re.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:b})};return z.createElement("form",{ref:C,method:O,action:L,onSubmit:s?p:X,...T,"data-discover":!F&&r==="render"?"true":void 0})});VI.displayName="Form";function kI(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eb(r){let e=z.useContext(xo);return ot(e,kI(r)),e}function LI(r,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=cs(),p=us(),g=Ru(r,{relative:l});return z.useCallback(_=>{if(pI(_,e)){_.preventDefault();let b=t!==void 0?t:du(p)===du(g);d(r,{replace:b,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,t,s,e,r,a,l,c])}var UI=0,jI=()=>`__${String(++UI)}__`;function BI(){let{router:r}=eb("useSubmit"),{basename:e}=z.useContext(tr),t=sI();return z.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=_I(s,e);if(a.navigate===!1){let _=a.fetcherKey||jI();await r.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await r.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function zI(r,{relative:e}={}){let{basename:t}=z.useContext(tr),s=z.useContext(nr);ot(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Ru(r||".",{relative:e})},c=us();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let _=d.toString();l.search=_?`?${_}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:si([t,l.pathname])),du(l)}function qI(r,e={}){let t=z.useContext(GT);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=eb("useViewTransitionState"),a=Ru(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=li(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=li(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Mh(a.pathname,c)!=null||Mh(a.pathname,l)!=null}[...RI];const HI=()=>{};var U0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},FI=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const a=r[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],d=r[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],c=r[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},nb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,d=c?r[a+1]:0,p=a+2<r.length,g=p?r[a+2]:0,_=l>>2,b=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,C=g&63;p||(C=64,c||(T=64)),s.push(t[_],t[b],t[T],t[C])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(tb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):FI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const g=a<r.length?t[r.charAt(a)]:64;++a;const b=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||g==null||b==null)throw new GI;const T=l<<2|d>>4;if(s.push(T),g!==64){const C=d<<4&240|g>>2;if(s.push(C),b!==64){const I=g<<6&192|b;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class GI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KI=function(r){const e=tb(r);return nb.encodeByteArray(e,!0)},Vh=function(r){return KI(r).replace(/\./g,"")},rb=function(r){try{return nb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=()=>$I().__FIREBASE_DEFAULTS__,YI=()=>{if(typeof process>"u"||typeof U0>"u")return;const r=U0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},XI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&rb(r[1]);return e&&JSON.parse(e)},uf=()=>{try{return HI()||QI()||YI()||XI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ib=r=>{var e,t;return(t=(e=uf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},WI=r=>{const e=ib(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},sb=()=>{var r;return(r=uf())===null||r===void 0?void 0:r.config},ab=r=>{var e;return(e=uf())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(r){return r.endsWith(".cloudworkstations.dev")}async function ob(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Vh(JSON.stringify(t)),Vh(JSON.stringify(c)),""].join(".")}const au={};function eC(){const r={prod:[],emulator:[]};for(const e of Object.keys(au))au[e]?r.emulator.push(e):r.prod.push(e);return r}function tC(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let j0=!1;function lb(r,e){if(typeof window>"u"||typeof document>"u"||!Iu(window.location.host)||au[r]===e||au[r]||j0)return;au[r]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=eC().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{j0=!0,c()},T}function _(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=tC(s),C=t("text"),I=document.getElementById(C)||document.createElement("span"),L=t("learnmore"),O=document.getElementById(L)||document.createElement("a"),F=t("preprendIcon"),X=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const re=T.element;d(re),_(O,L);const ce=g();p(X,F),re.append(X,I,O,ce),document.body.appendChild(re)}l?(I.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function rC(){var r;const e=(r=uf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ub(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aC(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function oC(){return!rC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cb(){try{return typeof indexedDB=="object"}catch{return!1}}function hb(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function lC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="FirebaseError";class rr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=uC,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ha.prototype.create)}}class ha{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?cC(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new rr(a,d,s)}}function cC(r,e){return r.replace(hC,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const hC=/\{\$([^}]+)}/g;function fC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ra(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=r[a],c=e[a];if(B0(l)&&B0(c)){if(!ra(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function B0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function eu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function tu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function dC(r,e){const t=new mC(r,e);return t.subscribe.bind(t)}class mC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");pC(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Zm),a.error===void 0&&(a.error=Zm),a.complete===void 0&&(a.complete=Zm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pC(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Zm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=1e3,yC=2,_C=4*60*60*1e3,vC=.5;function z0(r,e=gC,t=yC){const s=e*Math.pow(t,r),a=Math.round(vC*s*(Math.random()-.5)*2);return Math.min(_C,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r){return r&&r._delegate?r._delegate:r}class Jn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new JI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bC(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:TC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TC(r){return r===Js?void 0:r}function bC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new EC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const AC={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},SC=Le.INFO,RC={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},IC=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),a=RC[e];if(a)console[a](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cf{constructor(e){this.name=e,this._logLevel=SC,this._logHandler=IC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const CC=(r,e)=>e.some(t=>r instanceof t);let q0,H0;function xC(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NC(){return H0||(H0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fb=new WeakMap,_p=new WeakMap,db=new WeakMap,ep=new WeakMap,og=new WeakMap;function OC(r){const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Wi(r.result)),a()},c=()=>{s(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&fb.set(t,r)}).catch(()=>{}),og.set(e,r),e}function DC(r){if(_p.has(r))return;const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});_p.set(r,e)}let vp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return _p.get(r);if(e==="objectStoreNames")return r.objectStoreNames||db.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function PC(r){vp=r(vp)}function MC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(tp(this),e,...t);return db.set(s,e.sort?e.sort():[e]),Wi(s)}:NC().includes(r)?function(...e){return r.apply(tp(this),e),Wi(fb.get(this))}:function(...e){return Wi(r.apply(tp(this),e))}}function VC(r){return typeof r=="function"?MC(r):(r instanceof IDBTransaction&&DC(r),CC(r,xC())?new Proxy(r,vp):r)}function Wi(r){if(r instanceof IDBRequest)return OC(r);if(ep.has(r))return ep.get(r);const e=VC(r);return e!==r&&(ep.set(r,e),og.set(e,r)),e}const tp=r=>og.get(r);function mb(r,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),d=Wi(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Wi(c.result),p.oldVersion,p.newVersion,Wi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const kC=["get","getKey","getAll","getAllKeys","count"],LC=["put","add","delete","clear"],np=new Map;function F0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(np.get(e))return np.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=LC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||kC.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return np.set(e,l),l}PC(r=>({...r,get:(e,t,s)=>F0(e,t)||r.get(e,t,s),has:(e,t)=>!!F0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(jC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function jC(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ep="@firebase/app",G0="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new cf("@firebase/app"),BC="@firebase/app-compat",zC="@firebase/analytics-compat",qC="@firebase/analytics",HC="@firebase/app-check-compat",FC="@firebase/app-check",GC="@firebase/auth",KC="@firebase/auth-compat",$C="@firebase/database",QC="@firebase/data-connect",YC="@firebase/database-compat",XC="@firebase/functions",WC="@firebase/functions-compat",JC="@firebase/installations",ZC="@firebase/installations-compat",ex="@firebase/messaging",tx="@firebase/messaging-compat",nx="@firebase/performance",rx="@firebase/performance-compat",ix="@firebase/remote-config",sx="@firebase/remote-config-compat",ax="@firebase/storage",ox="@firebase/storage-compat",lx="@firebase/firestore",ux="@firebase/ai",cx="@firebase/firestore-compat",hx="firebase",fx="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="[DEFAULT]",dx={[Ep]:"fire-core",[BC]:"fire-core-compat",[qC]:"fire-analytics",[zC]:"fire-analytics-compat",[FC]:"fire-app-check",[HC]:"fire-app-check-compat",[GC]:"fire-auth",[KC]:"fire-auth-compat",[$C]:"fire-rtdb",[QC]:"fire-data-connect",[YC]:"fire-rtdb-compat",[XC]:"fire-fn",[WC]:"fire-fn-compat",[JC]:"fire-iid",[ZC]:"fire-iid-compat",[ex]:"fire-fcm",[tx]:"fire-fcm-compat",[nx]:"fire-perf",[rx]:"fire-perf-compat",[ix]:"fire-rc",[sx]:"fire-rc-compat",[ax]:"fire-gcs",[ox]:"fire-gcs-compat",[lx]:"fire-fst",[cx]:"fire-fst-compat",[ux]:"fire-vertex","fire-js":"fire-js",[hx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,mx=new Map,bp=new Map;function K0(r,e){try{r.container.addComponent(e)}catch(t){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Cr(r){const e=r.name;if(bp.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;bp.set(e,r);for(const t of kh.values())K0(t,r);for(const t of mx.values())K0(t,r);return!0}function xu(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new ha("app","Firebase",px);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=fx;function pb(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Tp,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw Ji.create("bad-app-name",{appName:String(a)});if(t||(t=sb()),!t)throw Ji.create("no-options");const l=kh.get(a);if(l){if(ra(t,l.options)&&ra(s,l.config))return l;throw Ji.create("duplicate-app",{appName:a})}const c=new wC(a);for(const p of bp.values())c.addComponent(p);const d=new gx(t,s,c);return kh.set(a,d),d}function gb(r=Tp){const e=kh.get(r);if(!e&&r===Tp&&sb())return pb();if(!e)throw Ji.create("no-app",{appName:r});return e}function zn(r,e,t){var s;let a=(s=dx[r])!==null&&s!==void 0?s:r;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(d.join(" "));return}Cr(new Jn(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="firebase-heartbeat-database",_x=1,mu="firebase-heartbeat-store";let rp=null;function yb(){return rp||(rp=mb(yx,_x,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(mu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ji.create("idb-open",{originalErrorMessage:r.message})})),rp}async function vx(r){try{const t=(await yb()).transaction(mu),s=await t.objectStore(mu).get(_b(r));return await t.done,s}catch(e){if(e instanceof rr)ui.warn(e.message);else{const t=Ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ui.warn(t.message)}}}async function $0(r,e){try{const s=(await yb()).transaction(mu,"readwrite");await s.objectStore(mu).put(e,_b(r)),await s.done}catch(t){if(t instanceof rr)ui.warn(t.message);else{const s=Ji.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ui.warn(s.message)}}}function _b(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=1024,Tx=30;class bx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ax(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Q0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>Tx){const c=Sx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Q0(),{heartbeatsToSend:s,unsentEntries:a}=wx(this._heartbeatsCache.heartbeats),l=Vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ui.warn(t),""}}}function Q0(){return new Date().toISOString().substring(0,10)}function wx(r,e=Ex){const t=[];let s=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Y0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Y0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class Ax{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cb()?hb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await vx(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return $0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return $0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Y0(r){return Vh(JSON.stringify({version:2,heartbeats:r})).length}function Sx(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(r){Cr(new Jn("platform-logger",e=>new UC(e),"PRIVATE")),Cr(new Jn("heartbeat",e=>new bx(e),"PRIVATE")),zn(Ep,G0,r),zn(Ep,G0,"esm2017"),zn("fire-js","")}Rx("");function lg(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(t[s[a]]=r[s[a]]);return t}function vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ix=vb,Eb=new ha("auth","Firebase",vb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new cf("@firebase/auth");function Cx(r,...e){Lh.logLevel<=Le.WARN&&Lh.warn(`Auth (${Oo}): ${r}`,...e)}function Th(r,...e){Lh.logLevel<=Le.ERROR&&Lh.error(`Auth (${Oo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(r,...e){throw ug(r,...e)}function Ar(r,...e){return ug(r,...e)}function Tb(r,e,t){const s=Object.assign(Object.assign({},Ix()),{[e]:t});return new ha("auth","Firebase",s).create(e,{appName:r.name})}function ai(r){return Tb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ug(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return Eb.create(r,...e)}function be(r,e,...t){if(!r)throw ug(e,...t)}function ri(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Th(e),new Error(e)}function ci(r,e){r||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function xx(){return X0()==="http:"||X0()==="https:"}function X0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xx()||ub()||"connection"in navigator)?navigator.onLine:!0}function Ox(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ci(t>e,"Short delay should be less than long delay!"),this.isMobile=nC()||sC()}get(){return Nx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(r,e){ci(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Mx=new Nu(3e4,6e4);function mi(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Nr(r,e,t,s,a={}){return wb(r,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=Cu(Object.assign({key:r.config.apiKey},c)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},l);return iC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Iu(r.emulatorConfig.host)&&(g.credentials="include"),bb.fetch()(await Ab(r,r.config.apiHost,t,d),g)})}async function wb(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},Dx),e);try{const a=new kx(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw dh(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw dh(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw dh(r,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Tb(r,_,g);Zn(r,_)}}catch(a){if(a instanceof rr)throw a;Zn(r,"network-request-failed",{message:String(a)})}}async function Ou(r,e,t,s,a={}){const l=await Nr(r,e,t,s,a);return"mfaPendingCredential"in l&&Zn(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function Ab(r,e,t,s){const a=`${e}${t}?${s}`,l=r,c=l.config.emulator?cg(r.config,a):`${r.config.apiScheme}://${a}`;return Px.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function Vx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ar(this.auth,"network-request-failed")),Mx.get())})}}function dh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Ar(r,e,s);return a.customData._tokenResponse=t,a}function W0(r){return r!==void 0&&r.enterprise!==void 0}class Lx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Vx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ux(r,e){return Nr(r,"GET","/v2/recaptchaConfig",mi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(r,e){return Nr(r,"POST","/v1/accounts:delete",e)}async function Uh(r,e){return Nr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sb(r,e=!1){const t=_t(r),s=await t.getIdToken(e),a=hg(s);be(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:ou(ip(a.auth_time)),issuedAtTime:ou(ip(a.iat)),expirationTime:ou(ip(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ip(r){return Number(r)*1e3}function hg(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const a=rb(t);return a?JSON.parse(a):(Th("Failed to decode base64 JWT payload"),null)}catch(a){return Th("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function J0(r){const e=hg(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof rr&&Bx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Bx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(r){var e;const t=r.auth,s=await r.getIdToken(),a=await vo(r,Uh(t,{idToken:s}));be(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Rb(l.providerUserInfo):[],d=Hx(r.providerData,c),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Ap(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function qx(r){const e=_t(r);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Hx(r,e){return[...r.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function Rb(r){return r.map(e=>{var{providerId:t}=e,s=lg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(r,e){const t=await wb(r,{},async()=>{const s=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=await Ab(r,a,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",bb.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Gx(r,e){return Nr(r,"POST","/v2/accounts:revokeToken",mi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=J0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await Fx(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,c=new po;return s&&(be(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(be(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xn{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,l=lg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ap(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await vo(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Sb(this,e)}reload(){return qx(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await vo(this,jx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,l,c,d,p,g,_;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,T=(a=t.email)!==null&&a!==void 0?a:void 0,C=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,I=(c=t.photoURL)!==null&&c!==void 0?c:void 0,L=(d=t.tenantId)!==null&&d!==void 0?d:void 0,O=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,F=(g=t.createdAt)!==null&&g!==void 0?g:void 0,X=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:re,emailVerified:ce,isAnonymous:le,providerData:pe,stsTokenManager:P}=t;be(re&&P,e,"internal-error");const R=po.fromJSON(this.name,P);be(typeof re=="string",e,"internal-error"),Fi(b,e.name),Fi(T,e.name),be(typeof ce=="boolean",e,"internal-error"),be(typeof le=="boolean",e,"internal-error"),Fi(C,e.name),Fi(I,e.name),Fi(L,e.name),Fi(O,e.name),Fi(F,e.name),Fi(X,e.name);const x=new Xn({uid:re,auth:e,email:T,emailVerified:ce,displayName:b,isAnonymous:le,photoURL:I,phoneNumber:C,tenantId:L,stsTokenManager:R,createdAt:F,lastLoginAt:X});return pe&&Array.isArray(pe)&&(x.providerData=pe.map(V=>Object.assign({},V))),O&&(x._redirectEventId=O),x}static async _fromIdTokenResponse(e,t,s=!1){const a=new po;a.updateFromServerResponse(t);const l=new Xn({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await jh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Rb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new po;d.updateFromIdToken(s);const p=new Xn({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ap(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;function ii(r){ci(r instanceof Function,"Expected a class definition");let e=Z0.get(r);return e?(ci(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Z0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ib.type="NONE";const eE=Ib;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(r,e,t){return`firebase:${r}:${e}:${t}`}class go{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=bh(this.userKey,a.apiKey,l),this.fullPersistenceKey=bh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Uh(this.auth,{idToken:e}).catch(()=>{});return t?Xn._fromGetAccountInfoResponse(this.auth,t,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new go(ii(eE),e,s);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||ii(eE);const c=bh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let b;if(typeof _=="string"){const T=await Uh(e,{idToken:_}).catch(()=>{});if(!T)break;b=await Xn._fromGetAccountInfoResponse(e,T,_)}else b=Xn._fromJSON(e,_);g!==l&&(d=b),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new go(l,e,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new go(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pb(e))return"Blackberry";if(Mb(e))return"Webos";if(xb(e))return"Safari";if((e.includes("chrome/")||Nb(e))&&!e.includes("edge/"))return"Chrome";if(Db(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Cb(r=nn()){return/firefox\//i.test(r)}function xb(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nb(r=nn()){return/crios\//i.test(r)}function Ob(r=nn()){return/iemobile/i.test(r)}function Db(r=nn()){return/android/i.test(r)}function Pb(r=nn()){return/blackberry/i.test(r)}function Mb(r=nn()){return/webos/i.test(r)}function fg(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Kx(r=nn()){var e;return fg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $x(){return aC()&&document.documentMode===10}function Vb(r=nn()){return fg(r)||Db(r)||Mb(r)||Pb(r)||/windows phone/i.test(r)||Ob(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(r,e=[]){let t;switch(r){case"Browser":t=tE(nn());break;case"Worker":t=`${tE(nn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Oo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(r,e={}){return Nr(r,"GET","/v2/passwordPolicy",mi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=6;class Wx{constructor(e){var t,s,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:Xx,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new Qx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ii(t)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await go.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Uh(this,{idToken:e}),s=await Xn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Bn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ox()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(ai(this));const t=e?_t(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Yx(this),t=new Wx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ha("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await Gx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ii(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Cx(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function hs(r){return _t(r)}class nE{constructor(e){this.auth=e,this.observer=null,this.addObserver=dC(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zx(r){hf=r}function Lb(r){return hf.loadJS(r)}function e2(){return hf.recaptchaEnterpriseScript}function t2(){return hf.gapiScript}function n2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class r2{constructor(){this.enterprise=new i2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class i2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const s2="recaptcha-enterprise",Ub="NO_RECAPTCHA";class a2{constructor(e){this.type=s2,this.auth=hs(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{Ux(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new Lx(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;W0(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(Ub)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new r2().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!t&&W0(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=e2();p.length!==0&&(p+=d),Lb(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function rE(r,e,t,s=!1,a=!1){const l=new a2(r);let c;if(a)c=Ub;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Bh(r,e,t,s,a){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await rE(r,e,t,t==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await rE(r,e,t,t==="getOobCode");return s(r,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(r,e){const t=xu(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ra(l,e??{}))return a;Zn(a,"already-initialized")}return t.initialize({options:e})}function l2(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ii);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function u2(r,e,t){const s=hs(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=jb(e),{host:c,port:d}=c2(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(ra(g,s.config.emulator)&&ra(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Iu(c)?(ob(`${l}//${c}${p}`),lb("Auth",!0)):h2()}function jb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function c2(r){const e=jb(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:iE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:iE(c)}}}function iE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function h2(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,t){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}async function f2(r,e){return Nr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(r,e){return Ou(r,"POST","/v1/accounts:signInWithPassword",mi(r,e))}async function m2(r,e){return Nr(r,"POST","/v1/accounts:sendOobCode",mi(r,e))}async function p2(r,e){return m2(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(r,e){return Ou(r,"POST","/v1/accounts:signInWithEmailLink",mi(r,e))}async function y2(r,e){return Ou(r,"POST","/v1/accounts:signInWithEmailLink",mi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends dg{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new pu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new pu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bh(e,t,"signInWithPassword",d2);case"emailLink":return g2(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bh(e,s,"signUpPassword",f2);case"emailLink":return y2(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(r,e){return Ou(r,"POST","/v1/accounts:signInWithIdp",mi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="http://localhost";class ia extends dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,l=lg(t,["providerId","signInMethod"]);if(!s||!a)return null;const c=new ia(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return yo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,yo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yo(e,t)}buildRequest(){const e={requestUri:_2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function E2(r){const e=eu(tu(r)).link,t=e?eu(tu(e)).deep_link_id:null,s=eu(tu(r)).deep_link_id;return(s?eu(tu(s)).link:null)||s||t||e||r}class mg{constructor(e){var t,s,a,l,c,d;const p=eu(tu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,b=v2((a=p.mode)!==null&&a!==void 0?a:null);be(g&&_&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=E2(e);try{return new mg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,t){return pu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=mg.parseLink(t);return be(s,"argument-error"),pu._fromEmailAndCode(e,s.code,s.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends Bb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Du{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ia._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ki.credential(t,s)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Du{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Du{constructor(){super("twitter.com")}static credential(e,t){return ia._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Qi.credential(t,s)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(r,e){return Ou(r,"POST","/v1/accounts:signUp",mi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await Xn._fromIdTokenResponse(e,s,a),c=sE(s);return new sa({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=sE(s);return new sa({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function sE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends rr{constructor(e,t,s,a){var l;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new zh(e,t,s,a)}}function zb(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(r,l,e,s):l})}async function b2(r,e,t=!1){const s=await vo(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return sa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(r,e,t=!1){const{auth:s}=r;if(Bn(s.app))return Promise.reject(ai(s));const a="reauthenticate";try{const l=await vo(r,zb(s,a,e,r),t);be(l.idToken,s,"internal-error");const c=hg(l.idToken);be(c,s,"internal-error");const{sub:d}=c;return be(r.uid===d,s,"user-mismatch"),sa._forOperation(r,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Zn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qb(r,e,t=!1){if(Bn(r.app))return Promise.reject(ai(r));const s="signIn",a=await zb(r,s,e),l=await sa._fromIdTokenResponse(r,s,a);return t||await r._updateCurrentUser(l.user),l}async function A2(r,e){return qb(hs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hb(r){const e=hs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function S2(r,e,t){const s=hs(r);await Bh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",p2)}async function R2(r,e,t){if(Bn(r.app))return Promise.reject(ai(r));const s=hs(r),c=await Bh(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",T2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Hb(r),p}),d=await sa._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function I2(r,e,t){return Bn(r.app)?Promise.reject(ai(r)):A2(_t(r),Do.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Hb(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(r,e){return Nr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=_t(r),l={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await vo(s,C2(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const d=s.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function N2(r,e,t,s){return _t(r).onIdTokenChanged(e,t,s)}function O2(r,e,t){return _t(r).beforeAuthStateChanged(e,t)}function Fb(r,e,t,s){return _t(r).onAuthStateChanged(e,t,s)}function D2(r){return _t(r).signOut()}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=1e3,M2=10;class Kb extends Gb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);$x()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,M2):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kb.type="LOCAL";const V2=Kb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b extends Gb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$b.type="SESSION";const Qb=$b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new ff(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await k2(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=pg("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(b){const T=b;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function U2(r){Sr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function j2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function z2(){return Yb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="firebaseLocalStorageDb",q2=1,Hh="firebaseLocalStorage",Wb="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function df(r,e){return r.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function H2(){const r=indexedDB.deleteDatabase(Xb);return new Pu(r).toPromise()}function Sp(){const r=indexedDB.open(Xb,q2);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Hh,{keyPath:Wb})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Hh)?e(s):(s.close(),await H2(),e(await Sp()))})})}async function aE(r,e,t){const s=df(r,!0).put({[Wb]:e,value:t});return new Pu(s).toPromise()}async function F2(r,e){const t=df(r,!1).get(e),s=await new Pu(t).toPromise();return s===void 0?null:s.value}function oE(r,e){const t=df(r,!0).delete(e);return new Pu(t).toPromise()}const G2=800,K2=3;class Jb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>K2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(z2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await j2(),!this.activeServiceWorker)return;this.sender=new L2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sp();return await aE(e,qh,"1"),await oE(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>aE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>F2(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>oE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=df(a,!1).getAll();return new Pu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Jb.type="LOCAL";const $2=Jb;new Nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(r,e){return e?ii(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends dg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Y2(r){return qb(r.auth,new gg(r),r.bypassAuthState)}function X2(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),w2(t,new gg(r),r.bypassAuthState)}async function W2(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),b2(t,new gg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y2;case"linkViaPopup":case"linkViaRedirect":return W2;case"reauthViaPopup":case"reauthViaRedirect":return X2;default:Zn(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new Nu(2e3,1e4);class fo extends Zb{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J2.get())};e()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="pendingRedirect",wh=new Map;class eN extends Zb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const s=await tN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tN(r,e){const t=iN(e),s=rN(r);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function nN(r,e){wh.set(r._key(),e)}function rN(r){return ii(r._redirectPersistence)}function iN(r){return bh(Z2,r.config.apiKey,r.name)}async function sN(r,e,t=!1){if(Bn(r.app))return Promise.reject(ai(r));const s=hs(r),a=Q2(s,e),c=await new eN(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=10*60*1e3;class oN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!ew(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ar(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aN&&this.cachedEventUids.clear(),this.cachedEventUids.has(lE(e))}saveEventToCache(e){this.cachedEventUids.add(lE(e)),this.lastProcessedEventTime=Date.now()}}function lE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ew({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ew(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(r,e={}){return Nr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hN=/^https?/;async function fN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await uN(r);for(const t of e)try{if(dN(t))return}catch{}Zn(r,"unauthorized-domain")}function dN(r){const e=wp(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!hN.test(t))return!1;if(cN.test(r))return s===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Nu(3e4,6e4);function uE(){const r=Sr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function pN(r){return new Promise((e,t)=>{var s,a,l;function c(){uE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uE(),t(Ar(r,"network-request-failed"))},timeout:mN.get()})}if(!((a=(s=Sr().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Sr().gapi)===null||l===void 0)&&l.load)c();else{const d=n2("iframefcb");return Sr()[d]=()=>{gapi.load?c():t(Ar(r,"network-request-failed"))},Lb(`${t2()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function gN(r){return Ah=Ah||pN(r),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Nu(5e3,15e3),_N="__/auth/iframe",vN="emulator/auth/iframe",EN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bN(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?cg(e,vN):`https://${r.config.authDomain}/${_N}`,s={apiKey:e.apiKey,appName:r.name,v:Oo},a=TN.get(r.config.apiHost);a&&(s.eid=a);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Cu(s).slice(1)}`}async function wN(r){const e=await gN(r),t=Sr().gapi;return be(t,r,"internal-error"),e.open({where:document.body,url:bN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EN,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ar(r,"network-request-failed"),d=Sr().setTimeout(()=>{l(c)},yN.get());function p(){Sr().clearTimeout(d),a(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SN=500,RN=600,IN="_blank",CN="http://localhost";class cE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xN(r,e,t,s=SN,a=RN){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},AN),{width:s.toString(),height:a.toString(),top:l,left:c}),g=nn().toLowerCase();t&&(d=Nb(g)?IN:t),Cb(g)&&(e=e||CN,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[C,I])=>`${T}${C}=${I},`,"");if(Kx(g)&&d!=="_self")return NN(e||"",d),new cE(null);const b=window.open(e||"",d,_);be(b,r,"popup-blocked");try{b.focus()}catch{}return new cE(b)}function NN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="__/auth/handler",DN="emulator/auth/handler",PN=encodeURIComponent("fac");async function hE(r,e,t,s,a,l){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Oo,eventId:a};if(e instanceof Bb){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",fC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))c[_]=b}if(e instanceof Du){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(c.scopes=_.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await r._getAppCheckToken(),g=p?`#${PN}=${encodeURIComponent(p)}`:"";return`${MN(r)}?${Cu(d).slice(1)}${g}`}function MN({config:r}){return r.emulator?cg(r,DN):`https://${r.authDomain}/${ON}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="webStorageSupport";class VN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qb,this._completeRedirectFn=sN,this._overrideRedirectResult=nN}async _openPopup(e,t,s,a){var l;ci((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await hE(e,t,s,wp(),a);return xN(e,c,pg())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await hE(e,t,s,wp(),a);return U2(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(ci(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await wN(e),s=new oN(e);return t.register("authEvent",a=>(be(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sp,{type:sp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[sp];c!==void 0&&t(!!c),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Vb()||xb()||fg()}}const kN=VN;var fE="@firebase/auth",dE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jN(r){Cr(new Jn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kb(r)},g=new Jx(s,a,l,p);return l2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Cr(new Jn("auth-internal",e=>{const t=hs(e.getProvider("auth").getImmediate());return(s=>new LN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(fE,dE,UN(r)),zn(fE,dE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=5*60,zN=ab("authIdTokenMaxAge")||BN;let mE=null;const qN=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>zN)return;const a=t==null?void 0:t.token;mE!==a&&(mE=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function fa(r=gb()){const e=xu(r,"auth");if(e.isInitialized())return e.getImmediate();const t=o2(r,{popupRedirectResolver:kN,persistence:[$2,V2,Qb]}),s=ab("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=qN(l.toString());O2(t,c,()=>c(t.currentUser)),N2(t,d=>c(d))}}const a=ib("auth");return a&&u2(t,`http://${a}`),t}function HN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}Zx({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=a=>{const l=Ar("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",HN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jN("Browser");function Eo(){const[r,e]=z.useState(null),[t,s]=z.useState(null),[a,l]=z.useState(!1),c=fa(),d=cs(),p=z.useRef(null);z.useEffect(()=>{const b=Fb(c,async T=>{if(e(T),T)try{const C=await Sb(T);s(C.claims.role||null)}catch(C){console.error("Error getting token claims:",C),s(null)}else s(null)});return()=>b()},[c]),z.useEffect(()=>{const b=T=>{p.current&&!p.current.contains(T.target)&&l(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const g=()=>{D2(c).then(()=>{alert("ออกจากระบบเรียบร้อยแล้ว"),d("/")}).catch(b=>{alert("ไม่สามารถออกจากระบบได้"),console.error(b)})},_=b=>{var T;return((T=b==null?void 0:b.charAt(0))==null?void 0:T.toUpperCase())||"U"};return S.jsxs("nav",{className:"bg-black text-white p-6 flex justify-between items-center",children:[S.jsx(mo,{to:"/",className:"text-2xl font-bold hover:text-red-500 transition",children:"BLACKBOYBRAND"}),S.jsxs("ul",{className:"flex gap-6 items-center",children:[S.jsx("li",{children:S.jsx(mo,{to:"/",className:"hover:text-red-500",children:"Home"})}),S.jsx("li",{children:S.jsx("a",{href:"#products",className:"hover:text-red-500",children:"Products"})}),S.jsx("li",{children:S.jsx("a",{href:"#about",className:"hover:text-red-500",children:"About"})}),S.jsx("li",{children:S.jsx("a",{href:"#newsletter",className:"hover:text-red-500",children:"Newsletter"})}),r?S.jsxs("li",{className:"relative",ref:p,children:[S.jsx("button",{onClick:()=>l(!a),className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center text-white text-sm font-bold hover:ring-2 hover:ring-white transition",children:r.photoURL?S.jsx("img",{src:r.photoURL,alt:"avatar",className:"w-full h-full rounded-full object-cover"}):_(r.displayName||r.email)}),a&&S.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white text-black rounded shadow z-10 overflow-hidden",children:[S.jsxs("div",{className:"px-4 py-2 border-b text-sm",children:[S.jsx("div",{className:"font-semibold truncate",children:r.displayName||"ผู้ใช้"}),S.jsx("div",{className:"text-gray-500 truncate",children:r.email})]}),t==="admin"&&S.jsx("button",{onClick:()=>{l(!1),d("/admin/orders")},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-sm font-semibold text-red-600",children:"Admin Dashboard"}),S.jsx("button",{onClick:()=>{l(!1),d("/order-history")},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:"ประวัติคำสั่งซื้อ"}),S.jsx("button",{onClick:()=>{g(),l(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-sm",children:"ออกจากระบบ"})]})]}):S.jsx("li",{children:S.jsx(mo,{to:"/Login",className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md font-semibold transition",children:"login / register"})})]})]})}function FN(){const r=["/HERO.jpg","/HERO2.jpg"],[e,t]=z.useState(0),[s,a]=z.useState(!0);return z.useEffect(()=>{const l=setInterval(()=>{a(!1),setTimeout(()=>{t(c=>(c+1)%r.length),a(!0)},500)},8e3);return()=>clearInterval(l)},[]),S.jsx("section",{className:`relative bg-gray-900 text-white flex items-center justify-center min-h-[600px] bg-cover bg-center transition-opacity duration-1000 ${s?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${r[e]})`},children:S.jsx("div",{className:"z-10 text-center",children:S.jsx("h1",{className:"text-4xl font-bold",children:"BLACKBOYBRAND"})})})}var pE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zi,tw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function x(){}x.prototype=R.prototype,P.D=R.prototype,P.prototype=new x,P.prototype.constructor=P,P.C=function(V,U,B){for(var D=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)D[ye-2]=arguments[ye];return R.prototype[U].apply(V,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,R,x){x||(x=0);var V=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)V[U]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(U=0;16>U;++U)V[U]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=P.g[0],x=P.g[1],U=P.g[2];var B=P.g[3],D=R+(B^x&(U^B))+V[0]+3614090360&4294967295;R=x+(D<<7&4294967295|D>>>25),D=B+(U^R&(x^U))+V[1]+3905402710&4294967295,B=R+(D<<12&4294967295|D>>>20),D=U+(x^B&(R^x))+V[2]+606105819&4294967295,U=B+(D<<17&4294967295|D>>>15),D=x+(R^U&(B^R))+V[3]+3250441966&4294967295,x=U+(D<<22&4294967295|D>>>10),D=R+(B^x&(U^B))+V[4]+4118548399&4294967295,R=x+(D<<7&4294967295|D>>>25),D=B+(U^R&(x^U))+V[5]+1200080426&4294967295,B=R+(D<<12&4294967295|D>>>20),D=U+(x^B&(R^x))+V[6]+2821735955&4294967295,U=B+(D<<17&4294967295|D>>>15),D=x+(R^U&(B^R))+V[7]+4249261313&4294967295,x=U+(D<<22&4294967295|D>>>10),D=R+(B^x&(U^B))+V[8]+1770035416&4294967295,R=x+(D<<7&4294967295|D>>>25),D=B+(U^R&(x^U))+V[9]+2336552879&4294967295,B=R+(D<<12&4294967295|D>>>20),D=U+(x^B&(R^x))+V[10]+4294925233&4294967295,U=B+(D<<17&4294967295|D>>>15),D=x+(R^U&(B^R))+V[11]+2304563134&4294967295,x=U+(D<<22&4294967295|D>>>10),D=R+(B^x&(U^B))+V[12]+1804603682&4294967295,R=x+(D<<7&4294967295|D>>>25),D=B+(U^R&(x^U))+V[13]+4254626195&4294967295,B=R+(D<<12&4294967295|D>>>20),D=U+(x^B&(R^x))+V[14]+2792965006&4294967295,U=B+(D<<17&4294967295|D>>>15),D=x+(R^U&(B^R))+V[15]+1236535329&4294967295,x=U+(D<<22&4294967295|D>>>10),D=R+(U^B&(x^U))+V[1]+4129170786&4294967295,R=x+(D<<5&4294967295|D>>>27),D=B+(x^U&(R^x))+V[6]+3225465664&4294967295,B=R+(D<<9&4294967295|D>>>23),D=U+(R^x&(B^R))+V[11]+643717713&4294967295,U=B+(D<<14&4294967295|D>>>18),D=x+(B^R&(U^B))+V[0]+3921069994&4294967295,x=U+(D<<20&4294967295|D>>>12),D=R+(U^B&(x^U))+V[5]+3593408605&4294967295,R=x+(D<<5&4294967295|D>>>27),D=B+(x^U&(R^x))+V[10]+38016083&4294967295,B=R+(D<<9&4294967295|D>>>23),D=U+(R^x&(B^R))+V[15]+3634488961&4294967295,U=B+(D<<14&4294967295|D>>>18),D=x+(B^R&(U^B))+V[4]+3889429448&4294967295,x=U+(D<<20&4294967295|D>>>12),D=R+(U^B&(x^U))+V[9]+568446438&4294967295,R=x+(D<<5&4294967295|D>>>27),D=B+(x^U&(R^x))+V[14]+3275163606&4294967295,B=R+(D<<9&4294967295|D>>>23),D=U+(R^x&(B^R))+V[3]+4107603335&4294967295,U=B+(D<<14&4294967295|D>>>18),D=x+(B^R&(U^B))+V[8]+1163531501&4294967295,x=U+(D<<20&4294967295|D>>>12),D=R+(U^B&(x^U))+V[13]+2850285829&4294967295,R=x+(D<<5&4294967295|D>>>27),D=B+(x^U&(R^x))+V[2]+4243563512&4294967295,B=R+(D<<9&4294967295|D>>>23),D=U+(R^x&(B^R))+V[7]+1735328473&4294967295,U=B+(D<<14&4294967295|D>>>18),D=x+(B^R&(U^B))+V[12]+2368359562&4294967295,x=U+(D<<20&4294967295|D>>>12),D=R+(x^U^B)+V[5]+4294588738&4294967295,R=x+(D<<4&4294967295|D>>>28),D=B+(R^x^U)+V[8]+2272392833&4294967295,B=R+(D<<11&4294967295|D>>>21),D=U+(B^R^x)+V[11]+1839030562&4294967295,U=B+(D<<16&4294967295|D>>>16),D=x+(U^B^R)+V[14]+4259657740&4294967295,x=U+(D<<23&4294967295|D>>>9),D=R+(x^U^B)+V[1]+2763975236&4294967295,R=x+(D<<4&4294967295|D>>>28),D=B+(R^x^U)+V[4]+1272893353&4294967295,B=R+(D<<11&4294967295|D>>>21),D=U+(B^R^x)+V[7]+4139469664&4294967295,U=B+(D<<16&4294967295|D>>>16),D=x+(U^B^R)+V[10]+3200236656&4294967295,x=U+(D<<23&4294967295|D>>>9),D=R+(x^U^B)+V[13]+681279174&4294967295,R=x+(D<<4&4294967295|D>>>28),D=B+(R^x^U)+V[0]+3936430074&4294967295,B=R+(D<<11&4294967295|D>>>21),D=U+(B^R^x)+V[3]+3572445317&4294967295,U=B+(D<<16&4294967295|D>>>16),D=x+(U^B^R)+V[6]+76029189&4294967295,x=U+(D<<23&4294967295|D>>>9),D=R+(x^U^B)+V[9]+3654602809&4294967295,R=x+(D<<4&4294967295|D>>>28),D=B+(R^x^U)+V[12]+3873151461&4294967295,B=R+(D<<11&4294967295|D>>>21),D=U+(B^R^x)+V[15]+530742520&4294967295,U=B+(D<<16&4294967295|D>>>16),D=x+(U^B^R)+V[2]+3299628645&4294967295,x=U+(D<<23&4294967295|D>>>9),D=R+(U^(x|~B))+V[0]+4096336452&4294967295,R=x+(D<<6&4294967295|D>>>26),D=B+(x^(R|~U))+V[7]+1126891415&4294967295,B=R+(D<<10&4294967295|D>>>22),D=U+(R^(B|~x))+V[14]+2878612391&4294967295,U=B+(D<<15&4294967295|D>>>17),D=x+(B^(U|~R))+V[5]+4237533241&4294967295,x=U+(D<<21&4294967295|D>>>11),D=R+(U^(x|~B))+V[12]+1700485571&4294967295,R=x+(D<<6&4294967295|D>>>26),D=B+(x^(R|~U))+V[3]+2399980690&4294967295,B=R+(D<<10&4294967295|D>>>22),D=U+(R^(B|~x))+V[10]+4293915773&4294967295,U=B+(D<<15&4294967295|D>>>17),D=x+(B^(U|~R))+V[1]+2240044497&4294967295,x=U+(D<<21&4294967295|D>>>11),D=R+(U^(x|~B))+V[8]+1873313359&4294967295,R=x+(D<<6&4294967295|D>>>26),D=B+(x^(R|~U))+V[15]+4264355552&4294967295,B=R+(D<<10&4294967295|D>>>22),D=U+(R^(B|~x))+V[6]+2734768916&4294967295,U=B+(D<<15&4294967295|D>>>17),D=x+(B^(U|~R))+V[13]+1309151649&4294967295,x=U+(D<<21&4294967295|D>>>11),D=R+(U^(x|~B))+V[4]+4149444226&4294967295,R=x+(D<<6&4294967295|D>>>26),D=B+(x^(R|~U))+V[11]+3174756917&4294967295,B=R+(D<<10&4294967295|D>>>22),D=U+(R^(B|~x))+V[2]+718787259&4294967295,U=B+(D<<15&4294967295|D>>>17),D=x+(B^(U|~R))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(U+(D<<21&4294967295|D>>>11))&4294967295,P.g[2]=P.g[2]+U&4294967295,P.g[3]=P.g[3]+B&4294967295}s.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var x=R-this.blockSize,V=this.B,U=this.h,B=0;B<R;){if(U==0)for(;B<=x;)a(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<R;)if(V[U++]=P.charCodeAt(B++),U==this.blockSize){a(this,V),U=0;break}}else for(;B<R;)if(V[U++]=P[B++],U==this.blockSize){a(this,V),U=0;break}}this.h=U,this.o+=R},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var x=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=x&255,x/=256;for(this.u(P),P=Array(16),R=x=0;4>R;++R)for(var V=0;32>V;V+=8)P[x++]=this.g[R]>>>V&255;return P};function l(P,R){var x=d;return Object.prototype.hasOwnProperty.call(x,P)?x[P]:x[P]=R(P)}function c(P,R){this.h=R;for(var x=[],V=!0,U=P.length-1;0<=U;U--){var B=P[U]|0;V&&B==R||(x[U]=B,V=!1)}this.g=x}var d={};function p(P){return-128<=P&&128>P?l(P,function(R){return new c([R|0],0>R?-1:0)}):new c([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return b;if(0>P)return O(g(-P));for(var R=[],x=1,V=0;P>=x;V++)R[V]=P/x|0,x*=4294967296;return new c(R,0)}function _(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return O(_(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(R,8)),V=b,U=0;U<P.length;U+=8){var B=Math.min(8,P.length-U),D=parseInt(P.substring(U,U+B),R);8>B?(B=g(Math.pow(R,B)),V=V.j(B).add(g(D))):(V=V.j(x),V=V.add(g(D)))}return V}var b=p(0),T=p(1),C=p(16777216);r=c.prototype,r.m=function(){if(L(this))return-O(this).m();for(var P=0,R=1,x=0;x<this.g.length;x++){var V=this.i(x);P+=(0<=V?V:4294967296+V)*R,R*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(I(this))return"0";if(L(this))return"-"+O(this).toString(P);for(var R=g(Math.pow(P,6)),x=this,V="";;){var U=ce(x,R).g;x=F(x,U.j(R));var B=((0<x.g.length?x.g[0]:x.h)>>>0).toString(P);if(x=U,I(x))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function I(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function L(P){return P.h==-1}r.l=function(P){return P=F(this,P),L(P)?-1:I(P)?0:1};function O(P){for(var R=P.g.length,x=[],V=0;V<R;V++)x[V]=~P.g[V];return new c(x,~P.h).add(T)}r.abs=function(){return L(this)?O(this):this},r.add=function(P){for(var R=Math.max(this.g.length,P.g.length),x=[],V=0,U=0;U<=R;U++){var B=V+(this.i(U)&65535)+(P.i(U)&65535),D=(B>>>16)+(this.i(U)>>>16)+(P.i(U)>>>16);V=D>>>16,B&=65535,D&=65535,x[U]=D<<16|B}return new c(x,x[x.length-1]&-2147483648?-1:0)};function F(P,R){return P.add(O(R))}r.j=function(P){if(I(this)||I(P))return b;if(L(this))return L(P)?O(this).j(O(P)):O(O(this).j(P));if(L(P))return O(this.j(O(P)));if(0>this.l(C)&&0>P.l(C))return g(this.m()*P.m());for(var R=this.g.length+P.g.length,x=[],V=0;V<2*R;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<P.g.length;U++){var B=this.i(V)>>>16,D=this.i(V)&65535,ye=P.i(U)>>>16,Me=P.i(U)&65535;x[2*V+2*U]+=D*Me,X(x,2*V+2*U),x[2*V+2*U+1]+=B*Me,X(x,2*V+2*U+1),x[2*V+2*U+1]+=D*ye,X(x,2*V+2*U+1),x[2*V+2*U+2]+=B*ye,X(x,2*V+2*U+2)}for(V=0;V<R;V++)x[V]=x[2*V+1]<<16|x[2*V];for(V=R;V<2*R;V++)x[V]=0;return new c(x,0)};function X(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function re(P,R){this.g=P,this.h=R}function ce(P,R){if(I(R))throw Error("division by zero");if(I(P))return new re(b,b);if(L(P))return R=ce(O(P),R),new re(O(R.g),O(R.h));if(L(R))return R=ce(P,O(R)),new re(O(R.g),R.h);if(30<P.g.length){if(L(P)||L(R))throw Error("slowDivide_ only works with positive integers.");for(var x=T,V=R;0>=V.l(P);)x=le(x),V=le(V);var U=pe(x,1),B=pe(V,1);for(V=pe(V,2),x=pe(x,2);!I(V);){var D=B.add(V);0>=D.l(P)&&(U=U.add(x),B=D),V=pe(V,1),x=pe(x,1)}return R=F(P,U.j(R)),new re(U,R)}for(U=b;0<=P.l(R);){for(x=Math.max(1,Math.floor(P.m()/R.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=g(x),D=B.j(R);L(D)||0<D.l(P);)x-=V,B=g(x),D=B.j(R);I(B)&&(B=T),U=U.add(B),P=F(P,D)}return new re(U,P)}r.A=function(P){return ce(this,P).h},r.and=function(P){for(var R=Math.max(this.g.length,P.g.length),x=[],V=0;V<R;V++)x[V]=this.i(V)&P.i(V);return new c(x,this.h&P.h)},r.or=function(P){for(var R=Math.max(this.g.length,P.g.length),x=[],V=0;V<R;V++)x[V]=this.i(V)|P.i(V);return new c(x,this.h|P.h)},r.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),x=[],V=0;V<R;V++)x[V]=this.i(V)^P.i(V);return new c(x,this.h^P.h)};function le(P){for(var R=P.g.length+1,x=[],V=0;V<R;V++)x[V]=P.i(V)<<1|P.i(V-1)>>>31;return new c(x,P.h)}function pe(P,R){var x=R>>5;R%=32;for(var V=P.g.length-x,U=[],B=0;B<V;B++)U[B]=0<R?P.i(B+x)>>>R|P.i(B+x+1)<<32-R:P.i(B+x);return new c(U,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,tw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Zi=c}).apply(typeof pE<"u"?pE:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nw,nu,rw,Sh,Rp,iw,sw,aw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,v){return h==Array.prototype||h==Object.prototype||(h[y]=v.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function a(h,y){if(y)e:{var v=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in v))break e;v=v[q]}h=h[h.length-1],A=v[h],y=y(A),y!=A&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var v=0,A=!1,q={next:function(){if(!A&&v<h.length){var Q=v++;return{value:y(Q,h[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function _(h,y,v){return h.call.apply(h.bind,arguments)}function b(h,y,v){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),h.apply(y,q)}}return function(){return h.apply(y,arguments)}}function T(h,y,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,T.apply(null,arguments)}function C(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function I(h,y){function v(){}v.prototype=y.prototype,h.aa=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(A,q,Q){for(var oe=Array(arguments.length-2),je=2;je<arguments.length;je++)oe[je-2]=arguments[je];return y.prototype[q].apply(A,oe)}}function L(h){const y=h.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=h[A];return v}return[]}function O(h,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const q=h.length||0,Q=A.length||0;h.length=q+Q;for(let oe=0;oe<Q;oe++)h[q+oe]=A[oe]}else h.push(A)}}class F{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(h){return/^[\s\xa0]*$/.test(h)}function re(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ce(h){return ce[" "](h),h}ce[" "]=function(){};var le=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function pe(h,y,v){for(const A in h)y.call(v,h[A],A,h)}function P(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function R(h){const y={};for(const v in h)y[v]=h[v];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,y){let v,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(v in A)h[v]=A[v];for(let Q=0;Q<x.length;Q++)v=x[Q],Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}}function U(h){var y=1;h=h.split(":");const v=[];for(;0<y&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function B(h){d.setTimeout(()=>{throw h},0)}function D(){var h=Fe;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ye{constructor(){this.h=this.g=null}add(y,v){const A=Me.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Me=new F(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ge=!1,Fe=new ye,M=()=>{const h=d.Promise.resolve(void 0);ae=()=>{h.then(ie)}};var ie=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(v){B(v)}var y=Me;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ge=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return h}();function De(h,y){if(se.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(le){e:{try{ce(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&De.aa.h.call(this)}}I(De,se);var Se={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),nt=0;function sr(h,y,v,A,q){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=q,this.key=++nt,this.da=this.fa=!1}function pi(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Or(h){this.src=h,this.g={},this.h=0}Or.prototype.add=function(h,y,v,A,q){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var oe=gs(h,y,A,q);return-1<oe?(y=h[oe],v||(y.fa=!1)):(y=new sr(y,this.src,Q,!!A,q),y.fa=v,h.push(y)),y};function ps(h,y){var v=y.type;if(v in h.g){var A=h.g[v],q=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(A,q,1),Q&&(pi(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function gs(h,y,v,A){for(var q=0;q<h.length;++q){var Q=h[q];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==A)return q}return-1}var ys="closure_lm_"+(1e6*Math.random()|0),Bo={};function qu(h,y,v,A,q){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)qu(h,y[Q],v,A,q);return null}return v=Hu(v),h&&h[Dt]?h.K(y,v,g(A)?!!A.capture:!1,q):In(h,y,v,!1,A,q)}function In(h,y,v,A,q,Q){if(!y)throw Error("Invalid event type");var oe=g(q)?!!q.capture:!!q,je=ya(h);if(je||(h[ys]=je=new Or(h)),v=je.add(y,v,A,oe,Q),v.proxy)return v;if(A=Gf(),v.proxy=A,A.src=h,A.listener=v,h.addEventListener)ve||(q=oe),q===void 0&&(q=!1),h.addEventListener(y.toString(),A,q);else if(h.attachEvent)h.attachEvent(_s(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Gf(){function h(v){return y.call(h.src,h.listener,v)}const y=Kf;return h}function zo(h,y,v,A,q){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)zo(h,y[Q],v,A,q);else A=g(A)?!!A.capture:!!A,v=Hu(v),h&&h[Dt]?(h=h.i,y=String(y).toString(),y in h.g&&(Q=h.g[y],v=gs(Q,v,A,q),-1<v&&(pi(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete h.g[y],h.h--)))):h&&(h=ya(h))&&(y=h.g[y.toString()],h=-1,y&&(h=gs(y,v,A,q)),(v=-1<h?y[h]:null)&&ga(v))}function ga(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Dt])ps(y.i,h);else{var v=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(v,A,h.capture):y.detachEvent?y.detachEvent(_s(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=ya(y))?(ps(v,h),v.h==0&&(v.src=null,y[ys]=null)):pi(h)}}}function _s(h){return h in Bo?Bo[h]:Bo[h]="on"+h}function Kf(h,y){if(h.da)h=!0;else{y=new De(y,this);var v=h.listener,A=h.ha||h.src;h.fa&&ga(h),h=v.call(A,y)}return h}function ya(h){return h=h[ys],h instanceof Or?h:null}var qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hu(h){return typeof h=="function"?h:(h[qo]||(h[qo]=function(y){return h.handleEvent(y)}),h[qo])}function ct(){ue.call(this),this.i=new Or(this),this.M=this,this.F=null}I(ct,ue),ct.prototype[Dt]=!0,ct.prototype.removeEventListener=function(h,y,v,A){zo(this,h,y,v,A)};function Qe(h,y){var v,A=h.F;if(A)for(v=[];A;A=A.F)v.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new se(y,h);else if(y instanceof se)y.target=y.target||h;else{var q=y;y=new se(A,h),V(y,q)}if(q=!0,v)for(var Q=v.length-1;0<=Q;Q--){var oe=y.g=v[Q];q=yn(oe,A,!0,y)&&q}if(oe=y.g=h,q=yn(oe,A,!0,y)&&q,q=yn(oe,A,!1,y)&&q,v)for(Q=0;Q<v.length;Q++)oe=y.g=v[Q],q=yn(oe,A,!1,y)&&q}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var v=h.g[y],A=0;A<v.length;A++)pi(v[A]);delete h.g[y],h.h--}}this.F=null},ct.prototype.K=function(h,y,v,A){return this.i.add(String(h),y,!1,v,A)},ct.prototype.L=function(h,y,v,A){return this.i.add(String(h),y,!0,v,A)};function yn(h,y,v,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,Q=0;Q<y.length;++Q){var oe=y[Q];if(oe&&!oe.da&&oe.capture==v){var je=oe.listener,Rt=oe.ha||oe.src;oe.fa&&ps(h.i,oe),q=je.call(Rt,A)!==!1&&q}}return q&&!A.defaultPrevented}function $t(h,y,v){if(typeof h=="function")v&&(h=T(h,v));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Fu(h){h.g=$t(()=>{h.g=null,h.i&&(h.i=!1,Fu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class $f extends ue{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Fu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(h){ue.call(this),this.h=h,this.g={}}I(vs,ue);var Es=[];function Ts(h){pe(h.g,function(y,v){this.g.hasOwnProperty(v)&&ga(y)},h),h.g={}}vs.prototype.N=function(){vs.aa.N.call(this),Ts(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=d.JSON.stringify,_a=d.JSON.parse,bs=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Ho(){}Ho.prototype.h=null;function Fo(h){return h.h||(h.h=h.i())}function Go(){}var Dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pr(){se.call(this,"d")}I(Pr,se);function Ko(){se.call(this,"c")}I(Ko,se);var ar={},$o=null;function gi(){return $o=$o||new ct}ar.La="serverreachability";function va(h){se.call(this,ar.La,h)}I(va,se);function yi(h){const y=gi();Qe(y,new va(y))}ar.STAT_EVENT="statevent";function Gu(h,y){se.call(this,ar.STAT_EVENT,h),this.stat=y}I(Gu,se);function st(h){const y=gi();Qe(y,new Gu(y,h))}ar.Ma="timingevent";function St(h,y){se.call(this,ar.Ma,h),this.size=y}I(St,se);function vt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function Qo(h,y,v,A,q,Q){h.info(function(){if(h.g)if(Q)for(var oe="",je=Q.split("&"),Rt=0;Rt<je.length;Rt++){var Be=je[Rt].split("=");if(1<Be.length){var Mt=Be[0];Be=Be[1];var It=Mt.split("_");oe=2<=It.length&&It[1]=="type"?oe+(Mt+"="+Be+"&"):oe+(Mt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+v+`
`+oe})}function Qf(h,y,v,A,q,Q,oe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+v+`
`+Q+" "+oe})}function _i(h,y,v,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+ws(h,v)+(A?" "+A:"")})}function Ku(h,y){h.info(function(){return"TIMEOUT: "+y})}Cn.prototype.info=function(){};function ws(h,y){if(!h.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var A=v[h];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<q.length;oe++)q[oe]=""}}}}return Fn(v)}catch{return y}}var vi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},or;function lr(){}I(lr,Ho),lr.prototype.g=function(){return new XMLHttpRequest},lr.prototype.i=function(){return{}},or=new lr;function rn(h,y,v,A){this.j=h,this.i=y,this.l=v,this.R=A||1,this.U=new vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var Yo={},Ea={};function Gn(h,y,v){h.L=1,h.v=Cs(_n(y)),h.m=v,h.P=!0,Vr(h,null)}function Vr(h,y){h.F=Date.now(),As(h),h.A=_n(h.v);var v=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),tl(v.i,"t",A),h.C=0,v=h.j.J,h.h=new mt,h.g=lc(h.j,v?y:null,!h.m),0<h.O&&(h.M=new $f(T(h.Y,h,h.g),h.O)),y=h.U,v=h.g,A=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(Es[0]=q.toString()),q=Es);for(var Q=0;Q<q.length;Q++){var oe=qu(v,q[Q],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),yi(),Qo(h.i,h.u,h.A,h.l,h.R,h.m)}rn.prototype.ca=function(h){h=h.target;const y=this.M;y&&Dn(h)==3?y.j():this.Y(h)},rn.prototype.Y=function(h){try{if(h==this.g)e:{const It=Dn(this.g);var y=this.g.Ba();const Hr=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||ec(this.g)))){this.J||It!=4||y==7||(y==8||0>=Hr?yi(3):yi(2)),Ei(this);var v=this.g.Z();this.X=v;t:if($u(this)){var A=ec(this.g);h="";var q=A.length,Q=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),ur(this);var oe="";break t}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(Q&&y==q-1)});A.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,Qf(this.i,this.u,this.A,this.l,this.R,It,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Rt=this.g;if((je=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(je)){var Be=je;break t}}Be=null}if(v=Be)_i(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ss(this,v);else{this.o=!1,this.s=3,st(12),jt(this),ur(this);break e}}if(this.P){v=!0;let Bt;for(;!this.J&&this.C<oe.length;)if(Bt=Qu(this,oe),Bt==Ea){It==4&&(this.s=4,st(14),v=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Yo){this.s=4,st(15),_i(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else _i(this.i,this.l,Bt,null),Ss(this,Bt);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||oe.length!=0||this.h.h||(this.s=1,st(16),v=!1),this.o=this.o&&v,!v)_i(this.i,this.l,oe,"[Invalid Chunked Response]"),jt(this),ur(this);else if(0<oe.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),ks(Mt),Mt.M=!0,st(11))}}else _i(this.i,this.l,oe,null),Ss(this,oe);It==4&&jt(this),this.o&&!this.J&&(It==4?sc(this.j,this):(this.o=!1,As(this)))}else Zf(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),jt(this),ur(this)}}}catch{}finally{}};function $u(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Qu(h,y){var v=h.C,A=y.indexOf(`
`,v);return A==-1?Ea:(v=Number(y.substring(v,A)),isNaN(v)?Yo:(A+=1,A+v>y.length?Ea:(y=y.slice(A,A+v),h.C=A+v,y)))}rn.prototype.cancel=function(){this.J=!0,jt(this)};function As(h){h.S=Date.now()+h.I,Yu(h,h.I)}function Yu(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=vt(T(h.ba,h),y)}function Ei(h){h.B&&(d.clearTimeout(h.B),h.B=null)}rn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ku(this.i,this.A),this.L!=2&&(yi(),st(17)),jt(this),this.s=2,ur(this)):Yu(this,this.S-h)};function ur(h){h.j.G==0||h.J||sc(h.j,h)}function jt(h){Ei(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Ts(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Ss(h,y){try{var v=h.j;if(v.G!=0&&(v.g==h||Xo(v.h,h))){if(!h.K&&Xo(v.h,h)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)Da(v),Na(v);else break e;al(v),st(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=vt(T(v.Za,v),6e3));if(1>=ba(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else qr(v,11)}else if((h.K||v.g==h)&&Da(v),!X(y))for(q=v.Da.g.parse(y),y=0;y<q.length;y++){let Be=q[y];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const Mt=Be[3];Mt!=null&&(v.la=Mt,v.j.info("VER="+v.la));const It=Be[4];It!=null&&(v.Aa=It,v.j.info("SVER="+v.Aa));const Hr=Be[5];Hr!=null&&typeof Hr=="number"&&0<Hr&&(A=1.5*Hr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Bt=h.g;if(Bt){const gr=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var Q=A.h;Q.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(wa(Q,Q.h),Q.h=null))}if(A.D){const ll=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(A.ya=ll,We(A.I,A.D,ll))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var oe=h;if(A.qa=oc(A,A.J?A.ia:null,A.W),oe.K){sn(A.h,oe);var je=oe,Rt=A.L;Rt&&(je.I=Rt),je.B&&(Ei(je),As(je)),A.g=oe}else rc(A);0<v.i.length&&Oa(v)}else Be[0]!="stop"&&Be[0]!="close"||qr(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?qr(v,7):il(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}yi(4)}catch{}}var Xu=class{constructor(h,y){this.g=h,this.map=y}};function kr(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ta(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ba(h){return h.h?1:h.g?h.g.size:0}function Xo(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function wa(h,y){h.g?h.g.add(y):h.h=y}function sn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}kr.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Wo(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.D);return y}return L(h.i)}function Yf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],v=h.length,A=0;A<v;A++)y.push(h[A]);return y}y=[],v=0;for(A in h)y[v++]=h[A];return y}function Aa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var v=0;v<h;v++)y.push(v);return y}y=[],v=0;for(const A in h)y[v++]=A;return y}}}function Jo(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var v=Aa(h),A=Yf(h),q=A.length,Q=0;Q<q;Q++)y.call(void 0,A[Q],v&&v[Q],h)}var Rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xf(h,y){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var A=h[v].indexOf("="),q=null;if(0<=A){var Q=h[v].substring(0,A);q=h[v].substring(A+1)}else Q=h[v];y(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Et(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Et){this.h=h.h,Is(this,h.j),this.o=h.o,this.g=h.g,Ti(this,h.s),this.l=h.l;var y=h.i,v=new Ur;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Lr(this,v),this.m=h.m}else h&&(y=String(h).match(Rs))?(this.h=!1,Is(this,y[1]||"",!0),this.o=xn(y[2]||""),this.g=xn(y[3]||"",!0),Ti(this,y[4]),this.l=xn(y[5]||"",!0),Lr(this,y[6]||"",!0),this.m=xn(y[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}Et.prototype.toString=function(){var h=[],y=this.j;y&&h.push(xs(y,Zo,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(xs(y,Zo,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(xs(v,v.charAt(0)=="/"?Wf:el,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",xs(v,Sa)),h.join("")};function _n(h){return new Et(h)}function Is(h,y,v){h.j=v?xn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ti(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Lr(h,y,v){y instanceof Ur?(h.i=y,Ju(h.i,h.h)):(v||(y=xs(y,Jf)),h.i=new Ur(y,h.h))}function We(h,y,v){h.i.set(y,v)}function Cs(h){return We(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function xn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function xs(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,Wu),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Wu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Zo=/[#\/\?@]/g,el=/[#\?:]/g,Wf=/[#\?]/g,Jf=/[#\?@]/g,Sa=/#/g;function Ur(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Nn(h){h.g||(h.g=new Map,h.h=0,h.i&&Xf(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Ur.prototype,r.add=function(h,y){Nn(this),this.i=null,h=cr(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function jr(h,y){Nn(h),y=cr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Br(h,y){return Nn(h),y=cr(h,y),h.g.has(y)}r.forEach=function(h,y){Nn(this),this.g.forEach(function(v,A){v.forEach(function(q){h.call(y,q,A,this)},this)},this)},r.na=function(){Nn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const q=h[A];for(let Q=0;Q<q.length;Q++)v.push(y[A])}return v},r.V=function(h){Nn(this);let y=[];if(typeof h=="string")Br(this,h)&&(y=y.concat(this.g.get(cr(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)y=y.concat(h[v])}return y},r.set=function(h,y){return Nn(this),this.i=null,h=cr(this,h),Br(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function tl(h,y,v){jr(h,y),0<v.length&&(h.i=null,h.g.set(cr(h,y),L(v)),h.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const Q=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var q=Q;oe[A]!==""&&(q+="="+encodeURIComponent(String(oe[A]))),h.push(q)}}return this.i=h.join("&")};function cr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ju(h,y){y&&!h.j&&(Nn(h),h.i=null,h.g.forEach(function(v,A){var q=A.toLowerCase();A!=q&&(jr(this,A),tl(this,q,v))},h)),h.j=y}function Ns(h,y){const v=new Cn;if(d.Image){const A=new Image;A.onload=C(On,v,"TestLoadImage: loaded",!0,y,A),A.onerror=C(On,v,"TestLoadImage: error",!1,y,A),A.onabort=C(On,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=C(On,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function Kn(h,y){const v=new Cn,A=new AbortController,q=setTimeout(()=>{A.abort(),On(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(q),Q.ok?On(v,"TestPingServer: ok",!0,y):On(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),On(v,"TestPingServer: error",!1,y)})}function On(h,y,v,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(v)}catch{}}function Os(){this.g=new bs}function hr(h,y,v){const A=v||"";try{Jo(h,function(q,Q){let oe=q;g(q)&&(oe=Fn(q)),y.push(A+Q+"="+encodeURIComponent(oe))})}catch(q){throw y.push(A+"type="+encodeURIComponent("_badmap")),q}}function bi(h){this.l=h.Ub||null,this.j=h.eb||!1}I(bi,Ho),bi.prototype.g=function(){return new zr(this.l,this.j)},bi.prototype.i=function(h){return function(){return h}}({});function zr(h,y){ct.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(zr,ct),r=zr.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,dr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?fr(this):dr(this),this.readyState==3&&nl(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,fr(this))},r.Qa=function(h){this.g&&(this.response=h,fr(this))},r.ga=function(){this.g&&fr(this)};function fr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,dr(h)}r.setRequestHeader=function(h,y){this.u.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function dr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function rl(h){let y="";return pe(h,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Pt(h,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=rl(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):We(h,y,v))}function Ke(h){ct.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ke,ct);var Ra=/^https?$/i,Ds=["POST","PUT"];r=Ke.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():or.g(),this.v=this.o?Fo(this.o):Fo(or),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Q){Zu(this,Q);return}if(h=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)v.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ds,y,void 0))||A||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of v)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ps(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){Zu(this,Q)}};function Zu(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Ia(h),mr(h)}function Ia(h){h.A||(h.A=!0,Qe(h,"complete"),Qe(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Qe(this,"complete"),Qe(this,"abort"),mr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mr(this,!0)),Ke.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},r.bb=function(){Ca(this)};function Ca(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Dn(h)!=4||h.Z()!=2)){if(h.u&&Dn(h)==4)$t(h.Ea,0,h);else if(Qe(h,"readystatechange"),Dn(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=oe===0){var q=String(h.D).match(Rs)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),A=!Ra.test(q?q.toLowerCase():"")}v=A}if(v)Qe(h,"complete"),Qe(h,"success");else{h.m=6;try{var Q=2<Dn(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",Ia(h)}}finally{mr(h)}}}}function mr(h,y){if(h.g){Ps(h);const v=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Qe(h,"ready");try{v.onreadystatechange=A}catch{}}}function Ps(h){h.I&&(d.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function Dn(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),_a(y)}};function ec(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Zf(h){const y={};h=(h.g&&2<=Dn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(X(h[A]))continue;var v=U(h[A]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[q]||[];y[q]=Q,Q.push(v)}P(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function xa(h){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,h),this.cb=Ms("retryDelaySeedMs",1e4,h),this.Wa=Ms("forwardChannelMaxRetries",2,h),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new kr(h&&h.concurrentRequestLimit),this.Da=new Os,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=xa.prototype,r.la=8,r.G=1,r.connect=function(h,y,v,A){st(0),this.W=h,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=oc(this,null,this.W),Oa(this)};function il(h){if(tc(h),h.G==3){var y=h.U++,v=_n(h.I);if(We(v,"SID",h.K),We(v,"RID",y),We(v,"TYPE","terminate"),Vs(h,v),y=new rn(h,h.j,y),y.L=2,y.v=Cs(_n(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=lc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),As(y)}ac(h)}function Na(h){h.g&&(ks(h),h.g.cancel(),h.g=null)}function tc(h){Na(h),h.u&&(d.clearTimeout(h.u),h.u=null),Da(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Oa(h){if(!Ta(h.h)&&!h.s){h.s=!0;var y=h.Ga;ae||M(),ge||(ae(),ge=!0),Fe.add(y,h),h.B=0}}function ed(h,y){return ba(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=vt(T(h.Ga,h,y),ol(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new rn(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=R(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=nc(this,q,y),v=_n(this.I),We(v,"RID",h),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),Vs(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(rl(Q)))+"&"+y:this.m&&Pt(v,this.m,Q)),wa(this.h,q),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",y),We(v,"SID","null"),q.T=!0,Gn(q,v,null)):Gn(q,v,y),this.G=2}}else this.G==3&&(h?sl(this,h):this.i.length==0||Ta(this.h)||sl(this))};function sl(h,y){var v;y?v=y.l:v=h.U++;const A=_n(h.I);We(A,"SID",h.K),We(A,"RID",v),We(A,"AID",h.T),Vs(h,A),h.m&&h.o&&Pt(A,h.m,h.o),v=new rn(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),y&&(h.i=y.D.concat(h.i)),y=nc(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),wa(h.h,v),Gn(v,A,y)}function Vs(h,y){h.H&&pe(h.H,function(v,A){We(y,A,v)}),h.l&&Jo({},function(v,A){We(y,A,v)})}function nc(h,y,v){v=Math.min(h.i.length,v);var A=h.l?T(h.l.Na,h.l,h):null;e:{var q=h.i;let Q=-1;for(;;){const oe=["count="+v];Q==-1?0<v?(Q=q[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let je=!0;for(let Rt=0;Rt<v;Rt++){let Be=q[Rt].g;const Mt=q[Rt].map;if(Be-=Q,0>Be)Q=Math.max(0,q[Rt].g-100),je=!1;else try{hr(Mt,oe,"req"+Be+"_")}catch{A&&A(Mt)}}if(je){A=oe.join("&");break e}}}return h=h.i.splice(0,v),y.D=h,A}function rc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ae||M(),ge||(ae(),ge=!0),Fe.add(y,h),h.v=0}}function al(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=vt(T(h.Fa,h),ol(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,ic(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=vt(T(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Na(this),ic(this))};function ks(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function ic(h){h.g=new rn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=_n(h.qa);We(y,"RID","rpc"),We(y,"SID",h.K),We(y,"AID",h.T),We(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&We(y,"TO",h.ja),We(y,"TYPE","xmlhttp"),Vs(h,y),h.m&&h.o&&Pt(y,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=Cs(_n(y)),v.m=null,v.P=!0,Vr(v,h)}r.Za=function(){this.C!=null&&(this.C=null,Na(this),al(this),st(19))};function Da(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function sc(h,y){var v=null;if(h.g==y){Da(h),ks(h),h.g=null;var A=2}else if(Xo(h.h,y))v=y.D,sn(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var q=h.B;A=gi(),Qe(A,new St(A,v)),Oa(h)}else rc(h);else if(q=y.s,q==3||q==0&&0<y.X||!(A==1&&ed(h,y)||A==2&&al(h)))switch(v&&0<v.length&&(y=h.h,y.i=y.i.concat(v)),q){case 1:qr(h,5);break;case 4:qr(h,10);break;case 3:qr(h,6);break;default:qr(h,2)}}}function ol(h,y){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*y}function qr(h,y){if(h.j.info("Error code "+y),y==2){var v=T(h.fb,h),A=h.Xa;const q=!A;A=new Et(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Is(A,"https"),Cs(A),q?Ns(A.toString(),v):Kn(A.toString(),v)}else st(2);h.G=0,h.l&&h.l.sa(y),ac(h),tc(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function ac(h){if(h.G=0,h.ka=[],h.l){const y=Wo(h.h);(y.length!=0||h.i.length!=0)&&(O(h.ka,y),O(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function oc(h,y,v){var A=v instanceof Et?_n(v):new Et(v);if(A.g!="")y&&(A.g=y+"."+A.g),Ti(A,A.s);else{var q=d.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var Q=new Et(null);A&&Is(Q,A),y&&(Q.g=y),q&&Ti(Q,q),v&&(Q.l=v),A=Q}return v=h.D,y=h.ya,v&&y&&We(A,v,y),We(A,"VER",h.la),Vs(h,A),A}function lc(h,y,v){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ke(new bi({eb:v})):new Ke(h.pa),y.Ha(h.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function uc(){}r=uc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Pa(){}Pa.prototype.g=function(h,y){return new an(h,y)};function an(h,y){ct.call(this),this.g=new xa(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!X(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new pr(this)}I(an,ct),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){il(this.g)},an.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=Fn(h),h=v);y.i.push(new Xu(y.Ya++,h)),y.G==3&&Oa(y)},an.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,an.aa.N.call(this)};function cc(h){Pr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}I(cc,Pr);function hc(){Ko.call(this),this.status=1}I(hc,Ko);function pr(h){this.g=h}I(pr,uc),pr.prototype.ua=function(){Qe(this.g,"a")},pr.prototype.ta=function(h){Qe(this.g,new cc(h))},pr.prototype.sa=function(h){Qe(this.g,new hc)},pr.prototype.ra=function(){Qe(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,aw=function(){return new Pa},sw=function(){return gi()},iw=ar,Rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,Sh=vi,Mr.COMPLETE="complete",rw=Mr,Go.EventType=Dr,Dr.OPEN="a",Dr.CLOSE="b",Dr.ERROR="c",Dr.MESSAGE="d",ct.prototype.listen=ct.prototype.K,nu=Go,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,nw=Ke}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});const gE="@firebase/firestore",yE="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new cf("@firebase/firestore");function lo(){return aa.logLevel}function he(r,...e){if(aa.logLevel<=Le.DEBUG){const t=e.map(yg);aa.debug(`Firestore (${Po}): ${r}`,...t)}}function hi(r,...e){if(aa.logLevel<=Le.ERROR){const t=e.map(yg);aa.error(`Firestore (${Po}): ${r}`,...t)}}function To(r,...e){if(aa.logLevel<=Le.WARN){const t=e.map(yg);aa.warn(`Firestore (${Po}): ${r}`,...t)}}function yg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,ow(r,s,t)}function ow(r,e,t){let s=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw hi(s),new Error(s)}function $e(r,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,r||ow(e,a,s)}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends rr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class KN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $N{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new oi,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new oi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new lw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class QN{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YN{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new QN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _E{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);const s=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _E(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new _E(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=WN(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Oe(r,e){return r<e?-1:r>e?1:0}function Ip(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),a=e.codePointAt(t);if(s!==a){if(s<128&&a<128)return Oe(s,a);{const l=uw(),c=JN(l.encode(vE(r,t)),l.encode(vE(e,t)));return c!==0?c:Oe(s,a)}}t+=s>65535?2:1}return Oe(r.length,e.length)}function vE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function JN(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Oe(r[t],e[t]);return Oe(r.length,e.length)}function bo(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=-62135596800,TE=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*TE);return new Nt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<EE)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TE}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-EE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Nt(0,0))}static max(){return new Re(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="__name__";class wr{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&we(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return wr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=wr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Oe(e.length,t.length)}static compareSegments(e,t){const s=wr.isNumericId(e),a=wr.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?wr.extractNumericId(e).compare(wr.extractNumericId(t)):Ip(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zi.fromString(e.substring(4,e.length-2))}}class it extends wr{construct(e,t,s){return new it(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new it(t)}static emptyPath(){return new it([])}}const ZN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends wr{construct(e,t,s){return new Gt(e,t,s)}static isValidIdentifier(e){return ZN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bE}static keyField(){return new Gt([bE])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function eO(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(s===1e9?new Nt(t+1,0):new Nt(t,s));return new ts(a,_e.empty(),e)}function tO(r){return new ts(r.readTime,r.key,gu)}class ts{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ts(Re.min(),_e.empty(),gu)}static max(){return new ts(Re.max(),_e.empty(),gu)}}function nO(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(r.documentKey,e.documentKey),t!==0?t:Oe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==rO)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,s)=>{t(e)})}static reject(e){return new ne((t,s)=>{s(e)})}static waitFor(e){return new ne((t,s)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},p=>s(p))}),c=!0,l===a&&t()})}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next(a=>a?ne.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new ne((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(_=>{c[g]=_,++d,d===l&&s(c)},_=>a(_))}})}static doWhile(e,t){return new ne((s,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):s()};l()})}}function sO(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}mf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=-1;function pf(r){return r==null}function Fh(r){return r===0&&1/r==-1/0}function aO(r){return typeof r=="number"&&Number.isInteger(r)&&!Fh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="";function oO(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=wE(e)),e=lO(r.get(t),e);return wE(e)}function lO(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case hw:t+="";break;default:t+=l}}return t}function wE(r){return r+hw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function fs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function fw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??Ft.RED,this.left=a??Ft.EMPTY,this.right=l??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Ft(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Ft.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SE(this.data.getIterator())}getIteratorFrom(e){return new SE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class SE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new Ot(Gt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new dw("Invalid base64 string: "+l):l}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const uO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(r){if($e(!!r,39018),typeof r=="string"){let e=0;const t=uO.exec(r);if($e(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function rs(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="server_timestamp",pw="__type__",gw="__previous_value__",yw="__local_write_time__";function vg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[pw])===null||t===void 0?void 0:t.stringValue)===mw}function gf(r){const e=r.mapValue.fields[gw];return vg(e)?gf(e):e}function yu(r){const e=ns(r.mapValue.fields[yw].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,t,s,a,l,c,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Gh="(default)";class _u{constructor(e,t){this.projectId=e,this.database=t||Gh}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="__type__",hO="__max__",gh={mapValue:{}},vw="__vector__",Kh="value";function is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vg(r)?4:dO(r)?9007199254740991:fO(r)?10:11:we(28295,{value:r})}function xr(r,e){if(r===e)return!0;const t=is(r);if(t!==is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return yu(r).isEqual(yu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ns(a.timestampValue),d=ns(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(a,l){return rs(a.bytesValue).isEqual(rs(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,l){return yt(a.geoPointValue.latitude)===yt(l.geoPointValue.latitude)&&yt(a.geoPointValue.longitude)===yt(l.geoPointValue.longitude)}(r,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return yt(a.integerValue)===yt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=yt(a.doubleValue),d=yt(l.doubleValue);return c===d?Fh(c)===Fh(d):isNaN(c)&&isNaN(d)}return!1}(r,e);case 9:return bo(r.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(AE(c)!==AE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!xr(c[p],d[p])))return!1;return!0}(r,e);default:return we(52216,{left:r})}}function vu(r,e){return(r.values||[]).find(t=>xr(t,e))!==void 0}function wo(r,e){if(r===e)return 0;const t=is(r),s=is(e);if(t!==s)return Oe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return function(l,c){const d=yt(l.integerValue||l.doubleValue),p=yt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return RE(r.timestampValue,e.timestampValue);case 4:return RE(yu(r),yu(e));case 5:return Ip(r.stringValue,e.stringValue);case 6:return function(l,c){const d=rs(l),p=rs(c);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Oe(d[g],p[g]);if(_!==0)return _}return Oe(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Oe(yt(l.latitude),yt(c.latitude));return d!==0?d:Oe(yt(l.longitude),yt(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return IE(r.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,g,_;const b=l.fields||{},T=c.fields||{},C=(d=b[Kh])===null||d===void 0?void 0:d.arrayValue,I=(p=T[Kh])===null||p===void 0?void 0:p.arrayValue,L=Oe(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((_=I==null?void 0:I.values)===null||_===void 0?void 0:_.length)||0);return L!==0?L:IE(C,I)}(r.mapValue,e.mapValue);case 11:return function(l,c){if(l===gh.mapValue&&c===gh.mapValue)return 0;if(l===gh.mapValue)return 1;if(c===gh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let b=0;b<p.length&&b<_.length;++b){const T=Ip(p[b],_[b]);if(T!==0)return T;const C=wo(d[p[b]],g[_[b]]);if(C!==0)return C}return Oe(p.length,_.length)}(r.mapValue,e.mapValue);default:throw we(23264,{Pe:t})}}function RE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const t=ns(r),s=ns(e),a=Oe(t.seconds,s.seconds);return a!==0?a:Oe(t.nanos,s.nanos)}function IE(r,e){const t=r.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=wo(t[a],s[a]);if(l)return l}return Oe(t.length,s.length)}function Ao(r){return Cp(r)}function Cp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ns(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return rs(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return _e.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=Cp(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Cp(t.fields[c])}`;return a+"}"}(r.mapValue):we(61005,{value:r})}function Rh(r){switch(is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gf(r);return e?16+Rh(e):16;case 5:return 2*r.stringValue.length;case 6:return rs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+Rh(l),0)}(r.arrayValue);case 10:case 11:return function(s){let a=0;return fs(s.fields,(l,c)=>{a+=l.length+Rh(c)}),a}(r.mapValue);default:throw we(13486,{value:r})}}function CE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function xp(r){return!!r&&"integerValue"in r}function Eg(r){return!!r&&"arrayValue"in r}function xE(r){return!!r&&"nullValue"in r}function NE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ih(r){return!!r&&"mapValue"in r}function fO(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[_w])===null||t===void 0?void 0:t.stringValue)===vw}function lu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return fs(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=lu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function dO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===hO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ih(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(t)}setAll(e){let t=Gt.emptyPath(),s={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,a),s={},a=[],t=d.popLast()}c?s[d.lastSegment()]=lu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Ih(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Ih(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){fs(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new fn(lu(this.value))}}function Ew(r){const e=[];return fs(r.fields,(t,s)=>{const a=new Gt([t]);if(Ih(s)){const l=Ew(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,s,a,l,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Zt(e,0,Re.min(),Re.min(),Re.min(),fn.empty(),0)}static newFoundDocument(e,t,s,a){return new Zt(e,1,t,Re.min(),s,a,0)}static newNoDocument(e,t){return new Zt(e,2,t,Re.min(),Re.min(),fn.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Re.min(),Re.min(),fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t){this.position=e,this.inclusive=t}}function OE(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(c.referenceValue),t.key):s=wo(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function DE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!xr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t="asc"){this.field=e,this.dir=t}}function mO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{}class At extends Tw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new gO(e,t,s):t==="array-contains"?new vO(e,s):t==="in"?new EO(e,s):t==="not-in"?new TO(e,s):t==="array-contains-any"?new bO(e,s):new At(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new yO(e,s):new _O(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(wo(t,this.value)):t!==null&&is(this.value)===is(t)&&this.matchesComparison(wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends Tw{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new er(e,t)}matches(e){return bw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function bw(r){return r.op==="and"}function ww(r){return pO(r)&&bw(r)}function pO(r){for(const e of r.filters)if(e instanceof er)return!1;return!0}function Np(r){if(r instanceof At)return r.field.canonicalString()+r.op.toString()+Ao(r.value);if(ww(r))return r.filters.map(e=>Np(e)).join(",");{const e=r.filters.map(t=>Np(t)).join(",");return`${r.op}(${e})`}}function Aw(r,e){return r instanceof At?function(s,a){return a instanceof At&&s.op===a.op&&s.field.isEqual(a.field)&&xr(s.value,a.value)}(r,e):r instanceof er?function(s,a){return a instanceof er&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,d)=>l&&Aw(c,a.filters[d]),!0):!1}(r,e):void we(19439)}function Sw(r){return r instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${Ao(t.value)}`}(r):r instanceof er?function(t){return t.op.toString()+" {"+t.getFilters().map(Sw).join(" ,")+"}"}(r):"Filter"}class gO extends At{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class yO extends At{constructor(e,t){super(e,"in",t),this.keys=Rw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _O extends At{constructor(e,t){super(e,"not-in",t),this.keys=Rw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Rw(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class vO extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Eg(t)&&vu(t.arrayValue,this.value)}}class EO extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&vu(this.value.arrayValue,t)}}class TO extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!vu(this.value.arrayValue,t)}}class bO extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Eg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>vu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,t=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function PE(r,e=null,t=[],s=[],a=null,l=null,c=null){return new wO(r,e,t,s,a,l,c)}function Tg(r){const e=Ie(r);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Np(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),pf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ao(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ao(s)).join(",")),e.Ie=t}return e.Ie}function bg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!mO(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Aw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!DE(r.startAt,e.startAt)&&DE(r.endAt,e.endAt)}function Op(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t=null,s=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function AO(r,e,t,s,a,l,c,d){return new ko(r,e,t,s,a,l,c,d)}function yf(r){return new ko(r)}function ME(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Iw(r){return r.collectionGroup!==null}function uu(r){const e=Ie(r);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ot(Gt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Eu(l,s))}),t.has(Gt.keyField().canonicalString())||e.Ee.push(new Eu(Gt.keyField(),s))}return e.Ee}function Rr(r){const e=Ie(r);return e.de||(e.de=SO(e,uu(r))),e.de}function SO(r,e){if(r.limitType==="F")return PE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Eu(a.field,l)});const t=r.endAt?new $h(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new $h(r.startAt.position,r.startAt.inclusive):null;return PE(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Dp(r,e){const t=r.filters.concat([e]);return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Pp(r,e,t){return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function _f(r,e){return bg(Rr(r),Rr(e))&&r.limitType===e.limitType}function Cw(r){return`${Tg(Rr(r))}|lt:${r.limitType}`}function uo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>Sw(a)).join(", ")}]`),pf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>Ao(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>Ao(a)).join(",")),`Target(${s})`}(Rr(r))}; limitType=${r.limitType})`}function vf(r,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,a){for(const l of uu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(r,e)&&function(s,a){return!(s.startAt&&!function(c,d,p){const g=OE(c,d,p);return c.inclusive?g<=0:g<0}(s.startAt,uu(s),a)||s.endAt&&!function(c,d,p){const g=OE(c,d,p);return c.inclusive?g>=0:g>0}(s.endAt,uu(s),a))}(r,e)}function RO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function xw(r){return(e,t)=>{let s=!1;for(const a of uu(r)){const l=IO(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function IO(r,e,t){const s=r.field.isKeyField()?_e.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?wo(p,g):we(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return fw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new ut(_e.comparator);function fi(){return CO}const Nw=new ut(_e.comparator);function ru(...r){let e=Nw;for(const t of r)e=e.insert(t.key,t);return e}function Ow(r){let e=Nw;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Zs(){return cu()}function Dw(){return cu()}function cu(){return new da(r=>r.toString(),(r,e)=>r.isEqual(e))}const xO=new ut(_e.comparator),NO=new Ot(_e.comparator);function Ue(...r){let e=NO;for(const t of r)e=e.add(t);return e}const OO=new Ot(Oe);function DO(){return OO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function Pw(r){return{integerValue:""+r}}function PO(r,e){return aO(e)?Pw(e):wg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function MO(r,e,t){return r instanceof Tu?function(a,l){const c={fields:{[pw]:{stringValue:mw},[yw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&vg(l)&&(l=gf(l)),l&&(c.fields[gw]=l),{mapValue:c}}(t,e):r instanceof bu?Vw(r,e):r instanceof wu?kw(r,e):function(a,l){const c=Mw(a,l),d=VE(c)+VE(a.Re);return xp(c)&&xp(a.Re)?Pw(d):wg(a.serializer,d)}(r,e)}function VO(r,e,t){return r instanceof bu?Vw(r,e):r instanceof wu?kw(r,e):t}function Mw(r,e){return r instanceof Qh?function(s){return xp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Tu extends Ef{}class bu extends Ef{constructor(e){super(),this.elements=e}}function Vw(r,e){const t=Lw(e);for(const s of r.elements)t.some(a=>xr(a,s))||t.push(s);return{arrayValue:{values:t}}}class wu extends Ef{constructor(e){super(),this.elements=e}}function kw(r,e){let t=Lw(e);for(const s of r.elements)t=t.filter(a=>!xr(a,s));return{arrayValue:{values:t}}}class Qh extends Ef{constructor(e,t){super(),this.serializer=e,this.Re=t}}function VE(r){return yt(r.integerValue||r.doubleValue)}function Lw(r){return Eg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,t){this.field=e,this.transform=t}}function LO(r,e){return r.field.isEqual(e.field)&&function(s,a){return s instanceof bu&&a instanceof bu||s instanceof wu&&a instanceof wu?bo(s.elements,a.elements,xr):s instanceof Qh&&a instanceof Qh?xr(s.Re,a.Re):s instanceof Tu&&a instanceof Tu}(r.transform,e.transform)}class UO{constructor(e,t){this.version=e,this.transformResults=t}}class qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Tf{}function Uw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ag(r.key,qn.none()):new Mu(r.key,r.data,qn.none());{const t=r.data,s=fn.empty();let a=new Ot(Gt.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ds(r.key,s,new Rn(a.toArray()),qn.none())}}function jO(r,e,t){r instanceof Mu?function(a,l,c){const d=a.value.clone(),p=LE(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(r,e,t):r instanceof ds?function(a,l,c){if(!Ch(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=LE(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(jw(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(r,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function hu(r,e,t,s){return r instanceof Mu?function(l,c,d,p){if(!Ch(l.precondition,c))return d;const g=l.value.clone(),_=UE(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof ds?function(l,c,d,p){if(!Ch(l.precondition,c))return d;const g=UE(l.fieldTransforms,p,c),_=c.data;return _.setAll(jw(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(r,e,t,s):function(l,c,d){return Ch(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(r,e,t)}function BO(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),l=Mw(s.transform,a||null);l!=null&&(t===null&&(t=fn.empty()),t.set(s.field,l))}return t||null}function kE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&bo(s,a,(l,c)=>LO(l,c))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Mu extends Tf{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ds extends Tf{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function jw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function LE(r,e,t){const s=new Map;$e(r.length===t.length,32656,{Ve:t.length,me:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,VO(c,d,t[a]))}return s}function UE(r,e,t){const s=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);s.set(a.field,MO(l,c,e))}return s}class Ag extends Tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zO extends Tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&jO(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=hu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=hu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Dw();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=Uw(c,d);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(t,s)=>kE(t,s))&&bo(this.baseMutations,e.baseMutations,(t,s)=>kE(t,s))}}class Sg{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){$e(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let a=function(){return xO}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Sg(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,qe;function GO(r){switch(r){case te.OK:return we(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function Bw(r){if(r===void 0)return hi("GRPC error has no .code"),te.UNKNOWN;switch(r){case wt.OK:return te.OK;case wt.CANCELLED:return te.CANCELLED;case wt.UNKNOWN:return te.UNKNOWN;case wt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case wt.INTERNAL:return te.INTERNAL;case wt.UNAVAILABLE:return te.UNAVAILABLE;case wt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case wt.NOT_FOUND:return te.NOT_FOUND;case wt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case wt.ABORTED:return te.ABORTED;case wt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case wt.DATA_LOSS:return te.DATA_LOSS;default:return we(39323,{code:r})}}(qe=wt||(wt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new Zi([4294967295,4294967295],0);function jE(r){const e=uw().encode(r),t=new tw;return t.update(e),new Uint8Array(t.digest())}function BE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Zi([t,s],0),new Zi([a,l],0)]}class Rg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new iu(`Invalid padding: ${t}`);if(s<0)throw new iu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new iu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Zi.fromNumber(this.pe)}we(e,t,s){let a=e.add(t.multiply(Zi.fromNumber(s)));return a.compare(KO)===1&&(a=new Zi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=jE(e),[s,a]=BE(t);for(let l=0;l<this.hashCount;l++){const c=this.we(s,a,l);if(!this.Se(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Rg(l,a,t);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=jE(e),[s,a]=BE(t);for(let l=0;l<this.hashCount;l++){const c=this.we(s,a,l);this.be(c)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new bf(Re.min(),a,new ut(Oe),fi(),Ue())}}class Vu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Vu(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t,s,a){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=a}}class zw{constructor(e,t){this.targetId=e,this.Ce=t}}class qw{constructor(e,t,s=Kt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class zE{constructor(){this.Fe=0,this.Me=qE(),this.xe=Kt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),t=Ue(),s=Ue();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:we(38017,{changeType:l})}}),new Vu(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=qE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,$e(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $O{constructor(e){this.ze=e,this.je=new Map,this.He=fi(),this.Je=yh(),this.Ye=yh(),this.Ze=new ut(Oe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,s=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(Op(l))if(s===0){const c=new _e(l.path);this.tt(t,c,Zt.newNoDocument(c,Re.min()))}else $e(s===1,20013,{expectedCount:s});else{const c=this.ut(t);if(c!==s){const d=this.ct(e),p=d?this.lt(d,e,c):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=rs(s).toUint8Array()}catch(p){if(p instanceof dw)return To("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Rg(c,a,l)}catch(p){return To(p instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let a=0;return s.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&Op(d.target)){const p=new _e(d.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,Zt.newNoDocument(p,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let s=Ue();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new bf(e,t,this.Ze,this.He,s);return this.He=fi(),this.Je=yh(),this.Ye=yh(),this.Ze=new ut(Oe),a}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new zE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ot(Oe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ot(Oe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new zE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function yh(){return new ut(_e.comparator)}function qE(){return new ut(_e.comparator)}const QO={asc:"ASCENDING",desc:"DESCENDING"},YO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XO={and:"AND",or:"OR"};class WO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mp(r,e){return r.useProto3Json||pf(e)?e:{value:e}}function Yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function JO(r,e){return Yh(r,e.toTimestamp())}function Ir(r){return $e(!!r,49232),Re.fromTimestamp(function(t){const s=ns(t);return new Nt(s.seconds,s.nanos)}(r))}function Ig(r,e){return Vp(r,e).canonicalString()}function Vp(r,e){const t=function(a){return new it(["projects",a.projectId,"databases",a.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Fw(r){const e=it.fromString(r);return $e(Yw(e),10190,{key:e.toString()}),e}function kp(r,e){return Ig(r.databaseId,e.path)}function ap(r,e){const t=Fw(e);if(t.get(1)!==r.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new _e(Kw(t))}function Gw(r,e){return Ig(r.databaseId,e)}function ZO(r){const e=Fw(r);return e.length===4?it.emptyPath():Kw(e)}function Lp(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Kw(r){return $e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function HE(r,e,t){return{name:kp(r,e),fields:t.value.mapValue.fields}}function eD(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?($e(_===void 0||typeof _=="string",58123),Kt.fromBase64String(_||"")):($e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Kt.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const _=g.code===void 0?te.UNKNOWN:Bw(g.code);return new fe(_,g.message||"")}(c);t=new qw(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=ap(r,s.document.name),l=Ir(s.document.updateTime),c=s.document.createTime?Ir(s.document.createTime):Re.min(),d=new fn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(a,l,c,d),g=s.targetIds||[],_=s.removedTargetIds||[];t=new xh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=ap(r,s.document),l=s.readTime?Ir(s.readTime):Re.min(),c=Zt.newNoDocument(a,l),d=s.removedTargetIds||[];t=new xh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=ap(r,s.document),l=s.removedTargetIds||[];t=new xh([],l,a,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new FO(a,l),d=s.targetId;t=new zw(d,c)}}return t}function tD(r,e){let t;if(e instanceof Mu)t={update:HE(r,e.key,e.value)};else if(e instanceof Ag)t={delete:kp(r,e.key)};else if(e instanceof ds)t={update:HE(r,e.key,e.data),updateMask:cD(e.fieldMask)};else{if(!(e instanceof zO))return we(16599,{ft:e.type});t={verify:kp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof Tu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof bu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Qh)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw we(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:JO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)}(r,e.precondition)),t}function nD(r,e){return r&&r.length>0?($e(e!==void 0,14353),r.map(t=>function(a,l){let c=a.updateTime?Ir(a.updateTime):Ir(l);return c.isEqual(Re.min())&&(c=Ir(l)),new UO(c,a.transformResults||[])}(t,e))):[]}function rD(r,e){return{documents:[Gw(r,e.path)]}}function iD(r,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Gw(r,a);const l=function(g){if(g.length!==0)return Qw(er.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(T){return{field:co(T.field),direction:oD(T.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Mp(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:a}}function sD(r){let e=ZO(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){$e(s===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(b){const T=$w(b);return T instanceof er&&ww(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(T=>function(I){return new Eu(ho(I.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(b){let T;return T=typeof b=="object"?b.value:b,pf(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(b){const T=!!b.before,C=b.values||[];return new $h(C,T)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const T=!b.before,C=b.values||[];return new $h(C,T)}(t.endAt)),AO(e,a,c,l,d,"F",p,g)}function aD(r,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $w(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ho(t.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ho(t.unaryFilter.field);return At.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ho(t.unaryFilter.field);return At.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ho(t.unaryFilter.field);return At.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(r):r.fieldFilter!==void 0?function(t){return At.create(ho(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return er.create(t.compositeFilter.filters.map(s=>$w(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(r):we(30097,{filter:r})}function oD(r){return QO[r]}function lD(r){return YO[r]}function uD(r){return XO[r]}function co(r){return{fieldPath:r.canonicalString()}}function ho(r){return Gt.fromServerFormat(r.fieldPath)}function Qw(r){return r instanceof At?function(t){if(t.op==="=="){if(NE(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NAN"}};if(xE(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(NE(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NOT_NAN"}};if(xE(t.value))return{unaryFilter:{field:co(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(t.field),op:lD(t.op),value:t.value}}}(r):r instanceof er?function(t){const s=t.getFilters().map(a=>Qw(a));return s.length===1?s[0]:{compositeFilter:{op:uD(t.op),filters:s}}}(r):we(54877,{filter:r})}function cD(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Yw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t,s,a,l=Re.min(),c=Re.min(),d=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.wt=e}}function fD(r){const e=sD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.Cn=new mD}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(ts.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class mD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Ot(it.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ot(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xw=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(Xw,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new So(0)}static lr(){return new So(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="LruGarbageCollector",pD=1048576;function KE([r,e],[t,s]){const a=Oe(r,t);return a===0?Oe(e,s):a}class gD{constructor(e){this.Er=e,this.buffer=new Ot(KE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();KE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){he(GE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vo(t)?he(GE,"Ignoring IndexedDB error during garbage collection: ",t):await Mo(t)}await this.mr(3e5)})}}class _D{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(mf.le);const s=new gD(t);return this.gr.forEachTarget(e,a=>s.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>s.Rr(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(FE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FE):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,a,l,c,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(s=b,d=Date.now(),this.removeTargets(e,s,t))).next(b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),lo()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b})))}}function vD(r,e){return new _D(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.changes=new da(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&hu(s.mutation,a,Rn.empty(),Nt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ue()){const a=Zs();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let c=ru();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=Zs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ue()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,s,a){let l=fi();const c=cu(),d=function(){return cu()}();return t.forEach((p,g)=>{const _=s.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof ds)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),hu(_.mutation,g,_.mutation.getFieldMask(),Nt.now())):c.set(g.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>{var b;return d.set(g,new TD(_,(b=c.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const s=cu();let a=new ut((c,d)=>c-d),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||Rn.empty();_=d.applyToLocalView(g,_),s.set(p,_);const b=(a.get(d.batchId)||Ue()).add(p);a=a.insert(d.batchId,b)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,b=Dw();_.forEach(T=>{if(!l.has(T)){const C=Uw(t.get(T),s.get(T));C!==null&&b.set(T,C),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ne.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Iw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ne.resolve(Zs());let d=gu,p=l;return c.next(g=>ne.forEach(g,(_,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Ue())).next(_=>({batchId:d,changes:Ow(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let a=ru();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let c=ru();return this.indexManager.getCollectionParents(e,l).next(d=>ne.forEach(d,p=>{const g=function(b,T){return new ko(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next(_=>{_.forEach((b,T)=>{c=c.insert(b,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a))).next(c=>{l.forEach((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,Zt.newInvalidDocument(_)))});let d=ru();return c.forEach((p,g)=>{const _=l.get(p);_!==void 0&&hu(_.mutation,g,Rn.empty(),Nt.now()),vf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ne.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ir(a.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:fD(a.bundledQuery),readTime:Ir(a.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.overlays=new ut(_e.comparator),this.Qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Zs();return ne.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.bt(e,t,l)}),ne.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const a=Zs(),l=t.length+1,c=new _e(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return ne.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new ut((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=Zs(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Zs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=a)););return ne.resolve(d)}bt(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(s.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new HO(t,s));let l=this.Qr.get(t);l===void 0&&(l=Ue(),this.Qr.set(t,l)),this.Qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this.$r=new Ot(Ut.Ur),this.Kr=new Ot(Ut.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new Ut(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new Ut(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new _e(new it([])),s=new Ut(t,e),a=new Ut(t,e+1),l=[];return this.Kr.forEachInRange([s,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new _e(new it([])),s=new Ut(t,e),a=new Ut(t,e+1);let l=Ue();return this.Kr.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Ut(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return _e.comparator(e.key,t.key)||Oe(e.Zr,t.Zr)}static Wr(e,t){return Oe(e.Zr,t.Zr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ot(Ut.Ur)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new qO(l,t,s,a);this.mutationQueue.push(c);for(const d of a)this.Xr=this.Xr.add(new Ut(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ti(s),l=a<0?0:a;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?_g:this.nr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ut(t,0),a=new Ut(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([s,a],c=>{const d=this.ei(c.Zr);l.push(d)}),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ot(Oe);return t.forEach(a=>{const l=new Ut(a,0),c=new Ut(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{s=s.add(d.Zr)})}),ne.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const c=new Ut(new _e(l),0);let d=new Ot(Oe);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Zr)),!0)},c),ne.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(s=>{const a=this.ei(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){$e(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ne.forEach(t.mutations,a=>{const l=new Ut(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new Ut(t,0),a=this.Xr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.ii=e,this.docs=function(){return new ut(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,c=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let s=fi();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Zt.newInvalidDocument(a))}),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=fi();const c=t.path,d=new _e(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||nO(tO(_),s)<=0||(a.has(_.key)||vf(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,s,a){we(9500)}si(e,t){return ne.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new CD(this)}getSize(e){return ne.resolve(this.size)}}class CD extends ED{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(s)}),ne.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.persistence=e,this.oi=new da(t=>Tg(t),bg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this._i=0,this.ai=new Cg,this.targetCount=0,this.ui=So.cr()}forEachTarget(e,t){return this.oi.forEach((s,a)=>t(a)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),ne.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new So(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Tr(t),ne.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ne.waitFor(l).next(()=>a)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,t){this.ci={},this.overlays={},this.li=new mf(0),this.hi=!1,this.hi=!0,this.Pi=new SD,this.referenceDelegate=e(this),this.Ti=new xD(this),this.indexManager=new dD,this.remoteDocumentCache=function(a){return new ID(a)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new hD(t),this.Ei=new wD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new RD(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const a=new ND(this.li.next());return this.referenceDelegate.di(),s(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return ne.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class ND extends iO{constructor(e){super(),this.currentSequenceNumber=e}}class xg{constructor(e){this.persistence=e,this.Vi=new Cg,this.mi=null}static fi(e){return new xg(e)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.gi,s=>{const a=_e.fromPath(s);return this.pi(e,a).next(l=>{l||t.removeEntry(a,Re.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ne.or([()=>ne.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Xh{constructor(e,t){this.persistence=e,this.yi=new da(s=>oO(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=vD(this,t)}static fi(e,t){return new Xh(e,t)}di(){}Ai(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Sr(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return ne.forEach(this.yi,(s,a)=>this.Dr(e,s,a).next(l=>l?ne.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,t).next(d=>{d||(s++,l.removeEntry(c,Re.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ne.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rh(e.data.value)),t}Dr(e,t,s){return ne.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return ne.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.ds=s,this.As=a}static Rs(e,t){let s=Ue(),a=Ue();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ng(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return oC()?8:sO(nn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Ss(e,t,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new OD;return this.bs(e,t,c).next(d=>{if(l.result=d,this.fs)return this.Ds(e,t,c,d.size)})}).next(()=>l.result)}Ds(e,t,s,a){return s.documentReadCount<this.gs?(lo()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ne.resolve()):(lo()<=Le.DEBUG&&he("QueryEngine","Query:",uo(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ps*a?(lo()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(t))):ne.resolve())}ws(e,t){if(ME(t))return ne.resolve(null);let s=Rr(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Pp(t,null,"F"),s=Rr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=Ue(...l);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(t,d);return this.Cs(t,g,c,p.readTime)?this.ws(e,Pp(t,null,"F")):this.Fs(e,g,t,p)}))})))}Ss(e,t,s,a){return ME(t)||a.isEqual(Re.min())?ne.resolve(null):this.ys.getDocuments(e,s).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,s,a)?ne.resolve(null):(lo()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),uo(t)),this.Fs(e,c,t,eO(a,gu)).next(d=>d))})}vs(e,t){let s=new Ot(xw(e));return t.forEach((a,l)=>{vf(e,l)&&(s=s.add(l))}),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}bs(e,t,s){return lo()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",uo(t)),this.ys.getDocumentsMatchingQuery(e,t,ts.min(),s)}Fs(e,t,s,a){return this.ys.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="LocalStore",PD=3e8;class MD{constructor(e,t,s,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new ut(Oe),this.Os=new da(l=>Tg(l),bg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function VD(r,e,t,s){return new MD(r,e,t,s)}async function Jw(r,e){const t=Ie(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let p=Ue();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:d}))})})}function kD(r,e){const t=Ie(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const b=g.batch,T=b.keys();let C=ne.resolve();return T.forEach(I=>{C=C.next(()=>_.getEntry(p,I)).next(L=>{const O=g.docVersions.get(I);$e(O!==null,48541),L.version.compareTo(O)<0&&(b.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),_.addEntry(L)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Ue();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function Zw(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function LD(r,e){const t=Ie(r),s=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const d=[];e.targetChanges.forEach((_,b)=>{const T=a.get(b);if(!T)return;d.push(t.Ti.removeMatchingKeys(l,_.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(l,_.addedDocuments,b)));let C=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(Kt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,s)),a=a.insert(b,C),function(L,O,F){return L.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=PD?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(T,C,_)&&d.push(t.Ti.updateTargetData(l,C))});let p=fi(),g=Ue();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(UD(l,c,e.documentUpdates).next(_=>{p=_.qs,g=_.Qs})),!s.isEqual(Re.min())){const _=t.Ti.getLastRemoteSnapshotVersion(l).next(b=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(_)}return ne.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.xs=a,l))}function UD(r,e,t){let s=Ue(),a=Ue();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let c=fi();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):he(Og,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{qs:c,Qs:a}})}function jD(r,e){const t=Ie(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=_g),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function BD(r,e){const t=Ie(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Ti.getTargetData(s,e).next(l=>l?(a=l,ne.resolve(a)):t.Ti.allocateTargetId(s).next(c=>(a=new Yi(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.xs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function Up(r,e,t){const s=Ie(r),a=s.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Vo(c))throw c;he(Og,`Failed to update sequence numbers for target ${e}: ${c}`)}s.xs=s.xs.remove(e),s.Os.delete(a.target)}function $E(r,e,t){const s=Ie(r);let a=Re.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,_){const b=Ie(p),T=b.Os.get(_);return T!==void 0?ne.resolve(b.xs.get(T)):b.Ti.getTargetData(g,_)}(s,c,Rr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(c,e,t?a:Re.min(),t?l:Ue())).next(d=>(zD(s,RO(e),d),{documents:d,$s:l})))}function zD(r,e,t){let s=r.Ns.get(e)||Re.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Ns.set(e,s)}class QE{constructor(){this.activeTargetIds=DO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qD{constructor(){this.xo=new QE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new QE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="ConnectivityMonitor";class XE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){he(YE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){he(YE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h=null;function jp(){return _h===null?_h=function(){return 268435456+Math.round(2147483648*Math.random())}():_h++,"0x"+_h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="RestConnection",FD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${a}`,this.Go=this.databaseId.database===Gh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}zo(e,t,s,a,l){const c=jp(),d=this.jo(e,t.toUriEncodedString());he(op,`Sending RPC '${e}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,a,l);const{host:g}=new URL(d),_=Iu(g);return this.Jo(e,d,p,s,_).then(b=>(he(op,`Received RPC '${e}' ${c}: `,b),b),b=>{throw To(op,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",s),b})}Yo(e,t,s,a,l,c){return this.zo(e,t,s,a,l)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const s=FD[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class $D extends GD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,l){const c=jp();return new Promise((d,p)=>{const g=new nw;g.setWithCredentials(!0),g.listenOnce(rw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Sh.NO_ERROR:const b=g.getResponseJson();he(Xt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case Sh.TIMEOUT:he(Xt,`RPC '${e}' ${c} timed out`),p(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const T=g.getStatus();if(he(Xt,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const I=C==null?void 0:C.error;if(I&&I.status&&I.message){const L=function(F){const X=F.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(X)>=0?X:te.UNKNOWN}(I.status);p(new fe(L,I.message))}else p(new fe(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe(te.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(Xt,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);he(Xt,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",_,s,15)})}T_(e,t,s){const a=jp(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=aw(),d=sw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=l.join("");he(Xt,`Creating RPC '${e}' stream ${a}: ${_}`,p);const b=c.createWebChannel(_,p);let T=!1,C=!1;const I=new KD({Zo:O=>{C?he(Xt,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(T||(he(Xt,`Opening RPC '${e}' stream ${a} transport.`),b.open(),T=!0),he(Xt,`RPC '${e}' stream ${a} sending:`,O),b.send(O))},Xo:()=>b.close()}),L=(O,F,X)=>{O.listen(F,re=>{try{X(re)}catch(ce){setTimeout(()=>{throw ce},0)}})};return L(b,nu.EventType.OPEN,()=>{C||(he(Xt,`RPC '${e}' stream ${a} transport opened.`),I.__())}),L(b,nu.EventType.CLOSE,()=>{C||(C=!0,he(Xt,`RPC '${e}' stream ${a} transport closed`),I.u_())}),L(b,nu.EventType.ERROR,O=>{C||(C=!0,To(Xt,`RPC '${e}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),I.u_(new fe(te.UNAVAILABLE,"The operation could not be completed")))}),L(b,nu.EventType.MESSAGE,O=>{var F;if(!C){const X=O.data[0];$e(!!X,16349);const re=X,ce=(re==null?void 0:re.error)||((F=re[0])===null||F===void 0?void 0:F.error);if(ce){he(Xt,`RPC '${e}' stream ${a} received error:`,ce);const le=ce.status;let pe=function(x){const V=wt[x];if(V!==void 0)return Bw(V)}(le),P=ce.message;pe===void 0&&(pe=te.INTERNAL,P="Unknown error status: "+le+" with message "+ce.message),C=!0,I.u_(new fe(pe,P)),b.close()}else he(Xt,`RPC '${e}' stream ${a} received:`,X),I.c_(X)}}),L(d,iw.STAT_EVENT,O=>{O.stat===Rp.PROXY?he(Xt,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===Rp.NOPROXY&&he(Xt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{I.a_()},0),I}}function lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(r){return new WO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t,s=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.I_=s,this.E_=a,this.d_=l,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),a=Math.max(0,t-s);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="PersistentStream";class tA{constructor(e,t,s,a,l,c,d,p){this.xi=e,this.y_=s,this.w_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new eA(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.S_===t&&this.K_(s,a)},s=>{e(()=>{const a=new fe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(a)})})}K_(e,t){const s=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{s(()=>this.W_(a))}),this.stream.onMessage(a=>{s(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return he(WE,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(he(WE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QD extends tA{constructor(e,t,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=eD(this.serializer,e),s=function(l){if(!("targetChange"in l))return Re.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?Ir(c.readTime):Re.min()}(e);return this.listener.j_(t,s)}H_(e){const t={};t.database=Lp(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=Op(p)?{documents:rD(l,p)}:{query:iD(l,p).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Hw(l,c.resumeToken);const g=Mp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Re.min())>0){d.readTime=Yh(l,c.snapshotVersion.toTimestamp());const g=Mp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=aD(this.serializer,e);s&&(t.labels=s),this.L_(t)}J_(e){const t={};t.database=Lp(this.serializer),t.removeTarget=e,this.L_(t)}}class YD extends tA{constructor(e,t,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=nD(e.writeResults,e.commitTime),s=Ir(e.commitTime);return this.listener.ea(s,t)}ta(){const e={};e.database=Lp(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>tD(this.serializer,s))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{}class WD extends XD{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.na=!1}ra(){if(this.na)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,Vp(t,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(te.UNKNOWN,l.toString())})}Yo(e,t,s,a,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,Vp(t,s),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(te.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class JD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(hi(t),this.oa=!1):he("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class ZD{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=l,this.Ea.No(c=>{s.enqueueAndForget(async()=>{ma(this)&&(he(oa,"Restarting streams for network reachability change."),await async function(p){const g=Ie(p);g.Ta.add(4),await ku(g),g.da.set("Unknown"),g.Ta.delete(4),await Af(g)}(this))})}),this.da=new JD(s,a)}}async function Af(r){if(ma(r))for(const e of r.Ia)await e(!0)}async function ku(r){for(const e of r.Ia)await e(!1)}function nA(r,e){const t=Ie(r);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),Vg(t)?Mg(t):Lo(t).M_()&&Pg(t,e))}function Dg(r,e){const t=Ie(r),s=Lo(t);t.Pa.delete(e),s.M_()&&rA(t,e),t.Pa.size===0&&(s.M_()?s.N_():ma(t)&&t.da.set("Unknown"))}function Pg(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Lo(r).H_(e)}function rA(r,e){r.Aa.Ke(e),Lo(r).J_(e)}function Mg(r){r.Aa=new $O({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Lo(r).start(),r.da._a()}function Vg(r){return ma(r)&&!Lo(r).F_()&&r.Pa.size>0}function ma(r){return Ie(r).Ta.size===0}function iA(r){r.Aa=void 0}async function e4(r){r.da.set("Online")}async function t4(r){r.Pa.forEach((e,t)=>{Pg(r,e)})}async function n4(r,e){iA(r),Vg(r)?(r.da.ca(e),Mg(r)):r.da.set("Unknown")}async function r4(r,e,t){if(r.da.set("Online"),e instanceof qw&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Pa.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Pa.delete(d),a.Aa.removeTarget(d))}(r,e)}catch(s){he(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wh(r,s)}else if(e instanceof xh?r.Aa.Xe(e):e instanceof zw?r.Aa.ot(e):r.Aa.nt(e),!t.isEqual(Re.min()))try{const s=await Zw(r.localStore);t.compareTo(s)>=0&&await function(l,c){const d=l.Aa.It(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Pa.get(g);_&&l.Pa.set(g,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const _=l.Pa.get(p);if(!_)return;l.Pa.set(p,_.withResumeToken(Kt.EMPTY_BYTE_STRING,_.snapshotVersion)),rA(l,p);const b=new Yi(_.target,p,g,_.sequenceNumber);Pg(l,b)}),l.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){he(oa,"Failed to raise snapshot:",s),await Wh(r,s)}}async function Wh(r,e,t){if(!Vo(e))throw e;r.Ta.add(1),await ku(r),r.da.set("Offline"),t||(t=()=>Zw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(oa,"Retrying IndexedDB access"),await t(),r.Ta.delete(1),await Af(r)})}function sA(r,e){return e().catch(t=>Wh(r,t,e))}async function Sf(r){const e=Ie(r),t=ss(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:_g;for(;i4(e);)try{const a=await jD(e.localStore,s);if(a===null){e.ha.length===0&&t.N_();break}s=a.batchId,s4(e,a)}catch(a){await Wh(e,a)}aA(e)&&oA(e)}function i4(r){return ma(r)&&r.ha.length<10}function s4(r,e){r.ha.push(e);const t=ss(r);t.M_()&&t.Y_&&t.Z_(e.mutations)}function aA(r){return ma(r)&&!ss(r).F_()&&r.ha.length>0}function oA(r){ss(r).start()}async function a4(r){ss(r).ta()}async function o4(r){const e=ss(r);for(const t of r.ha)e.Z_(t.mutations)}async function l4(r,e,t){const s=r.ha.shift(),a=Sg.from(s,e,t);await sA(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),await Sf(r)}async function u4(r,e){e&&ss(r).Y_&&await async function(s,a){if(function(c){return GO(c)&&c!==te.ABORTED}(a.code)){const l=s.ha.shift();ss(s).O_(),await sA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Sf(s)}}(r,e),aA(r)&&oA(r)}async function JE(r,e){const t=Ie(r);t.asyncQueue.verifyOperationInProgress(),he(oa,"RemoteStore received new credentials");const s=ma(t);t.Ta.add(3),await ku(t),s&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await Af(t)}async function c4(r,e){const t=Ie(r);e?(t.Ta.delete(2),await Af(t)):e||(t.Ta.add(2),await ku(t),t.da.set("Unknown"))}function Lo(r){return r.Ra||(r.Ra=function(t,s,a){const l=Ie(t);return l.ra(),new QD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(r.datastore,r.asyncQueue,{e_:e4.bind(null,r),n_:t4.bind(null,r),i_:n4.bind(null,r),j_:r4.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),Vg(r)?Mg(r):r.da.set("Unknown")):(await r.Ra.stop(),iA(r))})),r.Ra}function ss(r){return r.Va||(r.Va=function(t,s,a){const l=Ie(t);return l.ra(),new YD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:a4.bind(null,r),i_:u4.bind(null,r),X_:o4.bind(null,r),ea:l4.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await Sf(r)):(await r.Va.stop(),r.ha.length>0&&(he(oa,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const c=Date.now()+s,d=new kg(e,t,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lg(r,e){if(hi("AsyncQueue",`${e}: ${r}`),Vo(r))return new fe(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(e){return new _o(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=ru(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new _o;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.ma=new ut(_e.comparator)}track(e){const t=e.doc.key,s=this.ma.get(t);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(t,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(t):e.type===1&&s.type===2?this.ma=this.ma.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):we(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ro{constructor(e,t,s,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Ro(e,t,_o.emptySet(t),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class f4{constructor(){this.queries=eT(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,s){const a=Ie(t),l=a.queries;a.queries=eT(),l.forEach((c,d)=>{for(const p of d.ya)p.onError(s)})})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function eT(){return new da(r=>Cw(r),_f)}async function Ug(r,e){const t=Ie(r);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.wa()&&e.Sa()&&(s=2):(l=new h4,s=e.Sa()?0:1);try{switch(s){case 0:l.pa=await t.onListen(a,!0);break;case 1:l.pa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Lg(c,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ya.push(e),e.Da(t.onlineState),l.pa&&e.va(l.pa)&&Bg(t)}async function jg(r,e){const t=Ie(r),s=e.query;let a=3;const l=t.queries.get(s);if(l){const c=l.ya.indexOf(e);c>=0&&(l.ya.splice(c,1),l.ya.length===0?a=e.Sa()?0:1:!l.wa()&&e.Sa()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function d4(r,e){const t=Ie(r);let s=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ya)d.va(a)&&(s=!0);c.pa=a}}s&&Bg(t)}function m4(r,e,t){const s=Ie(r),a=s.queries.get(e);if(a)for(const l of a.ya)l.onError(t);s.queries.delete(e)}function Bg(r){r.ba.forEach(e=>{e.next()})}var Bp,tT;(tT=Bp||(Bp={})).Ca="default",tT.Cache="cache";class zg{constructor(e,t,s){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const s=t!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.key=e}}class uA{constructor(e){this.key=e}}class p4{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ue(),this.mutatedKeys=Ue(),this.Ha=xw(e),this.Ja=new _o(this.Ha)}get Ya(){return this.Ga}Za(e,t){const s=t?t.Xa:new ZE,a=t?t.Ja:this.Ja;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,b)=>{const T=a.get(_),C=vf(this.query,b)?b:null,I=!!T&&this.mutatedKeys.has(T.key),L=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let O=!1;T&&C?T.data.isEqual(C.data)?I!==L&&(s.track({type:3,doc:C}),O=!0):this.eu(T,C)||(s.track({type:2,doc:C}),O=!0,(p&&this.Ha(C,p)>0||g&&this.Ha(C,g)<0)&&(d=!0)):!T&&C?(s.track({type:0,doc:C}),O=!0):T&&!C&&(s.track({type:1,doc:T}),O=!0,(p||g)&&(d=!0)),O&&(C?(c=c.add(C),l=L?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{Ja:c,Xa:s,Cs:d,mutatedKeys:l}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const c=e.Xa.ga();c.sort((_,b)=>function(C,I){const L=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:O})}};return L(C)-L(I)}(_.type,b.type)||this.Ha(_.doc,b.doc)),this.tu(s),a=a!=null&&a;const d=t&&!a?this.nu():[],p=this.ja.size===0&&this.current&&!a?1:0,g=p!==this.za;return this.za=p,c.length!==0||g?{snapshot:new Ro(this.query,e.Ja,l,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new ZE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ue(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const t=[];return e.forEach(s=>{this.ja.has(s)||t.push(new uA(s))}),this.ja.forEach(s=>{e.has(s)||t.push(new lA(s))}),t}su(e){this.Ga=e.$s,this.ja=Ue();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Ro.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const qg="SyncEngine";class g4{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class y4{constructor(e){this.key=e,this._u=!1}}class _4{constructor(e,t,s,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new da(d=>Cw(d),_f),this.cu=new Map,this.lu=new Set,this.hu=new ut(_e.comparator),this.Pu=new Map,this.Tu=new Cg,this.Iu={},this.Eu=new Map,this.du=So.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function v4(r,e,t=!0){const s=pA(r);let a;const l=s.uu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.ou()):a=await cA(s,e,t,!0),a}async function E4(r,e){const t=pA(r);await cA(t,e,!0,!1)}async function cA(r,e,t,s){const a=await BD(r.localStore,Rr(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await T4(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&nA(r.remoteStore,a),d}async function T4(r,e,t,s,a){r.Ru=(b,T,C)=>async function(L,O,F,X){let re=O.view.Za(F);re.Cs&&(re=await $E(L.localStore,O.query,!1).then(({documents:P})=>O.view.Za(P,re)));const ce=X&&X.targetChanges.get(O.targetId),le=X&&X.targetMismatches.get(O.targetId)!=null,pe=O.view.applyChanges(re,L.isPrimaryClient,ce,le);return rT(L,O.targetId,pe.ru),pe.snapshot}(r,b,T,C);const l=await $E(r.localStore,e,!0),c=new p4(e,l.$s),d=c.Za(l.documents),p=Vu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",a),g=c.applyChanges(d,r.isPrimaryClient,p);rT(r,t,g.ru);const _=new g4(e,t,c);return r.uu.set(e,_),r.cu.has(t)?r.cu.get(t).push(e):r.cu.set(t,[e]),g.snapshot}async function b4(r,e,t){const s=Ie(r),a=s.uu.get(e),l=s.cu.get(a.targetId);if(l.length>1)return s.cu.set(a.targetId,l.filter(c=>!_f(c,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Up(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Dg(s.remoteStore,a.targetId),zp(s,a.targetId)}).catch(Mo)):(zp(s,a.targetId),await Up(s.localStore,a.targetId,!0))}async function w4(r,e){const t=Ie(r),s=t.uu.get(e),a=t.cu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Dg(t.remoteStore,s.targetId))}async function A4(r,e,t){const s=O4(r);try{const a=await function(c,d){const p=Ie(c),g=Nt.now(),_=d.reduce((C,I)=>C.add(I.key),Ue());let b,T;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let I=fi(),L=Ue();return p.Bs.getEntries(C,_).next(O=>{I=O,I.forEach((F,X)=>{X.isValidDocument()||(L=L.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,I)).next(O=>{b=O;const F=[];for(const X of d){const re=BO(X,b.get(X.key).overlayedDocument);re!=null&&F.push(new ds(X.key,re,Ew(re.value.mapValue),qn.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,F,d)}).next(O=>{T=O;const F=O.applyToLocalDocumentSet(b,L);return p.documentOverlayCache.saveOverlays(C,O.batchId,F)})}).then(()=>({batchId:T.batchId,changes:Ow(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let g=c.Iu[c.currentUser.toKey()];g||(g=new ut(Oe)),g=g.insert(d,p),c.Iu[c.currentUser.toKey()]=g}(s,a.batchId,t),await Lu(s,a.changes),await Sf(s.remoteStore)}catch(a){const l=Lg(a,"Failed to persist write");t.reject(l)}}async function hA(r,e){const t=Ie(r);try{const s=await LD(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Pu.get(l);c&&($e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c._u=!0:a.modifiedDocuments.size>0?$e(c._u,14607):a.removedDocuments.size>0&&($e(c._u,42227),c._u=!1))}),await Lu(t,s,e)}catch(s){await Mo(s)}}function nT(r,e,t){const s=Ie(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.uu.forEach((l,c)=>{const d=c.view.Da(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=Ie(c);p.onlineState=d;let g=!1;p.queries.forEach((_,b)=>{for(const T of b.ya)T.Da(d)&&(g=!0)}),g&&Bg(p)}(s.eventManager,e),a.length&&s.au.j_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function S4(r,e,t){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Pu.get(e),l=a&&a.key;if(l){let c=new ut(_e.comparator);c=c.insert(l,Zt.newNoDocument(l,Re.min()));const d=Ue().add(l),p=new bf(Re.min(),new Map,new ut(Oe),c,d);await hA(s,p),s.hu=s.hu.remove(l),s.Pu.delete(e),Hg(s)}else await Up(s.localStore,e,!1).then(()=>zp(s,e,t)).catch(Mo)}async function R4(r,e){const t=Ie(r),s=e.batch.batchId;try{const a=await kD(t.localStore,e);dA(t,s,null),fA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Lu(t,a)}catch(a){await Mo(a)}}async function I4(r,e,t){const s=Ie(r);try{const a=await function(c,d){const p=Ie(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(b=>($e(b!==null,37113),_=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);dA(s,e,t),fA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Lu(s,a)}catch(a){await Mo(a)}}function fA(r,e){(r.Eu.get(e)||[]).forEach(t=>{t.resolve()}),r.Eu.delete(e)}function dA(r,e,t){const s=Ie(r);let a=s.Iu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Iu[s.currentUser.toKey()]=a}}function zp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.cu.get(e))r.uu.delete(s),t&&r.au.Vu(s,t);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(s=>{r.Tu.containsKey(s)||mA(r,s)})}function mA(r,e){r.lu.delete(e.path.canonicalString());const t=r.hu.get(e);t!==null&&(Dg(r.remoteStore,t),r.hu=r.hu.remove(e),r.Pu.delete(t),Hg(r))}function rT(r,e,t){for(const s of t)s instanceof lA?(r.Tu.addReference(s.key,e),C4(r,s)):s instanceof uA?(he(qg,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,e),r.Tu.containsKey(s.key)||mA(r,s.key)):we(19791,{mu:s})}function C4(r,e){const t=e.key,s=t.path.canonicalString();r.hu.get(t)||r.lu.has(s)||(he(qg,"New document in limbo: "+t),r.lu.add(s),Hg(r))}function Hg(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const t=new _e(it.fromString(e)),s=r.du.next();r.Pu.set(s,new y4(t)),r.hu=r.hu.insert(t,s),nA(r.remoteStore,new Yi(Rr(yf(t.path)),s,"TargetPurposeLimboResolution",mf.le))}}async function Lu(r,e,t){const s=Ie(r),a=[],l=[],c=[];s.uu.isEmpty()||(s.uu.forEach((d,p)=>{c.push(s.Ru(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const b=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){a.push(g);const b=Ng.Rs(p.targetId,g);l.push(b)}}))}),await Promise.all(c),s.au.j_(a),await async function(p,g){const _=Ie(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ne.forEach(g,T=>ne.forEach(T.ds,C=>_.persistence.referenceDelegate.addReference(b,T.targetId,C)).next(()=>ne.forEach(T.As,C=>_.persistence.referenceDelegate.removeReference(b,T.targetId,C)))))}catch(b){if(!Vo(b))throw b;he(Og,"Failed to update sequence numbers: "+b)}for(const b of g){const T=b.targetId;if(!b.fromCache){const C=_.xs.get(T),I=C.snapshotVersion,L=C.withLastLimboFreeSnapshotVersion(I);_.xs=_.xs.insert(T,L)}}}(s.localStore,l))}async function x4(r,e){const t=Ie(r);if(!t.currentUser.isEqual(e)){he(qg,"User change. New user:",e.toKey());const s=await Jw(t.localStore,e);t.currentUser=e,function(l,c){l.Eu.forEach(d=>{d.forEach(p=>{p.reject(new fe(te.CANCELLED,c))})}),l.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Lu(t,s.ks)}}function N4(r,e){const t=Ie(r),s=t.Pu.get(e);if(s&&s._u)return Ue().add(s.key);{let a=Ue();const l=t.cu.get(e);if(!l)return a;for(const c of l){const d=t.uu.get(c);a=a.unionWith(d.view.Ya)}return a}}function pA(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=hA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S4.bind(null,e),e.au.j_=d4.bind(null,e.eventManager),e.au.Vu=m4.bind(null,e.eventManager),e}function O4(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I4.bind(null,e),e}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return VD(this.persistence,new DD,e.initialUser,this.serializer)}yu(e){return new Ww(xg.fi,this.serializer)}pu(e){return new qD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class D4 extends Jh{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){$e(this.persistence.referenceDelegate instanceof Xh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yD(s,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new Ww(s=>Xh.fi(s,t),this.serializer)}}class qp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>nT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=x4.bind(null,this.syncEngine),await c4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new f4}()}createDatastore(e){const t=wf(e.databaseInfo.databaseId),s=function(l){return new $D(l)}(e.databaseInfo);return function(l,c,d,p){return new WD(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,l,c,d){return new ZD(s,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>nT(this.syncEngine,t,0),function(){return XE.C()?new XE:new HD}())}createSyncEngine(e,t){return function(a,l,c,d,p,g,_){const b=new _4(a,l,c,d,p,g);return _&&(b.Au=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ie(a);he(oa,"RemoteStore shutting down."),l.Ta.add(5),await ku(l),l.Ea.shutdown(),l.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}qp.provider={build:()=>new qp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="FirestoreClient";class P4{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Wt.UNAUTHENTICATED,this.clientId=cw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{he(as,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(he(as,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Lg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function up(r,e){r.asyncQueue.verifyOperationInProgress(),he(as,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Jw(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function iT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await M4(r);he(as,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>JE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,a)=>JE(e.remoteStore,a)),r._onlineComponents=e}async function M4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(as,"Using user provided OfflineComponentProvider");try{await up(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;To("Error using user provided cache. Falling back to memory cache: "+t),await up(r,new Jh)}}else he(as,"Using default OfflineComponentProvider"),await up(r,new D4(void 0));return r._offlineComponents}async function gA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(as,"Using user provided OnlineComponentProvider"),await iT(r,r._uninitializedComponentsProvider._online)):(he(as,"Using default OnlineComponentProvider"),await iT(r,new qp))),r._onlineComponents}function V4(r){return gA(r).then(e=>e.syncEngine)}async function Zh(r){const e=await gA(r),t=e.eventManager;return t.onListen=v4.bind(null,e.syncEngine),t.onUnlisten=b4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=E4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=w4.bind(null,e.syncEngine),t}function k4(r,e,t={}){const s=new oi;return r.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const _=new Fg({next:T=>{_.Cu(),c.enqueueAndForget(()=>jg(l,b));const C=T.docs.has(d);!C&&T.fromCache?g.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&p&&p.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new zg(yf(d.path),_,{includeMetadataChanges:!0,La:!0});return Ug(l,b)}(await Zh(r),r.asyncQueue,e,t,s)),s.promise}function L4(r,e,t={}){const s=new oi;return r.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const _=new Fg({next:T=>{_.Cu(),c.enqueueAndForget(()=>jg(l,b)),T.fromCache&&p.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new zg(d,_,{includeMetadataChanges:!0,La:!0});return Ug(l,b)}(await Zh(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(r,e,t){if(!t)throw new fe(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function U4(r,e,t,s){if(e===!0&&s===!0)throw new fe(te.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function aT(r){if(!_e.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function oT(r){if(_e.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Rf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function dn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rf(r);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="firestore.googleapis.com",lT=!0;class uT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vA,this.ssl=lT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:lT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pD)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new GN;switch(s.type){case"firstParty":return new YN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=sT.get(t);s&&(he("ComponentProvider","Removing Datastore"),sT.delete(t),s.terminate())}(this),Promise.resolve()}}function j4(r,e,t,s={}){var a;r=dn(r,If);const l=Iu(e),c=r._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;l&&(ob(`https://${p}`),lb("Firestore",!0)),c.host!==vA&&c.host!==p&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:p,ssl:l,emulatorOptions:s});if(!ra(g,d)&&(r._setSettings(g),s.mockUserToken)){let _,b;if(typeof s.mockUserToken=="string")_=s.mockUserToken,b=Wt.MOCK_USER;else{_=ZI(s.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Wt(T)}r._authCredentials=new KN(new lw(_,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ms(this.firestore,e,this._query)}}class tn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class es extends ms{constructor(e,t,s){super(e,t,yf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new _e(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function os(r,e,...t){if(r=_t(r),_A("collection","path",e),r instanceof If){const s=it.fromString(e,...t);return oT(s),new es(r,null,s)}{if(!(r instanceof tn||r instanceof es))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...t));return oT(s),new es(r.firestore,null,s)}}function ls(r,e,...t){if(r=_t(r),arguments.length===1&&(e=cw.newId()),_A("doc","path",e),r instanceof If){const s=it.fromString(e,...t);return aT(s),new tn(r,null,new _e(s))}{if(!(r instanceof tn||r instanceof es))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...t));return aT(s),new tn(r.firestore,r instanceof es?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="AsyncQueue";class hT{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new eA(this,"async_queue_retry"),this.ec=()=>{const s=lp();s&&he(cT,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const t=lp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=lp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new oi;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Vo(e))throw e;he(cT,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,hi("INTERNAL UNHANDLED ERROR: ",fT(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=t,t}enqueueAfterDelay(e,t,s){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const a=kg.createAndSchedule(this,e,t,s,l=>this.oc(l));return this.Hu.push(a),a}nc(){this.Ju&&we(47125,{_c:fT(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function fT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1}(r,["next","error","complete"])}class di extends If{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new hT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hT(e),this._firestoreClient=void 0,await e}}}function pa(r,e){const t=typeof r=="object"?r:gb(),s=typeof r=="string"?r:Gh,a=xu(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=WI("firestore");l&&j4(a,...l)}return a}function Cf(r){if(r._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||B4(r),r._firestoreClient}function B4(r){var e,t,s;const a=r._freezeSettings(),l=function(d,p,g,_){return new cO(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,yA(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new P4(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Io(Kt.fromBase64String(e))}catch(t){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Io(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=/^__.*__$/;class q4{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mu(e,this.data,t,this.fieldTransforms)}}class EA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{hc:r})}}class $g{constructor(e,t,s,a,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Pc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new $g(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Tc({path:s,Ec:!1});return a.dc(e),a}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Tc({path:s,Ec:!1});return a.Pc(),a}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return ef(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(TA(this.hc)&&z4.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class H4{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||wf(e)}gc(e,t,s,a=!1){return new $g({hc:e,methodName:t,fc:s,path:Gt.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Of(r){const e=r._freezeSettings(),t=wf(r._databaseId);return new H4(r._databaseId,!!e.ignoreUndefinedProperties,t)}function bA(r,e,t,s,a,l={}){const c=r.gc(l.merge||l.mergeFields?2:0,e,t,a);Yg("Data must be an object, but it was:",c,s);const d=wA(s,c);let p,g;if(l.merge)p=new Rn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const b of l.mergeFields){const T=Hp(e,b,t);if(!c.contains(T))throw new fe(te.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);SA(_,T)||_.push(T)}p=new Rn(_),g=c.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=c.fieldTransforms;return new q4(new fn(d),p,g)}class Df extends Nf{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Df}}class Qg extends Nf{_toFieldTransform(e){return new kO(e.path,new Tu)}isEqual(e){return e instanceof Qg}}function F4(r,e,t,s){const a=r.gc(1,e,t);Yg("Data must be an object, but it was:",a,s);const l=[],c=fn.empty();fs(s,(p,g)=>{const _=Xg(e,p,t);g=_t(g);const b=a.Ac(_);if(g instanceof Df)l.push(_);else{const T=Uu(g,b);T!=null&&(l.push(_),c.set(_,T))}});const d=new Rn(l);return new EA(c,d,a.fieldTransforms)}function G4(r,e,t,s,a,l){const c=r.gc(1,e,t),d=[Hp(e,s,t)],p=[a];if(l.length%2!=0)throw new fe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(Hp(e,l[T])),p.push(l[T+1]);const g=[],_=fn.empty();for(let T=d.length-1;T>=0;--T)if(!SA(g,d[T])){const C=d[T];let I=p[T];I=_t(I);const L=c.Ac(C);if(I instanceof Df)g.push(C);else{const O=Uu(I,L);O!=null&&(g.push(C),_.set(C,O))}}const b=new Rn(g);return new EA(_,b,c.fieldTransforms)}function K4(r,e,t,s=!1){return Uu(t,r.gc(s?4:3,e))}function Uu(r,e){if(AA(r=_t(r)))return Yg("Unsupported field value:",e,r),wA(r,e);if(r instanceof Nf)return function(s,a){if(!TA(a.hc))throw a.Vc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const d of s){let p=Uu(d,a.Rc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(r,e)}return function(s,a){if((s=_t(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return PO(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Nt.fromDate(s);return{timestampValue:Yh(a.serializer,l)}}if(s instanceof Nt){const l=new Nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yh(a.serializer,l)}}if(s instanceof Gg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Io)return{bytesValue:Hw(a.serializer,s._byteString)};if(s instanceof tn){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ig(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Kg)return function(c,d){return{mapValue:{fields:{[_w]:{stringValue:vw},[Kh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Vc("VectorValues must only contain numeric values.");return wg(d.serializer,g)})}}}}}}(s,a);throw a.Vc(`Unsupported field value: ${Rf(s)}`)}(r,e)}function wA(r,e){const t={};return fw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(r,(s,a)=>{const l=Uu(a,e.Ic(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function AA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Nt||r instanceof Gg||r instanceof Io||r instanceof tn||r instanceof Nf||r instanceof Kg)}function Yg(r,e,t){if(!AA(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const s=Rf(t);throw s==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+s)}}function Hp(r,e,t){if((e=_t(e))instanceof xf)return e._internalPath;if(typeof e=="string")return Xg(r,e);throw ef("Field path arguments must be of type string or ",r,!1,void 0,t)}const $4=new RegExp("[~\\*/\\[\\]]");function Xg(r,e,t){if(e.search($4)>=0)throw ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new xf(...e.split("."))._internalPath}catch{throw ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function ef(r,e,t,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new fe(te.INVALID_ARGUMENT,d+r+p)}function SA(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Q4 extends RA{data(){return super.data()}}function Pf(r,e){return typeof e=="string"?Xg(r,e):e instanceof xf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wg{}class CA extends Wg{}function xA(r,e,...t){let s=[];e instanceof Wg&&s.push(e),s=s.concat(t),function(l){const c=l.filter(p=>p instanceof Jg).length,d=l.filter(p=>p instanceof Mf).length;if(c>1||c>0&&d>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class Mf extends CA{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Mf(e,t,s)}_apply(e){const t=this._parse(e);return OA(e._query,t),new ms(e.firestore,e.converter,Dp(e._query,t))}_parse(e){const t=Of(e.firestore);return function(l,c,d,p,g,_,b){let T;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){pT(b,_);const I=[];for(const L of b)I.push(mT(p,l,L));T={arrayValue:{values:I}}}else T=mT(p,l,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||pT(b,_),T=K4(d,c,b,_==="in"||_==="not-in");return At.create(g,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Y4(r,e,t){const s=e,a=Pf("where",r);return Mf._create(a,s,t)}class Jg extends Wg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)OA(c,p),c=Dp(c,p)}(e._query,t),new ms(e.firestore,e.converter,Dp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zg extends CA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Zg(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eu(l,c)}(e._query,this._field,this._direction);return new ms(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new ko(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function NA(r,e="asc"){const t=e,s=Pf("orderBy",r);return Zg._create(s,t)}function mT(r,e,t){if(typeof(t=_t(t))=="string"){if(t==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iw(e)&&t.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(it.fromString(t));if(!_e.isDocumentKey(s))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return CE(r,new _e(s))}if(t instanceof tn)return CE(r,t._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rf(t)}.`)}function pT(r,e){if(!Array.isArray(r)||r.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OA(r,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class X4{convertValue(e,t="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return fs(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,a;const l=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[Kh].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>yt(c.doubleValue));return new Kg(l)}convertGeoPoint(e){return new Gg(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=gf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const t=ns(e);return new Nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=it.fromString(e);$e(Yw(s),9688,{name:e});const a=new _u(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return a.isEqual(t)||hi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class PA extends RA{constructor(e,t,s,a,l,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Pf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Nh extends PA{data(e={}){return super.data(e)}}class MA{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new su(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Nh(this._firestore,this._userDataWriter,s.key,s,new su(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new Nh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new su(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Nh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new su(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:W4(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function W4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(r){r=dn(r,tn);const e=dn(r.firestore,di);return k4(Cf(e),r._key).then(t=>LA(e,r,t))}class ey extends X4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Io(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,t)}}function Z4(r){r=dn(r,ms);const e=dn(r.firestore,di),t=Cf(e),s=new ey(e);return IA(r._query),L4(t,r._query).then(a=>new MA(e,s,r,a))}function eP(r,e,t){r=dn(r,tn);const s=dn(r.firestore,di),a=DA(r.converter,e);return Vf(s,[bA(Of(s),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,qn.none())])}function ty(r,e,t,...s){r=dn(r,tn);const a=dn(r.firestore,di),l=Of(a);let c;return c=typeof(e=_t(e))=="string"||e instanceof xf?G4(l,"updateDoc",r._key,e,t,s):F4(l,"updateDoc",r._key,e),Vf(a,[c.toMutation(r._key,qn.exists(!0))])}function VA(r){return Vf(dn(r.firestore,di),[new Ag(r._key,qn.none())])}function kA(r,e){const t=dn(r.firestore,di),s=ls(r),a=DA(r.converter,e);return Vf(t,[bA(Of(r.firestore),"addDoc",s._key,a,r.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then(()=>s)}function ju(r,...e){var t,s,a;r=_t(r);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||dT(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(dT(e[c])){const b=e[c];e[c]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[c+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[c+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let p,g,_;if(r instanceof tn)g=dn(r.firestore,di),_=yf(r._key.path),p={next:b=>{e[c]&&e[c](LA(g,r,b))},error:e[c+1],complete:e[c+2]};else{const b=dn(r,ms);g=dn(b.firestore,di),_=b._query;const T=new ey(g);p={next:C=>{e[c]&&e[c](new MA(g,T,b,C))},error:e[c+1],complete:e[c+2]},IA(r._query)}return function(T,C,I,L){const O=new Fg(L),F=new zg(C,O,I);return T.asyncQueue.enqueueAndForget(async()=>Ug(await Zh(T),F)),()=>{O.Cu(),T.asyncQueue.enqueueAndForget(async()=>jg(await Zh(T),F))}}(Cf(g),_,d,p)}function Vf(r,e){return function(s,a){const l=new oi;return s.asyncQueue.enqueueAndForget(async()=>A4(await V4(s),a,l)),l.promise}(Cf(r),e)}function LA(r,e,t){const s=t.docs.get(e._key),a=new ey(r);return new PA(r,a,e._key,s,new su(t.hasPendingWrites,t.fromCache),e.converter)}function tP(){return new Qg("serverTimestamp")}(function(e,t=!0){(function(a){Po=a})(Oo),Cr(new Jn("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new di(new $N(s.getProvider("auth-internal")),new XN(c,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(g.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),zn(gE,yE,e),zn(gE,yE,"esm2017")})();var nP="firebase",rP="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(nP,rP,"app");const UA="@firebase/installations",ny="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=1e4,BA=`w:${ny}`,zA="FIS_v2",iP="https://firebaseinstallations.googleapis.com/v1",sP=60*60*1e3,aP="installations",oP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},la=new ha(aP,oP,lP);function qA(r){return r instanceof rr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA({projectId:r}){return`${iP}/projects/${r}/installations`}function FA(r){return{token:r.token,requestStatus:2,expiresIn:cP(r.expiresIn),creationTime:Date.now()}}async function GA(r,e){const s=(await e.json()).error;return la.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function KA({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function uP(r,{refreshToken:e}){const t=KA(r);return t.append("Authorization",hP(e)),t}async function $A(r){const e=await r();return e.status>=500&&e.status<600?r():e}function cP(r){return Number(r.replace("s","000"))}function hP(r){return`${zA} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const s=HA(r),a=KA(r),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={fid:t,authVersion:zA,appId:r.appId,sdkVersion:BA},d={method:"POST",headers:a,body:JSON.stringify(c)},p=await $A(()=>fetch(s,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:FA(g.authToken)}}else throw await GA("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=/^[cdef][\w-]{21}$/,Fp="";function pP(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=gP(r);return mP.test(t)?t:Fp}catch{return Fp}}function gP(r){return dP(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=new Map;function XA(r,e){const t=kf(r);WA(t,e),yP(t,e)}function WA(r,e){const t=YA.get(r);if(t)for(const s of t)s(e)}function yP(r,e){const t=_P();t&&t.postMessage({key:r,fid:e}),vP()}let ea=null;function _P(){return!ea&&"BroadcastChannel"in self&&(ea=new BroadcastChannel("[Firebase] FID Change"),ea.onmessage=r=>{WA(r.data.key,r.data.fid)}),ea}function vP(){YA.size===0&&ea&&(ea.close(),ea=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="firebase-installations-database",TP=1,ua="firebase-installations-store";let cp=null;function ry(){return cp||(cp=mb(EP,TP,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(ua)}}})),cp}async function tf(r,e){const t=kf(r),a=(await ry()).transaction(ua,"readwrite"),l=a.objectStore(ua),c=await l.get(t);return await l.put(e,t),await a.done,(!c||c.fid!==e.fid)&&XA(r,e.fid),e}async function JA(r){const e=kf(r),s=(await ry()).transaction(ua,"readwrite");await s.objectStore(ua).delete(e),await s.done}async function Lf(r,e){const t=kf(r),a=(await ry()).transaction(ua,"readwrite"),l=a.objectStore(ua),c=await l.get(t),d=e(c);return d===void 0?await l.delete(t):await l.put(d,t),await a.done,d&&(!c||c.fid!==d.fid)&&XA(r,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iy(r){let e;const t=await Lf(r.appConfig,s=>{const a=bP(s),l=wP(r,a);return e=l.registrationPromise,l.installationEntry});return t.fid===Fp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function bP(r){const e=r||{fid:pP(),registrationStatus:0};return ZA(e)}function wP(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(la.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=AP(r,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:SP(r)}:{installationEntry:e}}async function AP(r,e){try{const t=await fP(r,e);return tf(r.appConfig,t)}catch(t){throw qA(t)&&t.customData.serverCode===409?await JA(r.appConfig):await tf(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function SP(r){let e=await gT(r.appConfig);for(;e.registrationStatus===1;)await QA(100),e=await gT(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await iy(r);return s||t}return e}function gT(r){return Lf(r,e=>{if(!e)throw la.create("installation-not-found");return ZA(e)})}function ZA(r){return RP(r)?{fid:r.fid,registrationStatus:0}:r}function RP(r){return r.registrationStatus===1&&r.registrationTime+jA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP({appConfig:r,heartbeatServiceProvider:e},t){const s=CP(r,t),a=uP(r,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={installation:{sdkVersion:BA,appId:r.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},p=await $A(()=>fetch(s,d));if(p.ok){const g=await p.json();return FA(g)}else throw await GA("Generate Auth Token",p)}function CP(r,{fid:e}){return`${HA(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sy(r,e=!1){let t;const s=await Lf(r.appConfig,l=>{if(!eS(l))throw la.create("not-registered");const c=l.authToken;if(!e&&OP(c))return l;if(c.requestStatus===1)return t=xP(r,e),l;{if(!navigator.onLine)throw la.create("app-offline");const d=PP(l);return t=NP(r,d),d}});return t?await t:s.authToken}async function xP(r,e){let t=await yT(r.appConfig);for(;t.authToken.requestStatus===1;)await QA(100),t=await yT(r.appConfig);const s=t.authToken;return s.requestStatus===0?sy(r,e):s}function yT(r){return Lf(r,e=>{if(!eS(e))throw la.create("not-registered");const t=e.authToken;return MP(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function NP(r,e){try{const t=await IP(r,e),s=Object.assign(Object.assign({},e),{authToken:t});return await tf(r.appConfig,s),t}catch(t){if(qA(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await JA(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await tf(r.appConfig,s)}throw t}}function eS(r){return r!==void 0&&r.registrationStatus===2}function OP(r){return r.requestStatus===2&&!DP(r)}function DP(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+sP}function PP(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function MP(r){return r.requestStatus===1&&r.requestTime+jA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(r){const e=r,{installationEntry:t,registrationPromise:s}=await iy(e);return s?s.catch(console.error):sy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(r,e=!1){const t=r;return await LP(t),(await sy(t,e)).token}async function LP(r){const{registrationPromise:e}=await iy(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(r){if(!r||!r.options)throw hp("App Configuration");if(!r.name)throw hp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw hp(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function hp(r){return la.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="installations",jP="installations-internal",BP=r=>{const e=r.getProvider("app").getImmediate(),t=UP(e),s=xu(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},zP=r=>{const e=r.getProvider("app").getImmediate(),t=xu(e,tS).getImmediate();return{getId:()=>VP(t),getToken:a=>kP(t,a)}};function qP(){Cr(new Jn(tS,BP,"PUBLIC")),Cr(new Jn(jP,zP,"PRIVATE"))}qP();zn(UA,ny);zn(UA,ny,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="analytics",HP="firebase_id",FP="origin",GP=60*1e3,KP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ay="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new cf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Hn=new ha("analytics","Analytics",$P);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(r){if(!r.startsWith(ay)){const e=Hn.create("invalid-gtag-resource",{gtagURL:r});return mn.warn(e.message),""}return r}function nS(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function YP(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function XP(r,e){const t=YP("firebase-js-sdk-policy",{createScriptURL:QP}),s=document.createElement("script"),a=`${ay}?l=${r}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function WP(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function JP(r,e,t,s,a,l){const c=s[a];try{if(c)await e[c];else{const p=(await nS(t)).find(g=>g.measurementId===a);p&&await e[p.appId]}}catch(d){mn.error(d)}r("config",a,l)}async function ZP(r,e,t,s,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await nS(t);for(const p of c){const g=d.find(b=>b.measurementId===p),_=g&&e[g.appId];if(_)l.push(_);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),r("event",s,a||{})}catch(l){mn.error(l)}}function eM(r,e,t,s){async function a(l,...c){try{if(l==="event"){const[d,p]=c;await ZP(r,e,t,d,p)}else if(l==="config"){const[d,p]=c;await JP(r,e,t,s,d,p)}else if(l==="consent"){const[d,p]=c;r("consent",d,p)}else if(l==="get"){const[d,p,g]=c;r("get",d,p,g)}else if(l==="set"){const[d]=c;r("set",d)}else r(l,...c)}catch(d){mn.error(d)}}return a}function tM(r,e,t,s,a){let l=function(...c){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=eM(l,r,e,t),{gtagCore:l,wrappedGtag:window[a]}}function nM(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ay)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=30,iM=1e3;class sM{constructor(e={},t=iM){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const rS=new sM;function aM(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function oM(r){var e;const{appId:t,apiKey:s}=r,a={method:"GET",headers:aM(s)},l=KP.replace("{app-id}",t),c=await fetch(l,a);if(c.status!==200&&c.status!==304){let d="";try{const p=await c.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw Hn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function lM(r,e=rS,t){const{appId:s,apiKey:a,measurementId:l}=r.options;if(!s)throw Hn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw Hn.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new hM;return setTimeout(async()=>{d.abort()},GP),iS({appId:s,apiKey:a,measurementId:l},c,d,e)}async function iS(r,{throttleEndTimeMillis:e,backoffCount:t},s,a=rS){var l;const{appId:c,measurementId:d}=r;try{await uM(s,e)}catch(p){if(d)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:c,measurementId:d};throw p}try{const p=await oM(r);return a.deleteThrottleMetadata(c),p}catch(p){const g=p;if(!cM(g)){if(a.deleteThrottleMetadata(c),d)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:c,measurementId:d};throw p}const _=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?z0(t,a.intervalMillis,rM):z0(t,a.intervalMillis),b={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return a.setThrottleMetadata(c,b),mn.debug(`Calling attemptFetch again in ${_} millis`),iS(r,b,s,a)}}function uM(r,e){return new Promise((t,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);r.addEventListener(()=>{clearTimeout(l),s(Hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cM(r){if(!(r instanceof rr)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class hM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function fM(r,e,t,s,a){if(a&&a.global){r("event",t,s);return}else{const l=await e,c=Object.assign(Object.assign({},s),{send_to:l});r("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(){if(cb())try{await hb()}catch(r){return mn.warn(Hn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return mn.warn(Hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function mM(r,e,t,s,a,l,c){var d;const p=lM(r);p.then(C=>{t[C.measurementId]=C.appId,r.options.measurementId&&C.measurementId!==r.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>mn.error(C)),e.push(p);const g=dM().then(C=>{if(C)return s.getId()}),[_,b]=await Promise.all([p,g]);nM(l)||XP(l,_.measurementId),a("js",new Date);const T=(d=c==null?void 0:c.config)!==null&&d!==void 0?d:{};return T[FP]="firebase",T.update=!0,b!=null&&(T[HP]=b),a("config",_.measurementId,T),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.app=e}_delete(){return delete fu[this.app.options.appId],Promise.resolve()}}let fu={},vT=[];const ET={};let fp="dataLayer",gM="gtag",TT,sS,bT=!1;function yM(){const r=[];if(ub()&&r.push("This is a browser extension environment."),lC()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,a)=>`(${a+1}) ${s}`).join(" "),t=Hn.create("invalid-analytics-context",{errorInfo:e});mn.warn(t.message)}}function _M(r,e,t){yM();const s=r.options.appId;if(!s)throw Hn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Hn.create("no-api-key");if(fu[s]!=null)throw Hn.create("already-exists",{id:s});if(!bT){WP(fp);const{wrappedGtag:l,gtagCore:c}=tM(fu,vT,ET,fp,gM);sS=l,TT=c,bT=!0}return fu[s]=mM(r,vT,ET,e,TT,fp,t),new pM(r)}function vM(r,e,t,s){r=_t(r),fM(sS,fu[r.app.options.appId],e,t,s).catch(a=>mn.error(a))}const wT="@firebase/analytics",AT="0.10.16";function EM(){Cr(new Jn(_T,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return _M(s,a,t)},"PUBLIC")),Cr(new Jn("analytics-internal",r,"PRIVATE")),zn(wT,AT),zn(wT,AT,"esm2017");function r(e){try{const t=e.getProvider(_T).getImmediate();return{logEvent:(s,a,l)=>vM(t,s,a,l)}}catch(t){throw Hn.create("interop-component-reg-failed",{reason:t})}}}EM();const TM={apiKey:"AIzaSyA-N0OI-Yd_WUdcZoehf6HidZ39Wh1FGTc",authDomain:"blackboybrandth.firebaseapp.com",projectId:"blackboybrandth",storageBucket:"blackboybrandth.firebasestorage.app",messagingSenderId:"850838655224",appId:"1:850838655224:web:ec30787a6a613ff4196b0d",measurementId:"G-9NWHFWS6JC"},aS=pb(TM),oy=pa(aS),Gp=fa(aS),oS=z.createContext();function bM({children:r}){const[e,t]=z.useState([]);function s(c){if(!fa().currentUser){alert("มึงต้องล็อกอินก่อนจะเพิ่มของในตะกร้า");return}t(p=>p.find(_=>_.id===c.id)?p.map(_=>_.id===c.id?{..._,quantity:_.quantity+1}:_):[...p,{...c,quantity:1}])}function a(c){t(d=>d.filter(p=>p.id!==c))}function l(){t([])}return S.jsx(oS.Provider,{value:{cart:e,addToCart:s,removeFromCart:a,clearCart:l},children:r})}function ly(){return z.useContext(oS)}function wM(){const[r,e]=z.useState([]),{addToCart:t}=ly();return z.useEffect(()=>{async function s(){const l=(await Z4(os(oy,"products"))).docs.map(c=>({id:c.id,...c.data()}));e(l)}s()},[]),S.jsxs("section",{className:"py-16 px-6 bg-white",children:[S.jsx("h2",{className:"text-4xl font-bold text-center mb-12 animate-fadeInDown",children:"สินค้า"}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:r.map(s=>S.jsxs("div",{className:"bg-gray-100 rounded-lg shadow p-4 flex flex-col transform transition duration-300 hover:scale-105 hover:shadow-lg animate-fadeInUp",style:{animationDelay:`${r.indexOf(s)*100}ms`},children:[S.jsx("img",{src:s.img,alt:s.name,className:"w-full h-72 object-cover rounded mb-4"}),S.jsx("h3",{className:"text-xl font-semibold mt-4",children:s.name}),S.jsxs("p",{className:"text-red-600 font-bold mt-2",children:["฿",s.price]}),S.jsx("button",{disabled:s.stock<=0,className:`mt-auto py-2 rounded font-semibold text-white ${s.stock>0?"bg-red-600 hover:bg-red-700":"bg-gray-400 cursor-not-allowed"} transition-colors duration-200`,onClick:()=>t(s),children:"Add to Cart"})]},s.id))})]})}function AM(){return S.jsxs("section",{id:"about",className:"py-16 px-6 bg-gray-50 max-w-4xl mx-auto text-center",children:[S.jsx("h2",{className:"text-3xl font-bold mb-6",children:"About BLACKBOYBRAND"}),S.jsx("p",{className:"text-gray-700",children:"BLACKBOYBRAND is all about bold streetwear เสื้อถูกๆ ราคาเหมาะสมสำหรับเด็กแอฟริกา และเด็กผิวดำ."})]})}var lS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ST=Xi.createContext&&Xi.createContext(lS),SM=["attr","size","title"];function RM(r,e){if(r==null)return{};var t=IM(r,e),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(a=0;a<l.length;a++)s=l[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function IM(r,e){if(r==null)return{};var t={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function nf(){return nf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},nf.apply(this,arguments)}function RT(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,s)}return t}function rf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RT(Object(t),!0).forEach(function(s){CM(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):RT(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function CM(r,e,t){return e=xM(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function xM(r){var e=NM(r,"string");return typeof e=="symbol"?e:e+""}function NM(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function uS(r){return r&&r.map((e,t)=>Xi.createElement(e.tag,rf({key:t},e.attr),uS(e.child)))}function cS(r){return e=>Xi.createElement(OM,nf({attr:rf({},r.attr)},e),uS(r.child))}function OM(r){var e=t=>{var{attr:s,size:a,title:l}=r,c=RM(r,SM),d=a||t.size||"1em",p;return t.className&&(p=t.className),r.className&&(p=(p?p+" ":"")+r.className),Xi.createElement("svg",nf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:p,style:rf(rf({color:r.color||t.color},t.style),r.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Xi.createElement("title",null,l),r.children)};return ST!==void 0?Xi.createElement(ST.Consumer,null,t=>e(t)):e(lS)}function DM(r){return cS({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function PM(r){return cS({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(r)}function MM(){return S.jsxs("section",{id:"newsletter",className:"py-12 px-6 bg-gray-900 text-white text-center max-w-md mx-auto rounded",children:[S.jsx("h3",{className:"text-2xl font-bold mb-4",children:"ติดตามเราบนโซเชียล"}),S.jsx("p",{className:"mb-6",children:"อัพเดตข่าวสารใหม่ ๆ และโปรเด็ด ๆ ผ่าน Instagram กับ TikTok"}),S.jsxs("div",{className:"flex justify-center gap-12 text-red-600 text-5xl",children:[S.jsx("a",{href:"https://www.instagram.com/black_boy_brandth/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"transform transition-transform duration-300 hover:scale-125 hover:text-red-400",children:S.jsx(DM,{})}),S.jsx("a",{href:"https://www.tiktok.com/@blackboybrandth",target:"_blank",rel:"noopener noreferrer","aria-label":"TikTok",className:"transform transition-transform duration-300 hover:scale-125 hover:text-red-400",children:S.jsx(PM,{})})]})]})}function VM(){return S.jsx("footer",{className:"bg-black text-white text-center py-6",children:S.jsx("p",{children:"© 2025 BLACKBOYBRAND. All rights reserved."})})}function kM(){const{cart:r,removeFromCart:e,clearCart:t}=ly(),s=cs(),a=r.reduce((l,c)=>l+c.price,0);return S.jsxs("div",{className:"p-4 fixed bottom-4 right-4 w-80 bg-white shadow-lg rounded-lg z-50",children:[S.jsx("h2",{className:"text-xl font-bold mb-4",children:"ตะกร้าสินค้า"}),r.length===0?S.jsx("p",{children:"ยังไม่มีสินค้าในตะกร้า"}):S.jsxs(S.Fragment,{children:[r.map(l=>S.jsxs("div",{className:"flex justify-between mb-2",children:[S.jsxs("p",{children:[l.name," x ",l.quantity]}),S.jsxs("p",{children:[l.price.toLocaleString()," บาท"]}),S.jsx("button",{onClick:()=>e(l.id),className:"text-red-500 hover:underline ml-2",children:"ลบ"})]},l.id)),S.jsxs("div",{className:"font-bold text-right mt-2",children:["รวมทั้งหมด: ",a.toLocaleString()," บาท"]})]}),S.jsx("button",{disabled:r.length===0,onClick:()=>s("/checkout"),className:`mt-4 w-full py-2 rounded font-semibold text-white ${r.length>0?"bg-black hover:bg-red":"bg-gray-400 cursor-not-allowed"}`,children:"ยืนยันและชำระเงิน"}),r.length>0&&S.jsx("button",{onClick:()=>t(),className:"mt-2 w-full py-2 rounded font-semibold text-white bg-black hover:bg-black-700",children:"เคลียร์ตะกร้า"})]})}function hS(){const[r,e]=z.useState(""),[t,s]=z.useState(""),[a,l]=z.useState(!1),c=cs(),d=async()=>{if(!a){l(!0);try{await I2(Gp,r,t),alert("เข้าสู่ระบบสำเร็จ!"),c("/")}catch(_){alert("ล็อกอินไม่สำเร็จ: "+_.message)}finally{l(!1)}}},p=async()=>{if(!r){alert("กรุณากรอกอีเมลก่อนรีเซ็ตรหัสผ่าน");return}try{await S2(Gp,r),alert("ส่งลิงก์รีเซ็ตรหัสผ่านไปยังอีเมลของมึงแล้ว!")}catch(_){alert("ส่งลิงก์ไม่สำเร็จ: "+_.message)}},g=_=>{_.key==="Enter"&&d()};return S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-black via-neutral-900 to-black px-4",children:S.jsxs("div",{className:`bg-[#181818] rounded-2xl shadow-xl max-w-md w-full p-10 border border-neutral-700
          transform transition-transform duration-300 ease-in-out
          ${a?"scale-95 opacity-70":"scale-100 opacity-100"}
        `,children:[S.jsx("h2",{className:"text-3xl font-semibold mb-8 text-center text-white tracking-wide uppercase animate-pulse",children:"BLACKBOYBRAND"}),S.jsx("input",{type:"email",placeholder:"อีเมล",className:"w-full mb-5 p-4 rounded-lg border border-neutral-700 bg-[#202020] text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-red-500 font-medium transition",value:r,onChange:_=>e(_.target.value),onKeyDown:g,autoComplete:"username",disabled:a}),S.jsx("input",{type:"password",placeholder:"รหัสผ่าน",className:"w-full mb-2 p-4 rounded-lg border border-neutral-700 bg-[#202020] text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-red-500 font-medium transition",value:t,onChange:_=>s(_.target.value),onKeyDown:g,autoComplete:"current-password",disabled:a}),S.jsx("div",{className:"flex justify-end mb-6",children:S.jsx("button",{onClick:p,className:"text-sm text-red-400 hover:text-red-300 underline transition disabled:opacity-50",disabled:a,children:"ลืมรหัสผ่าน?"})}),S.jsx("button",{onClick:d,disabled:a,className:`w-full bg-red-600 hover:bg-red-700 text-white py-4 rounded-xl font-semibold tracking-wide transition duration-300 flex justify-center items-center ${a?"cursor-not-allowed":""}`,children:a?S.jsxs(S.Fragment,{children:[S.jsxs("svg",{className:"animate-spin h-6 w-6 mr-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"กำลังเข้าสู่ระบบ..."]}):"เข้าสู่ระบบ"}),S.jsxs("p",{className:"mt-6 text-center text-neutral-400 text-sm",children:["ยังไม่มีบัญชี?"," ",S.jsx("button",{onClick:()=>c("/Register"),className:"text-red-500 hover:text-red-400 underline font-medium transition",disabled:a,children:"สมัครสมาชิก"})]})]})})}function LM(){const[r,e]=z.useState([]),[t,s]=z.useState(!0),[a,l]=z.useState(null),c=pa(),d=fa();z.useEffect(()=>{const g=d.onAuthStateChanged(_=>{l(_||null)});return()=>g()},[d]),z.useEffect(()=>{if(!a)return;const g=xA(os(c,"orders"),NA("createdAt","desc")),_=ju(g,b=>{const T=b.docs.map(C=>({id:C.id,...C.data()}));e(T),s(!1)});return()=>_()},[a,c]);const p=async(g,_,b)=>{try{const T=ls(c,"orders",g);await ty(T,{[_]:b})}catch(T){console.error("แก้ไขออเดอร์ไม่สำเร็จ:",T),alert("แก้ไขไม่สำเร็จ")}};return a?S.jsxs("div",{children:[S.jsx(Eo,{}),S.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[S.jsx("h1",{className:"text-3xl font-bold mb-6",children:"รายการคำสั่งซื้อ (Admin)"}),t?S.jsx("p",{children:"กำลังโหลดข้อมูล..."}):r.length===0?S.jsx("p",{children:"ยังไม่มีคำสั่งซื้อ"}):S.jsxs("table",{className:"w-full border-collapse border",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{className:"border px-4 py-2",children:"รหัสคำสั่งซื้อ"}),S.jsx("th",{className:"border px-4 py-2",children:"วันที่"}),S.jsx("th",{className:"border px-4 py-2",children:"ชื่อผู้สั่ง"}),S.jsx("th",{className:"border px-4 py-2",children:"ยอดรวม"}),S.jsx("th",{className:"border px-4 py-2",children:"สถานะ"}),S.jsx("th",{className:"border px-4 py-2",children:"หมายเหตุ"}),S.jsx("th",{className:"border px-4 py-2",children:"จัดการ"})]})}),S.jsx("tbody",{children:r.map(g=>{var _,b;return S.jsxs("tr",{className:"border-t",children:[S.jsx("td",{className:"border px-4 py-2",children:g.id}),S.jsx("td",{className:"border px-4 py-2",children:(_=g.createdAt)!=null&&_.toDate?g.createdAt.toDate().toLocaleString():"ไม่ทราบ"}),S.jsx("td",{className:"border px-4 py-2",children:g.name}),S.jsx("td",{className:"border px-4 py-2",children:(b=g.total)==null?void 0:b.toLocaleString()}),S.jsx("td",{className:"border px-4 py-2",children:S.jsxs("select",{value:g.status,onChange:T=>p(g.id,"status",T.target.value),className:"border rounded px-2 py-1",children:[S.jsx("option",{value:"pending",children:"รอดำเนินการ"}),S.jsx("option",{value:"paid",children:"ชำระเงินแล้ว"}),S.jsx("option",{value:"shipped",children:"จัดส่งแล้ว"}),S.jsx("option",{value:"completed",children:"เสร็จสิ้น"}),S.jsx("option",{value:"cancelled",children:"ยกเลิก"})]})}),S.jsx("td",{className:"border px-4 py-2",children:S.jsx("input",{type:"text",defaultValue:g.adminNote,onBlur:T=>p(g.id,"adminNote",T.target.value),className:"border rounded px-2 py-1 w-full",placeholder:"ใส่หมายเหตุ"})}),S.jsx("td",{className:"border px-4 py-2 text-center",children:"—"})]},g.id)})})]})]})]}):S.jsxs("div",{children:[S.jsx(Eo,{}),S.jsx("div",{className:"max-w-6xl mx-auto p-6",children:S.jsx("h2",{className:"text-xl font-semibold text-red-600",children:"กรุณาเข้าสู่ระบบผู้ดูแลก่อน"})})]})}function UM(){const r=pa(),[e,t]=z.useState([]),[s,a]=z.useState(null),[l,c]=z.useState({name:"",price:"",stock:"",description:""});z.useEffect(()=>{const _=ju(os(r,"products"),b=>{const T=b.docs.map(C=>({id:C.id,...C.data()}));t(T)});return()=>_()},[r]);async function d(){if(!l.name||!l.price){alert("กรอกชื่อกับราคาก่อนเว้ย");return}try{const _=s?s.name:"";await kA(os(r,"products"),{name:l.name,price:Number(l.price),stock:Number(l.stock)||0,description:l.description,imageName:_}),c({name:"",price:"",stock:"",description:""}),a(null)}catch(_){alert("เพิ่มสินค้าล้มเหลว: "+_.message)}}async function p(_,b,T){try{const C=ls(r,"products",_);await ty(C,{[b]:b==="price"||b==="stock"?Number(T):T})}catch(C){alert("อัพเดตข้อมูลล้มเหลว: "+C.message)}}async function g(_){if(confirm("แน่ใจว่าลบสินค้าตัวนี้?"))try{await VA(ls(r,"products",_))}catch(b){alert("ลบสินค้าล้มเหลว: "+b.message)}}return S.jsxs("div",{className:"max-w-5xl mx-auto p-4",children:[S.jsx("h2",{className:"text-2xl font-bold mb-4",children:"จัดการสินค้า"}),S.jsxs("div",{className:"mb-6 space-y-2",children:[S.jsx("input",{type:"text",placeholder:"ชื่อสินค้า",className:"border p-2 rounded w-full",value:l.name,onChange:_=>c(b=>({...b,name:_.target.value}))}),S.jsx("input",{type:"number",placeholder:"ราคา",className:"border p-2 rounded w-full",value:l.price,onChange:_=>c(b=>({...b,price:_.target.value}))}),S.jsx("input",{type:"number",placeholder:"สต็อก",className:"border p-2 rounded w-full",value:l.stock,onChange:_=>c(b=>({...b,stock:_.target.value}))}),S.jsx("textarea",{placeholder:"คำอธิบายสินค้า",className:"border p-2 rounded w-full resize-none",rows:3,value:l.description,onChange:_=>c(b=>({...b,description:_.target.value}))}),S.jsx("input",{type:"file",accept:"image/*",onChange:_=>a(_.target.files[0]),className:"border p-2 rounded w-full"}),S.jsx("button",{onClick:d,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"เพิ่มสินค้า"})]}),S.jsxs("table",{className:"w-full border-collapse border",children:[S.jsx("thead",{children:S.jsxs("tr",{className:"border-b bg-gray-100",children:[S.jsx("th",{className:"border px-3 py-1",children:"รูป"}),S.jsx("th",{className:"border px-3 py-1",children:"ชื่อสินค้า"}),S.jsx("th",{className:"border px-3 py-1",children:"ราคา"}),S.jsx("th",{className:"border px-3 py-1",children:"สต็อก"}),S.jsx("th",{className:"border px-3 py-1",children:"คำอธิบาย"}),S.jsx("th",{className:"border px-3 py-1",children:"จัดการ"})]})}),S.jsxs("tbody",{children:[e.map(({id:_,name:b,price:T,stock:C,description:I,imageName:L})=>S.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[S.jsx("td",{className:"border px-3 py-1",children:L?S.jsx("img",{src:`/products/${L}`,alt:b,className:"w-24 h-24 object-cover rounded",onError:O=>{O.target.src="/products/placeholder.jpg"}}):S.jsx("span",{className:"text-gray-400 italic",children:"ไม่มีรูป"})}),S.jsx("td",{className:"border px-3 py-1",children:b}),S.jsx("td",{className:"border px-3 py-1",children:S.jsx("input",{type:"number",value:T,className:"w-24 border rounded p-1",onChange:O=>p(_,"price",O.target.value)})}),S.jsx("td",{className:"border px-3 py-1",children:S.jsx("input",{type:"number",value:C,className:"w-20 border rounded p-1",onChange:O=>p(_,"stock",O.target.value)})}),S.jsx("td",{className:"border px-3 py-1",children:S.jsx("textarea",{value:I,rows:2,className:"border p-1 rounded w-full resize-none",onChange:O=>p(_,"description",O.target.value)})}),S.jsx("td",{className:"border px-3 py-1",children:S.jsx("button",{onClick:()=>g(_),className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700",children:"ลบ"})})]},_)),e.length===0&&S.jsx("tr",{children:S.jsx("td",{colSpan:6,className:"text-center p-4",children:"ไม่มีสินค้าในระบบ"})})]})]})]})}function jM(){const r=pa(),[e,t]=z.useState([]);z.useEffect(()=>{const c=ju(os(r,"orders"),d=>{const p=d.docs.map(g=>g.data());t(p)});return()=>c()},[r]);const s=e.reduce((c,d)=>c+(d.total||0),0),a=e.length,l=e.reduce((c,d)=>(c[d.status]=(c[d.status]||0)+1,c),{});return S.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[S.jsx("h2",{className:"text-2xl font-bold mb-4",children:"รายงานสรุป"}),S.jsxs("p",{children:["ยอดขายรวม: ",S.jsxs("strong",{children:[s.toLocaleString()," บาท"]})]}),S.jsxs("p",{children:["จำนวนออเดอร์: ",S.jsx("strong",{children:a})]}),S.jsxs("div",{className:"mt-4",children:[S.jsx("h3",{className:"font-semibold mb-2",children:"จำนวนออเดอร์ตามสถานะ:"}),S.jsx("ul",{className:"list-disc list-inside",children:Object.entries(l).map(([c,d])=>S.jsxs("li",{children:[c,": ",d," ออเดอร์"]},c))})]})]})}function BM(){const r=pa(),[e,t]=z.useState([]),[s,a]=z.useState(""),[l,c]=z.useState({}),[d,p]=z.useState(new Set);z.useEffect(()=>{const T=ju(os(r,"users"),C=>{const I=C.docs.map(L=>({id:L.id,...L.data()}));t(I)});return()=>T()},[r]);const g=e.filter(T=>{const C=T.email??"",I=T.name??"",L=(s==null?void 0:s.toLowerCase())??"";return C.toLowerCase().includes(L)||I.toLowerCase().includes(L)});async function _(T){var L;const C=l[T],I=((L=e.find(O=>O.id===T))==null?void 0:L.role)??"user";if(!C||C===I){alert("ยังไม่ได้เปลี่ยนสิทธิ์ หรือเลือกสิทธิ์เหมือนเดิม");return}p(O=>new Set(O).add(T));try{const O=ls(r,"users",T);await ty(O,{role:C}),alert("อัพเดตสิทธิ์ผู้ใช้เรียบร้อย"),c(F=>{const X={...F};return delete X[T],X})}catch(O){alert("อัพเดตสิทธิ์ล้มเหลว: "+O.message)}p(O=>{const F=new Set(O);return F.delete(T),F})}async function b(T){if(confirm("ลบผู้ใช้นี้จริงหรือ?")){p(C=>new Set(C).add(T));try{await VA(ls(r,"users",T)),alert("ลบผู้ใช้เรียบร้อย")}catch(C){alert("ลบผู้ใช้ล้มเหลว: "+C.message)}p(C=>{const I=new Set(C);return I.delete(T),I})}}return S.jsxs("div",{className:"max-w-5xl mx-auto p-4",children:[S.jsx("h2",{className:"text-2xl font-bold mb-4",children:"จัดการผู้ใช้"}),S.jsx("input",{type:"text",placeholder:"ค้นหา (ชื่อ, อีเมล)",className:"border p-2 mb-4 rounded w-full",value:s,onChange:T=>a(T.target.value)}),g.map(T=>{const C=d.has(T.id),I=l[T.id]??T.role??"user";return S.jsxs("div",{className:"border p-3 rounded mb-3 shadow-sm flex flex-col gap-2",children:[S.jsxs("p",{children:["ชื่อ: ",T.name||"-"]}),S.jsxs("p",{children:["อีเมล: ",T.email]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("select",{value:I,onChange:L=>c(O=>({...O,[T.id]:L.target.value})),disabled:C,className:"border rounded p-1",children:[S.jsx("option",{value:"user",children:"ผู้ใช้ทั่วไป"}),S.jsx("option",{value:"admin",children:"แอดมิน"}),S.jsx("option",{value:"manager",children:"ผู้จัดการ"})]}),S.jsx("button",{className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 disabled:bg-gray-400",onClick:()=>_(T.id),disabled:C||I===(T.role??"user"),children:C?"กำลังบันทึก...":"บันทึกสิทธิ์"}),S.jsx("button",{className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 disabled:bg-gray-400",onClick:()=>b(T.id),disabled:C,children:C?"กำลังลบ...":"ลบผู้ใช้"})]})]},T.id)}),g.length===0&&S.jsx("p",{children:"ไม่พบผู้ใช้ที่ค้นหา"})]})}function fS(){const[r,e]=z.useState(!0),[t,s]=z.useState(!1),a=fa(),l=cs();return z.useEffect(()=>{const c=Fb(a,async d=>{if(!d){console.log("❌ ยังไม่ได้ login"),l("/login");return}console.log("✅ เข้ามาแล้ว UID:",d.uid);try{const p=await d.getIdTokenResult(!0);console.log("🎫 Custom Claims:",p.claims),p.claims.role==="admin"?(console.log("✅ เจอ custom claim role: admin แล้ว!"),s(!0)):(console.warn("❌ ไม่ใช่แอดมิน claim role=",p.claims.role),alert("มึงไม่ใช่แอดมิน!"),l("/"),s(!1))}catch(p){console.error("💥 Error ตอนโหลด custom claims:",p),alert("เกิดข้อผิดพลาด"),l("/"),s(!1)}e(!1)});return()=>c()},[a,l]),r?S.jsx("div",{children:"⏳"}):t?S.jsxs("div",{className:"admin-dashboard p-4 max-w-6xl mx-auto",children:[S.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),S.jsxs("nav",{className:"mb-6 flex gap-4",children:[S.jsx(Zl,{to:"/admin/orders",className:({isActive:c})=>c?"text-blue-600 font-bold":"text-gray-700",children:"Orders"}),S.jsx(Zl,{to:"/admin/products",className:({isActive:c})=>c?"text-blue-600 font-bold":"text-gray-700",children:"Products"}),S.jsx(Zl,{to:"/admin/reports",className:({isActive:c})=>c?"text-blue-600 font-bold":"text-gray-700",children:"Reports"}),S.jsx(Zl,{to:"/admin/users",className:({isActive:c})=>c?"text-blue-600 font-bold":"text-gray-700",children:"Users"})]}),S.jsxs(ig,{children:[S.jsx(Jt,{index:!0,element:S.jsx(uI,{to:"/admin/orders",replace:!0})}),S.jsx(Jt,{path:"orders",element:S.jsx(LM,{})}),S.jsx(Jt,{path:"products",element:S.jsx(UM,{})}),S.jsx(Jt,{path:"reports",element:S.jsx(jM,{})}),S.jsx(Jt,{path:"users",element:S.jsx(BM,{})})]})]}):null}function zM(){return S.jsxs(S.Fragment,{children:[S.jsx(Eo,{}),S.jsxs(ig,{children:[S.jsx(Jt,{path:"/",element:S.jsxs(S.Fragment,{children:[S.jsx(FN,{}),S.jsx(wM,{}),S.jsx(AM,{}),S.jsx(MM,{}),S.jsx(VM,{}),S.jsx(kM,{})]})}),S.jsx(Jt,{path:"/login",element:S.jsx(hS,{})}),S.jsx(Jt,{path:"/admin/*",element:S.jsx(fS,{})})]})]})}function dS(r,e){return function(){return r.apply(e,arguments)}}const{toString:qM}=Object.prototype,{getPrototypeOf:uy}=Object,{iterator:Uf,toStringTag:mS}=Symbol,jf=(r=>e=>{const t=qM.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ir=r=>(r=r.toLowerCase(),e=>jf(e)===r),Bf=r=>e=>typeof e===r,{isArray:Uo}=Array,Au=Bf("undefined");function HM(r){return r!==null&&!Au(r)&&r.constructor!==null&&!Au(r.constructor)&&pn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const pS=ir("ArrayBuffer");function FM(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&pS(r.buffer),e}const GM=Bf("string"),pn=Bf("function"),gS=Bf("number"),zf=r=>r!==null&&typeof r=="object",KM=r=>r===!0||r===!1,Oh=r=>{if(jf(r)!=="object")return!1;const e=uy(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(mS in r)&&!(Uf in r)},$M=ir("Date"),QM=ir("File"),YM=ir("Blob"),XM=ir("FileList"),WM=r=>zf(r)&&pn(r.pipe),JM=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||pn(r.append)&&((e=jf(r))==="formdata"||e==="object"&&pn(r.toString)&&r.toString()==="[object FormData]"))},ZM=ir("URLSearchParams"),[eV,tV,nV,rV]=["ReadableStream","Request","Response","Headers"].map(ir),iV=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bu(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let s,a;if(typeof r!="object"&&(r=[r]),Uo(r))for(s=0,a=r.length;s<a;s++)e.call(null,r[s],s,r);else{const l=t?Object.getOwnPropertyNames(r):Object.keys(r),c=l.length;let d;for(s=0;s<c;s++)d=l[s],e.call(null,r[d],d,r)}}function yS(r,e){e=e.toLowerCase();const t=Object.keys(r);let s=t.length,a;for(;s-- >0;)if(a=t[s],e===a.toLowerCase())return a;return null}const ta=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_S=r=>!Au(r)&&r!==ta;function Kp(){const{caseless:r}=_S(this)&&this||{},e={},t=(s,a)=>{const l=r&&yS(e,a)||a;Oh(e[l])&&Oh(s)?e[l]=Kp(e[l],s):Oh(s)?e[l]=Kp({},s):Uo(s)?e[l]=s.slice():e[l]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Bu(arguments[s],t);return e}const sV=(r,e,t,{allOwnKeys:s}={})=>(Bu(e,(a,l)=>{t&&pn(a)?r[l]=dS(a,t):r[l]=a},{allOwnKeys:s}),r),aV=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),oV=(r,e,t,s)=>{r.prototype=Object.create(e.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},lV=(r,e,t,s)=>{let a,l,c;const d={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),l=a.length;l-- >0;)c=a[l],(!s||s(c,r,e))&&!d[c]&&(e[c]=r[c],d[c]=!0);r=t!==!1&&uy(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},uV=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const s=r.indexOf(e,t);return s!==-1&&s===t},cV=r=>{if(!r)return null;if(Uo(r))return r;let e=r.length;if(!gS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},hV=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&uy(Uint8Array)),fV=(r,e)=>{const s=(r&&r[Uf]).call(r);let a;for(;(a=s.next())&&!a.done;){const l=a.value;e.call(r,l[0],l[1])}},dV=(r,e)=>{let t;const s=[];for(;(t=r.exec(e))!==null;)s.push(t);return s},mV=ir("HTMLFormElement"),pV=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,a){return s.toUpperCase()+a}),IT=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),gV=ir("RegExp"),vS=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),s={};Bu(t,(a,l)=>{let c;(c=e(a,l,r))!==!1&&(s[l]=c||a)}),Object.defineProperties(r,s)},yV=r=>{vS(r,(e,t)=>{if(pn(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=r[t];if(pn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},_V=(r,e)=>{const t={},s=a=>{a.forEach(l=>{t[l]=!0})};return Uo(r)?s(r):s(String(r).split(e)),t},vV=()=>{},EV=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function TV(r){return!!(r&&pn(r.append)&&r[mS]==="FormData"&&r[Uf])}const bV=r=>{const e=new Array(10),t=(s,a)=>{if(zf(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[a]=s;const l=Uo(s)?[]:{};return Bu(s,(c,d)=>{const p=t(c,a+1);!Au(p)&&(l[d]=p)}),e[a]=void 0,l}}return s};return t(r,0)},wV=ir("AsyncFunction"),AV=r=>r&&(zf(r)||pn(r))&&pn(r.then)&&pn(r.catch),ES=((r,e)=>r?setImmediate:e?((t,s)=>(ta.addEventListener("message",({source:a,data:l})=>{a===ta&&l===t&&s.length&&s.shift()()},!1),a=>{s.push(a),ta.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",pn(ta.postMessage)),SV=typeof queueMicrotask<"u"?queueMicrotask.bind(ta):typeof process<"u"&&process.nextTick||ES,RV=r=>r!=null&&pn(r[Uf]),Y={isArray:Uo,isArrayBuffer:pS,isBuffer:HM,isFormData:JM,isArrayBufferView:FM,isString:GM,isNumber:gS,isBoolean:KM,isObject:zf,isPlainObject:Oh,isReadableStream:eV,isRequest:tV,isResponse:nV,isHeaders:rV,isUndefined:Au,isDate:$M,isFile:QM,isBlob:YM,isRegExp:gV,isFunction:pn,isStream:WM,isURLSearchParams:ZM,isTypedArray:hV,isFileList:XM,forEach:Bu,merge:Kp,extend:sV,trim:iV,stripBOM:aV,inherits:oV,toFlatObject:lV,kindOf:jf,kindOfTest:ir,endsWith:uV,toArray:cV,forEachEntry:fV,matchAll:dV,isHTMLForm:mV,hasOwnProperty:IT,hasOwnProp:IT,reduceDescriptors:vS,freezeMethods:yV,toObjectSet:_V,toCamelCase:pV,noop:vV,toFiniteNumber:EV,findKey:yS,global:ta,isContextDefined:_S,isSpecCompliantForm:TV,toJSONObject:bV,isAsyncFn:wV,isThenable:AV,setImmediate:ES,asap:SV,isIterable:RV};function Ce(r,e,t,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}Y.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const TS=Ce.prototype,bS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{bS[r]={value:r}});Object.defineProperties(Ce,bS);Object.defineProperty(TS,"isAxiosError",{value:!0});Ce.from=(r,e,t,s,a,l)=>{const c=Object.create(TS);return Y.toFlatObject(r,c,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),Ce.call(c,r.message,e,t,s,a),c.cause=r,c.name=r.name,l&&Object.assign(c,l),c};const IV=null;function $p(r){return Y.isPlainObject(r)||Y.isArray(r)}function wS(r){return Y.endsWith(r,"[]")?r.slice(0,-2):r}function CT(r,e,t){return r?r.concat(e).map(function(a,l){return a=wS(a),!t&&l?"["+a+"]":a}).join(t?".":""):e}function CV(r){return Y.isArray(r)&&!r.some($p)}const xV=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function qf(r,e,t){if(!Y.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=Y.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,O){return!Y.isUndefined(O[L])});const s=t.metaTokens,a=t.visitor||_,l=t.dots,c=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(a))throw new TypeError("visitor must be a function");function g(I){if(I===null)return"";if(Y.isDate(I))return I.toISOString();if(!p&&Y.isBlob(I))throw new Ce("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(I)||Y.isTypedArray(I)?p&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function _(I,L,O){let F=I;if(I&&!O&&typeof I=="object"){if(Y.endsWith(L,"{}"))L=s?L:L.slice(0,-2),I=JSON.stringify(I);else if(Y.isArray(I)&&CV(I)||(Y.isFileList(I)||Y.endsWith(L,"[]"))&&(F=Y.toArray(I)))return L=wS(L),F.forEach(function(re,ce){!(Y.isUndefined(re)||re===null)&&e.append(c===!0?CT([L],ce,l):c===null?L:L+"[]",g(re))}),!1}return $p(I)?!0:(e.append(CT(O,L,l),g(I)),!1)}const b=[],T=Object.assign(xV,{defaultVisitor:_,convertValue:g,isVisitable:$p});function C(I,L){if(!Y.isUndefined(I)){if(b.indexOf(I)!==-1)throw Error("Circular reference detected in "+L.join("."));b.push(I),Y.forEach(I,function(F,X){(!(Y.isUndefined(F)||F===null)&&a.call(e,F,Y.isString(X)?X.trim():X,L,T))===!0&&C(F,L?L.concat(X):[X])}),b.pop()}}if(!Y.isObject(r))throw new TypeError("data must be an object");return C(r),e}function xT(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function cy(r,e){this._pairs=[],r&&qf(r,this,e)}const AS=cy.prototype;AS.append=function(e,t){this._pairs.push([e,t])};AS.toString=function(e){const t=e?function(s){return e.call(this,s,xT)}:xT;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function NV(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function SS(r,e,t){if(!e)return r;const s=t&&t.encode||NV;Y.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let l;if(a?l=a(e,t):l=Y.isURLSearchParams(e)?e.toString():new cy(e,t).toString(s),l){const c=r.indexOf("#");c!==-1&&(r=r.slice(0,c)),r+=(r.indexOf("?")===-1?"?":"&")+l}return r}class NT{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(s){s!==null&&e(s)})}}const RS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},OV=typeof URLSearchParams<"u"?URLSearchParams:cy,DV=typeof FormData<"u"?FormData:null,PV=typeof Blob<"u"?Blob:null,MV={isBrowser:!0,classes:{URLSearchParams:OV,FormData:DV,Blob:PV},protocols:["http","https","file","blob","url","data"]},hy=typeof window<"u"&&typeof document<"u",Qp=typeof navigator=="object"&&navigator||void 0,VV=hy&&(!Qp||["ReactNative","NativeScript","NS"].indexOf(Qp.product)<0),kV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",LV=hy&&window.location.href||"http://localhost",UV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hy,hasStandardBrowserEnv:VV,hasStandardBrowserWebWorkerEnv:kV,navigator:Qp,origin:LV},Symbol.toStringTag,{value:"Module"})),en={...UV,...MV};function jV(r,e){return qf(r,new en.classes.URLSearchParams,Object.assign({visitor:function(t,s,a,l){return en.isNode&&Y.isBuffer(t)?(this.append(s,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function BV(r){return Y.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function zV(r){const e={},t=Object.keys(r);let s;const a=t.length;let l;for(s=0;s<a;s++)l=t[s],e[l]=r[l];return e}function IS(r){function e(t,s,a,l){let c=t[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),p=l>=t.length;return c=!c&&Y.isArray(a)?a.length:c,p?(Y.hasOwnProp(a,c)?a[c]=[a[c],s]:a[c]=s,!d):((!a[c]||!Y.isObject(a[c]))&&(a[c]=[]),e(t,s,a[c],l)&&Y.isArray(a[c])&&(a[c]=zV(a[c])),!d)}if(Y.isFormData(r)&&Y.isFunction(r.entries)){const t={};return Y.forEachEntry(r,(s,a)=>{e(BV(s),a,t,0)}),t}return null}function qV(r,e,t){if(Y.isString(r))try{return(e||JSON.parse)(r),Y.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(r)}const zu={transitional:RS,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",a=s.indexOf("application/json")>-1,l=Y.isObject(e);if(l&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return a?JSON.stringify(IS(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return jV(e,this.formSerializer).toString();if((d=Y.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return qf(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return l||a?(t.setContentType("application/json",!1),qV(e)):e}],transformResponse:[function(e){const t=this.transitional||zu.transitional,s=t&&t.forcedJSONParsing,a=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(s&&!this.responseType||a)){const c=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?Ce.from(d,Ce.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],r=>{zu.headers[r]={}});const HV=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FV=r=>{const e={};let t,s,a;return r&&r.split(`
`).forEach(function(c){a=c.indexOf(":"),t=c.substring(0,a).trim().toLowerCase(),s=c.substring(a+1).trim(),!(!t||e[t]&&HV[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},OT=Symbol("internals");function Jl(r){return r&&String(r).trim().toLowerCase()}function Dh(r){return r===!1||r==null?r:Y.isArray(r)?r.map(Dh):String(r)}function GV(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(r);)e[s[1]]=s[2];return e}const KV=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function dp(r,e,t,s,a){if(Y.isFunction(s))return s.call(this,e,t);if(a&&(e=t),!!Y.isString(e)){if(Y.isString(s))return e.indexOf(s)!==-1;if(Y.isRegExp(s))return s.test(e)}}function $V(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function QV(r,e){const t=Y.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+t,{value:function(a,l,c){return this[s].call(this,e,a,l,c)},configurable:!0})})}let gn=class{constructor(e){e&&this.set(e)}set(e,t,s){const a=this;function l(d,p,g){const _=Jl(p);if(!_)throw new Error("header name must be a non-empty string");const b=Y.findKey(a,_);(!b||a[b]===void 0||g===!0||g===void 0&&a[b]!==!1)&&(a[b||p]=Dh(d))}const c=(d,p)=>Y.forEach(d,(g,_)=>l(g,_,p));if(Y.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(Y.isString(e)&&(e=e.trim())&&!KV(e))c(FV(e),t);else if(Y.isObject(e)&&Y.isIterable(e)){let d={},p,g;for(const _ of e){if(!Y.isArray(_))throw TypeError("Object iterator must return a key-value pair");d[g=_[0]]=(p=d[g])?Y.isArray(p)?[...p,_[1]]:[p,_[1]]:_[1]}c(d,t)}else e!=null&&l(t,e,s);return this}get(e,t){if(e=Jl(e),e){const s=Y.findKey(this,e);if(s){const a=this[s];if(!t)return a;if(t===!0)return GV(a);if(Y.isFunction(t))return t.call(this,a,s);if(Y.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Jl(e),e){const s=Y.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||dp(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let a=!1;function l(c){if(c=Jl(c),c){const d=Y.findKey(s,c);d&&(!t||dp(s,s[d],d,t))&&(delete s[d],a=!0)}}return Y.isArray(e)?e.forEach(l):l(e),a}clear(e){const t=Object.keys(this);let s=t.length,a=!1;for(;s--;){const l=t[s];(!e||dp(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const t=this,s={};return Y.forEach(this,(a,l)=>{const c=Y.findKey(s,l);if(c){t[c]=Dh(a),delete t[l];return}const d=e?$V(l):String(l).trim();d!==l&&delete t[l],t[d]=Dh(a),s[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Y.forEach(this,(s,a)=>{s!=null&&s!==!1&&(t[a]=e&&Y.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[OT]=this[OT]={accessors:{}}).accessors,a=this.prototype;function l(c){const d=Jl(c);s[d]||(QV(a,c),s[d]=!0)}return Y.isArray(e)?e.forEach(l):l(e),this}};gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(gn.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(s){this[t]=s}}});Y.freezeMethods(gn);function mp(r,e){const t=this||zu,s=e||t,a=gn.from(s.headers);let l=s.data;return Y.forEach(r,function(d){l=d.call(t,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function CS(r){return!!(r&&r.__CANCEL__)}function jo(r,e,t){Ce.call(this,r??"canceled",Ce.ERR_CANCELED,e,t),this.name="CanceledError"}Y.inherits(jo,Ce,{__CANCEL__:!0});function xS(r,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?r(t):e(new Ce("Request failed with status code "+t.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function YV(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function XV(r,e){r=r||10;const t=new Array(r),s=new Array(r);let a=0,l=0,c;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),_=s[l];c||(c=g),t[a]=p,s[a]=g;let b=l,T=0;for(;b!==a;)T+=t[b++],b=b%r;if(a=(a+1)%r,a===l&&(l=(l+1)%r),g-c<e)return;const C=_&&g-_;return C?Math.round(T*1e3/C):void 0}}function WV(r,e){let t=0,s=1e3/e,a,l;const c=(g,_=Date.now())=>{t=_,a=null,l&&(clearTimeout(l),l=null),r.apply(null,g)};return[(...g)=>{const _=Date.now(),b=_-t;b>=s?c(g,_):(a=g,l||(l=setTimeout(()=>{l=null,c(a)},s-b)))},()=>a&&c(a)]}const sf=(r,e,t=3)=>{let s=0;const a=XV(50,250);return WV(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,p=c-s,g=a(p),_=c<=d;s=c;const b={loaded:c,total:d,progress:d?c/d:void 0,bytes:p,rate:g||void 0,estimated:g&&d&&_?(d-c)/g:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};r(b)},t)},DT=(r,e)=>{const t=r!=null;return[s=>e[0]({lengthComputable:t,total:r,loaded:s}),e[1]]},PT=r=>(...e)=>Y.asap(()=>r(...e)),JV=en.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,en.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,ZV=en.hasStandardBrowserEnv?{write(r,e,t,s,a,l){const c=[r+"="+encodeURIComponent(e)];Y.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),Y.isString(s)&&c.push("path="+s),Y.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ek(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function tk(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function NS(r,e,t){let s=!ek(e);return r&&(s||t==!1)?tk(r,e):e}const MT=r=>r instanceof gn?{...r}:r;function ca(r,e){e=e||{};const t={};function s(g,_,b,T){return Y.isPlainObject(g)&&Y.isPlainObject(_)?Y.merge.call({caseless:T},g,_):Y.isPlainObject(_)?Y.merge({},_):Y.isArray(_)?_.slice():_}function a(g,_,b,T){if(Y.isUndefined(_)){if(!Y.isUndefined(g))return s(void 0,g,b,T)}else return s(g,_,b,T)}function l(g,_){if(!Y.isUndefined(_))return s(void 0,_)}function c(g,_){if(Y.isUndefined(_)){if(!Y.isUndefined(g))return s(void 0,g)}else return s(void 0,_)}function d(g,_,b){if(b in e)return s(g,_);if(b in r)return s(void 0,g)}const p={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(g,_,b)=>a(MT(g),MT(_),b,!0)};return Y.forEach(Object.keys(Object.assign({},r,e)),function(_){const b=p[_]||a,T=b(r[_],e[_],_);Y.isUndefined(T)&&b!==d||(t[_]=T)}),t}const OS=r=>{const e=ca({},r);let{data:t,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:d}=e;e.headers=c=gn.from(c),e.url=SS(NS(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(Y.isFormData(t)){if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[g,..._]=p?p.split(";").map(b=>b.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",..._].join("; "))}}if(en.hasStandardBrowserEnv&&(s&&Y.isFunction(s)&&(s=s(e)),s||s!==!1&&JV(e.url))){const g=a&&l&&ZV.read(l);g&&c.set(a,g)}return e},nk=typeof XMLHttpRequest<"u",rk=nk&&function(r){return new Promise(function(t,s){const a=OS(r);let l=a.data;const c=gn.from(a.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:g}=a,_,b,T,C,I;function L(){C&&C(),I&&I(),a.cancelToken&&a.cancelToken.unsubscribe(_),a.signal&&a.signal.removeEventListener("abort",_)}let O=new XMLHttpRequest;O.open(a.method.toUpperCase(),a.url,!0),O.timeout=a.timeout;function F(){if(!O)return;const re=gn.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),le={data:!d||d==="text"||d==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:re,config:r,request:O};xS(function(P){t(P),L()},function(P){s(P),L()},le),O=null}"onloadend"in O?O.onloadend=F:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(F)},O.onabort=function(){O&&(s(new Ce("Request aborted",Ce.ECONNABORTED,r,O)),O=null)},O.onerror=function(){s(new Ce("Network Error",Ce.ERR_NETWORK,r,O)),O=null},O.ontimeout=function(){let ce=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const le=a.transitional||RS;a.timeoutErrorMessage&&(ce=a.timeoutErrorMessage),s(new Ce(ce,le.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,r,O)),O=null},l===void 0&&c.setContentType(null),"setRequestHeader"in O&&Y.forEach(c.toJSON(),function(ce,le){O.setRequestHeader(le,ce)}),Y.isUndefined(a.withCredentials)||(O.withCredentials=!!a.withCredentials),d&&d!=="json"&&(O.responseType=a.responseType),g&&([T,I]=sf(g,!0),O.addEventListener("progress",T)),p&&O.upload&&([b,C]=sf(p),O.upload.addEventListener("progress",b),O.upload.addEventListener("loadend",C)),(a.cancelToken||a.signal)&&(_=re=>{O&&(s(!re||re.type?new jo(null,r,O):re),O.abort(),O=null)},a.cancelToken&&a.cancelToken.subscribe(_),a.signal&&(a.signal.aborted?_():a.signal.addEventListener("abort",_)));const X=YV(a.url);if(X&&en.protocols.indexOf(X)===-1){s(new Ce("Unsupported protocol "+X+":",Ce.ERR_BAD_REQUEST,r));return}O.send(l||null)})},ik=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let s=new AbortController,a;const l=function(g){if(!a){a=!0,d();const _=g instanceof Error?g:this.reason;s.abort(_ instanceof Ce?_:new jo(_ instanceof Error?_.message:_))}};let c=e&&setTimeout(()=>{c=null,l(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const d=()=>{r&&(c&&clearTimeout(c),c=null,r.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),r=null)};r.forEach(g=>g.addEventListener("abort",l));const{signal:p}=s;return p.unsubscribe=()=>Y.asap(d),p}},sk=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let s=0,a;for(;s<t;)a=s+e,yield r.slice(s,a),s=a},ak=async function*(r,e){for await(const t of ok(r))yield*sk(t,e)},ok=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},VT=(r,e,t,s)=>{const a=ak(r,e);let l=0,c,d=p=>{c||(c=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:_}=await a.next();if(g){d(),p.close();return}let b=_.byteLength;if(t){let T=l+=b;t(T)}p.enqueue(new Uint8Array(_))}catch(g){throw d(g),g}},cancel(p){return d(p),a.return()}},{highWaterMark:2})},Hf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",DS=Hf&&typeof ReadableStream=="function",lk=Hf&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),PS=(r,...e)=>{try{return!!r(...e)}catch{return!1}},uk=DS&&PS(()=>{let r=!1;const e=new Request(en.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),kT=64*1024,Yp=DS&&PS(()=>Y.isReadableStream(new Response("").body)),af={stream:Yp&&(r=>r.body)};Hf&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!af[e]&&(af[e]=Y.isFunction(r[e])?t=>t[e]():(t,s)=>{throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,s)})})})(new Response);const ck=async r=>{if(r==null)return 0;if(Y.isBlob(r))return r.size;if(Y.isSpecCompliantForm(r))return(await new Request(en.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(r)||Y.isArrayBuffer(r))return r.byteLength;if(Y.isURLSearchParams(r)&&(r=r+""),Y.isString(r))return(await lk(r)).byteLength},hk=async(r,e)=>{const t=Y.toFiniteNumber(r.getContentLength());return t??ck(e)},fk=Hf&&(async r=>{let{url:e,method:t,data:s,signal:a,cancelToken:l,timeout:c,onDownloadProgress:d,onUploadProgress:p,responseType:g,headers:_,withCredentials:b="same-origin",fetchOptions:T}=OS(r);g=g?(g+"").toLowerCase():"text";let C=ik([a,l&&l.toAbortSignal()],c),I;const L=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let O;try{if(p&&uk&&t!=="get"&&t!=="head"&&(O=await hk(_,s))!==0){let le=new Request(e,{method:"POST",body:s,duplex:"half"}),pe;if(Y.isFormData(s)&&(pe=le.headers.get("content-type"))&&_.setContentType(pe),le.body){const[P,R]=DT(O,sf(PT(p)));s=VT(le.body,kT,P,R)}}Y.isString(b)||(b=b?"include":"omit");const F="credentials"in Request.prototype;I=new Request(e,{...T,signal:C,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:s,duplex:"half",credentials:F?b:void 0});let X=await fetch(I);const re=Yp&&(g==="stream"||g==="response");if(Yp&&(d||re&&L)){const le={};["status","statusText","headers"].forEach(x=>{le[x]=X[x]});const pe=Y.toFiniteNumber(X.headers.get("content-length")),[P,R]=d&&DT(pe,sf(PT(d),!0))||[];X=new Response(VT(X.body,kT,P,()=>{R&&R(),L&&L()}),le)}g=g||"text";let ce=await af[Y.findKey(af,g)||"text"](X,r);return!re&&L&&L(),await new Promise((le,pe)=>{xS(le,pe,{data:ce,headers:gn.from(X.headers),status:X.status,statusText:X.statusText,config:r,request:I})})}catch(F){throw L&&L(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,r,I),{cause:F.cause||F}):Ce.from(F,F&&F.code,r,I)}}),Xp={http:IV,xhr:rk,fetch:fk};Y.forEach(Xp,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const LT=r=>`- ${r}`,dk=r=>Y.isFunction(r)||r===null||r===!1,MS={getAdapter:r=>{r=Y.isArray(r)?r:[r];const{length:e}=r;let t,s;const a={};for(let l=0;l<e;l++){t=r[l];let c;if(s=t,!dk(t)&&(s=Xp[(c=String(t)).toLowerCase()],s===void 0))throw new Ce(`Unknown adapter '${c}'`);if(s)break;a[c||"#"+l]=s}if(!s){const l=Object.entries(a).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(LT).join(`
`):" "+LT(l[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:Xp};function pp(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new jo(null,r)}function UT(r){return pp(r),r.headers=gn.from(r.headers),r.data=mp.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),MS.getAdapter(r.adapter||zu.adapter)(r).then(function(s){return pp(r),s.data=mp.call(r,r.transformResponse,s),s.headers=gn.from(s.headers),s},function(s){return CS(s)||(pp(r),s&&s.response&&(s.response.data=mp.call(r,r.transformResponse,s.response),s.response.headers=gn.from(s.response.headers))),Promise.reject(s)})}const VS="1.9.0",Ff={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Ff[r]=function(s){return typeof s===r||"a"+(e<1?"n ":" ")+r}});const jT={};Ff.transitional=function(e,t,s){function a(l,c){return"[Axios v"+VS+"] Transitional option '"+l+"'"+c+(s?". "+s:"")}return(l,c,d)=>{if(e===!1)throw new Ce(a(c," has been removed"+(t?" in "+t:"")),Ce.ERR_DEPRECATED);return t&&!jT[c]&&(jT[c]=!0,console.warn(a(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,c,d):!0}};Ff.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function mk(r,e,t){if(typeof r!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let a=s.length;for(;a-- >0;){const l=s[a],c=e[l];if(c){const d=r[l],p=d===void 0||c(d,l,r);if(p!==!0)throw new Ce("option "+l+" must be "+p,Ce.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ce("Unknown option "+l,Ce.ERR_BAD_OPTION)}}const Ph={assertOptions:mk,validators:Ff},br=Ph.validators;let na=class{constructor(e){this.defaults=e||{},this.interceptors={request:new NT,response:new NT}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ca(this.defaults,t);const{transitional:s,paramsSerializer:a,headers:l}=t;s!==void 0&&Ph.assertOptions(s,{silentJSONParsing:br.transitional(br.boolean),forcedJSONParsing:br.transitional(br.boolean),clarifyTimeoutError:br.transitional(br.boolean)},!1),a!=null&&(Y.isFunction(a)?t.paramsSerializer={serialize:a}:Ph.assertOptions(a,{encode:br.function,serialize:br.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ph.assertOptions(t,{baseUrl:br.spelling("baseURL"),withXsrfToken:br.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=l&&Y.merge(l.common,l[t.method]);l&&Y.forEach(["delete","get","head","post","put","patch","common"],I=>{delete l[I]}),t.headers=gn.concat(c,l);const d=[];let p=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(t)===!1||(p=p&&L.synchronous,d.unshift(L.fulfilled,L.rejected))});const g=[];this.interceptors.response.forEach(function(L){g.push(L.fulfilled,L.rejected)});let _,b=0,T;if(!p){const I=[UT.bind(this),void 0];for(I.unshift.apply(I,d),I.push.apply(I,g),T=I.length,_=Promise.resolve(t);b<T;)_=_.then(I[b++],I[b++]);return _}T=d.length;let C=t;for(b=0;b<T;){const I=d[b++],L=d[b++];try{C=I(C)}catch(O){L.call(this,O);break}}try{_=UT.call(this,C)}catch(I){return Promise.reject(I)}for(b=0,T=g.length;b<T;)_=_.then(g[b++],g[b++]);return _}getUri(e){e=ca(this.defaults,e);const t=NS(e.baseURL,e.url,e.allowAbsoluteUrls);return SS(t,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){na.prototype[e]=function(t,s){return this.request(ca(s||{},{method:e,url:t,data:(s||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function t(s){return function(l,c,d){return this.request(ca(d||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}na.prototype[e]=t(),na.prototype[e+"Form"]=t(!0)});let pk=class kS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(d=>{s.subscribe(d),l=d}).then(a);return c.cancel=function(){s.unsubscribe(l)},c},e(function(l,c,d){s.reason||(s.reason=new jo(l,c,d),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new kS(function(a){e=a}),cancel:e}}};function gk(r){return function(t){return r.apply(null,t)}}function yk(r){return Y.isObject(r)&&r.isAxiosError===!0}const Wp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wp).forEach(([r,e])=>{Wp[e]=r});function LS(r){const e=new na(r),t=dS(na.prototype.request,e);return Y.extend(t,na.prototype,e,{allOwnKeys:!0}),Y.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return LS(ca(r,a))},t}const dt=LS(zu);dt.Axios=na;dt.CanceledError=jo;dt.CancelToken=pk;dt.isCancel=CS;dt.VERSION=VS;dt.toFormData=qf;dt.AxiosError=Ce;dt.Cancel=dt.CanceledError;dt.all=function(e){return Promise.all(e)};dt.spread=gk;dt.isAxiosError=yk;dt.mergeConfig=ca;dt.AxiosHeaders=gn;dt.formToJSON=r=>IS(Y.isHTMLForm(r)?new FormData(r):r);dt.getAdapter=MS.getAdapter;dt.HttpStatusCode=Wp;dt.default=dt;const{Axios:Sk,AxiosError:Rk,CanceledError:Ik,isCancel:Ck,CancelToken:xk,VERSION:Nk,all:Ok,Cancel:Dk,isAxiosError:Pk,spread:Mk,toFormData:Vk,AxiosHeaders:kk,HttpStatusCode:Lk,formToJSON:Uk,getAdapter:jk,mergeConfig:Bk}=dt;function _k(){const e=fa().currentUser,t=pa(),s=cs(),{cart:a,clearCart:l}=ly(),c=50,[d,p]=z.useState((e==null?void 0:e.displayName)||""),[g,_]=z.useState((e==null?void 0:e.email)||""),[b,T]=z.useState(""),[C,I]=z.useState(""),[L,O]=z.useState([]),[F,X]=z.useState([]),[re,ce]=z.useState(""),[le,pe]=z.useState(""),[P,R]=z.useState(""),[x,V]=z.useState("qr"),U=a.reduce((ye,Me)=>ye+Me.price*Me.quantity,0),B=U+c;z.useEffect(()=>{(async()=>{try{const Me=await dt.get("https://raw.githubusercontent.com/kongvut/thai-province-data/master/api_province.json");O(Object.values(Me.data))}catch(Me){console.error("ดึงจังหวัดล้มเหลว:",Me)}})()},[]),z.useEffect(()=>{(async()=>{if(!re){X([]),pe("");return}try{const Me=await dt.get("https://raw.githubusercontent.com/kongvut/thai-province-data/master/api_amphure.json"),W=Object.values(Me.data).filter(ae=>ae.province_id.toString()===re);X(W)}catch(Me){console.error("ดึงอำเภอล้มเหลว:",Me)}})()},[re]);const D=async ye=>{if(ye.preventDefault(),!d||!b||!g||!C||!re||!le||!P){alert("กรอกข้อมูลให้ครบ");return}const Me=L.find(ae=>ae.id.toString()===re),W=F.find(ae=>ae.id.toString()===le);try{const ae={userId:(e==null?void 0:e.uid)||null,name:d,email:g,phone:b,address:C,province:(Me==null?void 0:Me.name_th)||"",district:(W==null?void 0:W.name_th)||"",postalCode:P,cart:a,subtotal:U,shippingFee:c,total:B,paymentMethod:x,status:"pending",adminNote:"",createdAt:tP()};await kA(os(t,"orders"),ae),l(),alert("สั่งซื้อเรียบร้อยแล้ว!"),s("/order-history")}catch(ae){console.error("ผิดพลาด:",ae),alert("สั่งซื้อไม่สำเร็จ")}};return S.jsxs("div",{children:[S.jsx(Eo,{}),S.jsxs("div",{className:"max-w-6xl mx-auto p-6 grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.length>0&&S.jsx("div",{className:"col-span-2 flex gap-4 overflow-x-auto pb-4",children:a.map(ye=>S.jsx("img",{src:ye.img,alt:ye.name,className:"w-24 h-24 object-cover rounded shadow-md border border-gray-300",title:`${ye.name} x ${ye.quantity}`},ye.id))}),S.jsxs("form",{onSubmit:D,className:"space-y-4",children:[S.jsx("h2",{className:"text-2xl font-bold",children:"ข้อมูลผู้สั่งซื้อ"}),S.jsx("input",{type:"text",value:d,disabled:!0,className:"w-full border px-3 py-2 rounded bg-gray-100 cursor-not-allowed"}),S.jsx("input",{type:"email",value:g,disabled:!0,className:"w-full border px-3 py-2 rounded bg-gray-100 cursor-not-allowed"}),S.jsx("input",{type:"text",value:b,onChange:ye=>T(ye.target.value),placeholder:"เบอร์โทรศัพท์",className:"w-full border px-3 py-2 rounded"}),S.jsx("textarea",{value:C,onChange:ye=>I(ye.target.value),placeholder:"บ้านเลขที่ / หมู่บ้าน / ถนน",className:"w-full border px-3 py-2 rounded"}),S.jsxs("select",{value:re,onChange:ye=>{ce(ye.target.value),pe("")},className:"w-full border px-3 py-2 rounded",children:[S.jsx("option",{value:"",children:"-- เลือกจังหวัด --"}),L.map(ye=>S.jsx("option",{value:ye.id,children:ye.name_th},ye.id))]}),S.jsxs("select",{value:le,onChange:ye=>pe(ye.target.value),className:"w-full border px-3 py-2 rounded",children:[S.jsx("option",{value:"",children:"-- เลือกอำเภอ --"}),F.map(ye=>S.jsx("option",{value:ye.id,children:ye.name_th},ye.id))]}),S.jsx("input",{type:"text",value:P,onChange:ye=>R(ye.target.value),placeholder:"รหัสไปรษณีย์",className:"w-full border px-3 py-2 rounded"}),S.jsx("h2",{className:"text-2xl font-bold pt-6",children:"โอนเงินผ่าน QR PromptPay"}),S.jsxs("div",{className:"border p-4 rounded bg-white",children:[S.jsx("img",{src:"/qrcode.jpg",alt:"QR Code",className:"mx-auto w-60 h-60 border border-black"}),S.jsx("p",{className:"text-center mt-2 text-sm text-gray-700",children:"บัญชี: ธนาคารกสิกรไทย • ชื่อบัญชี: นายสุรเชษฐ์ เนื่องจากจันทร์ • เลข: 187-1-76896-6"}),S.jsx("p",{className:"text-center mt-2 text-red-600 font-bold",children:"หลังโอนแล้วกด “ยืนยันคำสั่งซื้อ” ได้เลย"})]}),S.jsx("button",{type:"submit",className:"w-full bg-black text-white py-3 rounded font-bold mt-6 hover:bg-gray-800 transition",children:"ยืนยันคำสั่งซื้อ"}),S.jsx("button",{onClick:()=>s("/"),type:"button",className:"w-full bg-gray-300 text-black py-2 rounded font-semibold mt-2",children:"กลับหน้าแรก"})]}),S.jsxs("div",{className:"bg-gray-50 p-6 rounded shadow-sm",children:[S.jsx("h2",{className:"text-2xl font-bold mb-4",children:"สรุปรายการ"}),a.length===0?S.jsx("p",{children:"ยังไม่มีสินค้าในตะกร้า"}):S.jsx("ul",{className:"space-y-4",children:a.map(ye=>S.jsxs("li",{className:"flex justify-between items-center gap-4",children:[S.jsx("img",{src:ye.img,alt:ye.name,className:"w-16 h-16 rounded object-cover"}),S.jsx("div",{className:"flex-1",children:ye.name}),S.jsxs("div",{children:[ye.quantity," x ",ye.price.toLocaleString()," บาท"]})]},ye.id))}),S.jsx("hr",{className:"my-4"}),S.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[S.jsx("div",{children:"รวมสินค้า"}),S.jsxs("div",{children:[U.toLocaleString()," บาท"]})]}),S.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[S.jsx("div",{children:"ค่าจัดส่ง"}),S.jsxs("div",{children:[c.toLocaleString()," บาท"]})]}),S.jsxs("div",{className:"flex justify-between font-bold text-2xl mt-2",children:[S.jsx("div",{children:"ยอดรวม"}),S.jsxs("div",{children:[B.toLocaleString()," บาท"]})]})]})]})]})}function vk(){const[r,e]=z.useState(""),[t,s]=z.useState(""),[a,l]=z.useState(""),[c,d]=z.useState(""),[p,g]=z.useState(""),[_,b]=z.useState(""),[T,C]=z.useState(!1),I=cs(),L=async()=>{if(!T){if(p!==_){alert("รหัสผ่านไม่ตรงกัน ลองใหม่อีกรอบ");return}if(!a.match(/^0[0-9]{8,9}$/)){alert("เบอร์โทรไม่ถูกต้อง (ต้องขึ้นต้นด้วย 0 และยาว 9-10 หลัก)");return}C(!0);try{const X=(await R2(Gp,c,p)).user;await x2(X,{displayName:`${r} ${t}`,photoURL:`https://ui-avatars.com/api/?name=${r}+${t}&background=111827&color=ffffff`}),await eP(ls(oy,"users",X.uid),{uid:X.uid,email:X.email,fullName:`${r} ${t}`,phone:a,createdAt:new Date}),alert("สมัครสมาชิกสำเร็จ!"),I("/")}catch(F){alert("สมัครไม่สำเร็จ: "+F.message)}finally{C(!1)}}},O=F=>{F.key==="Enter"&&!T&&L()};return S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-black via-neutral-900 to-black px-4",children:S.jsxs("div",{className:`bg-[#181818] rounded-2xl shadow-xl max-w-md w-full p-10 border border-neutral-700\r
        transform transition-transform duration-700 ease-in-out hover:scale-105`,children:[S.jsx("h2",{className:"text-3xl font-semibold mb-8 text-center text-white tracking-wide uppercase animate-fadeIn",children:"สมัครสมาชิก"}),S.jsxs("div",{className:"flex gap-4 mb-5",children:[S.jsx("input",{type:"text",placeholder:"ชื่อ",className:`w-1/2 p-4 rounded-lg border border-neutral-700 bg-[#202020] text-white placeholder-neutral-500\r
            animate-slideInLeft`,value:r,onChange:F=>e(F.target.value),onKeyDown:O,disabled:T}),S.jsx("input",{type:"text",placeholder:"นามสกุล",className:`w-1/2 p-4 rounded-lg border border-neutral-700 bg-[#202020] text-white placeholder-neutral-500\r
            animate-slideInRight`,value:t,onChange:F=>s(F.target.value),onKeyDown:O,disabled:T})]}),S.jsx("input",{type:"tel",placeholder:"เบอร์โทรศัพท์",className:"w-full mb-5 p-4 rounded-lg border border-neutral-700 bg-[#202020] text-white placeholder-neutral-500 animate-slideInLeft",value:a,onChange:F=>l(F.target.value),onKeyDown:O,disabled:T}),S.jsx("input",{type:"email",placeholder:"อีเมล",className:"w-full mb-5 p-4 rounded-lg border border-neutral-700 bg-[#202020] text-white placeholder-neutral-500 animate-slideInRight",value:c,onChange:F=>d(F.target.value),onKeyDown:O,autoComplete:"username",disabled:T}),S.jsx("input",{type:"password",placeholder:"รหัสผ่าน",className:"w-full mb-5 p-4 rounded-lg border border-neutral-700 bg-[#202020] text-white placeholder-neutral-500 animate-slideInLeft",value:p,onChange:F=>g(F.target.value),onKeyDown:O,autoComplete:"new-password",disabled:T}),S.jsx("input",{type:"password",placeholder:"ยืนยันรหัสผ่าน",className:"w-full mb-8 p-4 rounded-lg border border-neutral-700 bg-[#202020] text-white placeholder-neutral-500 animate-slideInRight",value:_,onChange:F=>b(F.target.value),onKeyDown:O,autoComplete:"new-password",disabled:T}),S.jsx("button",{onClick:L,disabled:T,className:`w-full py-4 rounded-xl font-semibold tracking-wide transition duration-300 ${T?"bg-gray-600 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,children:T?"กำลังสมัคร...":"สมัครสมาชิก"}),S.jsxs("p",{className:"mt-6 text-center text-neutral-400 text-sm",children:["มีบัญชีอยู่แล้ว?"," ",S.jsx("button",{onClick:()=>I("/login"),className:"text-red-500 hover:text-red-400 underline font-medium",disabled:T,children:"เข้าสู่ระบบ"})]})]})})}function Ek(){const[r,e]=z.useState([]),[t,s]=z.useState(!0),[a,l]=z.useState(null),c=fa(),d=pa();return z.useEffect(()=>{const p=c.onAuthStateChanged(g=>{l(g)});return()=>p()},[c]),z.useEffect(()=>{if(!a)return;const p=xA(os(d,"orders"),Y4("userId","==",a.uid),NA("createdAt","desc")),g=ju(p,_=>{const b=_.docs.map(T=>({id:T.id,...T.data()}));e(b),s(!1)});return()=>g()},[a,d]),a?S.jsxs("div",{children:[S.jsx(Eo,{}),S.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[S.jsx("h1",{className:"text-3xl font-bold mb-6",children:"ประวัติคำสั่งซื้อของฉัน"}),t?S.jsx("p",{children:"กำลังโหลดข้อมูล..."}):r.length===0?S.jsx("p",{children:"ยังไม่มีคำสั่งซื้อ"}):S.jsx("div",{className:"space-y-6",children:r.map(p=>{var g,_;return S.jsxs("div",{className:"border p-4 rounded shadow-sm hover:shadow-md transition",children:[S.jsxs("h2",{className:"font-semibold text-xl mb-2",children:["รหัสคำสั่งซื้อ: ",p.id]}),S.jsxs("p",{children:["วันที่:"," ",(g=p.createdAt)!=null&&g.toDate?p.createdAt.toDate().toLocaleString():"ไม่ทราบ"]}),S.jsxs("p",{children:["ยอดรวม: ",(_=p.total)==null?void 0:_.toLocaleString()," บาท"]}),S.jsxs("p",{children:["สถานะ: ",p.status]}),p.adminNote&&S.jsxs("p",{className:"text-red-600",children:["หมายเหตุจากแอดมิน: ",p.adminNote]}),S.jsx(mo,{to:`/order-detail/${p.id}`,className:"text-blue-600 underline mt-2 inline-block",children:"ดูรายละเอียด"})]},p.id)})})]})]}):S.jsxs("div",{children:[S.jsx(Eo,{}),S.jsx("div",{className:"max-w-6xl mx-auto p-6",children:S.jsx("h2",{className:"text-xl font-semibold",children:"กรุณาเข้าสู่ระบบเพื่อดูประวัติคำสั่งซื้อ"})})]})}function Tk(){var l,c,d;const{orderId:r}=YR(),[e,t]=z.useState(null),[s,a]=z.useState(!0);return z.useEffect(()=>{(async()=>{try{const g=ls(oy,"orders",r),_=await J4(g);_.exists()?t(_.data()):console.error("ไม่เจอคำสั่งซื้อนี้")}catch(g){console.error("ดึงข้อมูลคำสั่งซื้อพัง:",g)}finally{a(!1)}})()},[r]),s?S.jsx("div",{className:"p-4",children:"กำลังโหลด..."}):e?S.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[S.jsx("h1",{className:"text-2xl font-bold mb-4",children:"รายละเอียดคำสั่งซื้อ"}),S.jsxs("div",{className:"mb-4",children:[S.jsx("strong",{children:"รหัสคำสั่งซื้อ:"})," ",r]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("strong",{children:"สถานะ:"})," ",e.status]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("strong",{children:"ชื่อผู้รับ:"})," ",(l=e.shippingInfo)==null?void 0:l.name]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("strong",{children:"ที่อยู่จัดส่ง:"})," ",(c=e.shippingInfo)==null?void 0:c.address]}),S.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"รายการสินค้า"}),S.jsx("ul",{className:"space-y-2",children:(d=e.items)==null?void 0:d.map((p,g)=>S.jsxs("li",{className:"border p-2 rounded",children:[S.jsx("div",{children:p.name}),S.jsxs("div",{children:["จำนวน: ",p.quantity]}),S.jsxs("div",{children:["ราคา: ",p.price," บาท"]})]},g))}),S.jsxs("div",{className:"mt-6 font-bold text-right",children:["รวมทั้งหมด: ",e.total," บาท"]})]}):S.jsx("div",{className:"p-4",children:"ไม่พบคำสั่งซื้อ"})}_R.createRoot(document.getElementById("root")).render(S.jsx(Xi.StrictMode,{children:S.jsx(bM,{children:S.jsx(MI,{children:S.jsxs(ig,{children:[S.jsx(Jt,{path:"/",element:S.jsx(zM,{})}),S.jsx(Jt,{path:"/checkout",element:S.jsx(_k,{})}),S.jsx(Jt,{path:"/login",element:S.jsx(hS,{})}),S.jsx(Jt,{path:"/register",element:S.jsx(vk,{})}),S.jsx(Jt,{path:"/order-history",element:S.jsx(Ek,{})}),S.jsx(Jt,{path:"/order/:id",element:S.jsx(Tk,{})}),S.jsx(Jt,{path:"/admin/*",element:S.jsx(fS,{})})]})})})}));
